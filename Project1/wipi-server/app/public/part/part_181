b){J.setBufferTimeAtTopQuality(b)},getBufferTimeAtTopQuality:function(){return J.getBufferTimeAtTopQuality()},setBufferTimeAtTopQualityLongForm:function(b){J.setBufferTimeAtTopQualityLongForm(b)},\ngetBufferTimeAtTopQualityLongForm:function(){return J.getBufferTimeAtTopQualityLongForm()},setFragmentLoaderRetryAttempts:function(b){J.setFragmentRetryAttempts(b)},setFragmentLoaderRetryInterval:function(b){J.setFragmentRetryInterval(b)},setManifestLoaderRetryAttempts:function(b){J.setManifestRetryAttempts(b)},setManifestLoaderRetryInterval:function(b){J.setManifestRetryInterval(b)},setXHRWithCredentialsForType:function(b,c){J.setXHRWithCredentialsForType(b,c)},getXHRWithCredentialsForType:function(b){return J.getXHRWithCredentialsForType(b)},\nsetJumpGaps:function(b){J.setJumpGaps(b)},getJumpGaps:function(){return J.getJumpGaps()},setSmallGapLimit:function(b){J.setSmallGapLimit(b)},getSmallGapLimit:function(){return J.getSmallGapLimit()},getLowLatencyEnabled:function(){return J.getLowLatencyEnabled()},setLowLatencyEnabled:function(b){return J.setLowLatencyEnabled(b)},setPreloadData:function(b){return J.setPreloadData(b)},setManifestUpdateRetryInterval:function(b){J.setManifestUpdateRetryInterval(b)},getManifestUpdateRetryInterval:function(){return J.getManifestUpdateRetryInterval()},\nsetLongFormContentDurationThreshold:function(b){J.setLongFormContentDurationThreshold(b)},setSegmentOverlapToleranceTime:function(b){J.setSegmentOverlapToleranceTime(b)},setCacheLoadThresholdForType:function(b,c){J.setCacheLoadThresholdForType(b,c)},getProtectionController:function(){return D()},attachProtectionController:function(b){aa=b},setProtectionData:function(b){F=b;na&&na.setProtectionData(F)},enableManifestDateHeaderTimeSource:function(b){J.setUseManifestDateHeaderTimeSource(b)},attachVideoContainer:function(b){if(!sa.getElement())throw\"You must first call attachView() to set the video element before calling this method\";\nsa.setVideoContainer(b)},attachTTMLRenderingDiv:function(b){if(!sa.getElement())throw\"You must first call attachView() to set the video element before calling this method\";sa.setTTMLRenderingDiv(b)},getUseDeadTimeLatencyForAbr:function(){return R.getUseDeadTimeLatency()},setUseDeadTimeLatencyForAbr:function(b){R.setUseDeadTimeLatency(b)},getThumbnail:function(b){if(0>b)return null;var c=ga.getIsDynamic()?f(b):b,d=na.getStreamForTime(c);if(null===d)return null;b=d.getThumbnailController();var e=d.getStreamInfo();\nif(!b||!e)return null;c=na.getTimeRelativeToStreamId(c,d.getId());return b.get(c)},setDefaultQualityFor:function(b,c){R||(R=$b(I).getInstance());R.setDefaultQualityFor(b,c)},getDefaultQualityFor:function(b){return R.getDefaultQualityFor(b)},getDroppedFramesInfo:function(){return R.getDroppedFramesInfo()},getCurrentSegmentInfoFor:function(b){return R.getCurrentSegmentInfoFor(b)},onInitSegmentsLoaded:function(b){Oa=b},getThroughputDict:function(b){var c=R.getThroughputHistory();return c?c.getDict(b):\n{}},getInitializeDate:function(){return E},updateSource:function(b){if(!T)throw\"MediaPlayer not initialized!\";\"string\"==typeof b&&Pb(I).getInstance().initialize(b);va.video={};va.audio={};ba=b;na.load(ba,ya)},switchSource:function(c){if(!T)throw\"MediaPlayer not initialized!\";\"string\"==typeof c&&Pb(I).getInstance().initialize(c);va.video={};va.audio={};Aa.min=0;Aa.video=0;Aa.audio=0;ba=c;Ka=0;sa.setDataOffsetAttr(0);J.setCachedDurationOffset(\"offset\",0);J.setCachedDurationOffset(\"time\",0);J.setCachedDurationOffset(\"duration\",\n0);J.setAppendingSourceState(!1);Ha=!1;Ca=[];(W||Y)&&v();b()&&P()},appendSource:N,setEndOfStreamState:function(b){J&&J.setEndOfStreamState(b)},setP2pPermission:function(b){b||J.addBufferingCount()},setP2pType:function(b,c){var d=!1;switch(b){case \"yf-eg\":case \"yf-cg2\":window.YFDashIO&&(d=!0);break;case \"xl-eg\":case \"xl-cg2\":window.xyvp&&(d=!0);break;case \"ks-eg\":case \"ks-cg2\":window.KSLoader&&(d=!0);break;case \"bili-eg\":case \"bili-cg2\":window.DIYSdk&&(d=!0);break;case \"pear-eg\":case \"pear-cg2\":window.PearDownloader&&\n(d=!0)}d?window.__DASH_P2P_TYPE__=b:c?(new Promise(function(b,d){var e=document.createElement(\"script\");e.src=c;e.onload=function(){window.clearTimeout(Da);b()};e.onerror=function(){window.clearTimeout(Da);d();L.trigger(x.PCDN_LOADED_ERROR,{code:wa.DOWNLOAD_PCDN_SCRIPT_ERROR,url:c})};document.body.appendChild(e);Da=window.setTimeout(function(){d();L.trigger(x.PCDN_LOADED_ERROR,{code:wa.DOWNLOAD_PCDN_SCRIPT_TIMEOUT,url:c})},2E3)})).then(function(){window.__DASH_P2P_TYPE__=b;U(\"[MediaPlayer] p2p Sdk Scripts Loaded\")}).catch(function(){(undefined)}):\n(undefined)},reset:function(){z(null);p(null);F=null;Ha=Na=!1;Ka=0;Ca=[];aa&&(aa.reset(),aa=null);X&&(X.reset(),X=null);L.off(x.SEGMENTS_LOADED,H,Q);L.off(x.BUFFER_LEVEL_UPDATED,ca,Q);L.off(x.PLAYBACK_ENDED,B,this);L.off(x.STREAM_BUFFERING_COMPLETED,B,this);L.off(x.PLAYBACK_TIME_UPDATED,M,this)}},function(){W=Y=T=!1;ma=!0;ja=F=aa=null;x.extend(cc);J=sc(I).getInstance();sa=ef(I).getInstance();Ka=0;Fa=!1;Ca=[];Ra={video:0,audio:0};Ia=0;L.on(x.SEGMENTS_LOADED,H,Q);L.on(x.BUFFER_LEVEL_UPDATED,\nca,Q);L.on(x.PLAYBACK_ENDED,B,this);L.on(x.STREAM_BUFFERING_COMPLETED,B,this);L.on(x.PLAYBACK_TIME_UPDATED,M,this)}(),Q}var G=new (function(){function b(){if(!(this instanceof b))throw new TypeError(\"Cannot call a class as a function\");!0;this.init()}return b.prototype.init=function(){this.STREAM=\"stream\";this.VIDEO=\"video\";this.AUDIO=\"audio\";this.TEXT=\"text\";this.FRAGMENTED_TEXT=\"fragmentedText\";this.EMBEDDED_TEXT=\"embeddedText\";this.MUXED=\"muxed\";this.IMAGE=\"image\";this.LOCATION=\"Location\";this.INITIALIZE=\n\"initialize\";this.TEXT_SHOWING=\"showing\";this.TEXT_HIDDEN=\"hidden\";this.CC1=\"CC1\";this.CC3=\"CC3\";this.STPP=\"stpp\";this.TTML=\"ttml\";this.VTT=\"vtt\";this.WVTT=\"wvtt\";this.UTF8=\"utf-8\";this.SUGGESTED_PRESENTATION_DELAY=\"suggestedPresentationDelay\";this.SCHEME_ID_URI=\"schemeIdUri\";this.START_TIME=\"starttime\";this.ABR_STRATEGY_DYNAMIC=\"abrDynamic\";this.ABR_STRATEGY_BOLA=\"abrBola\";this.ABR_STRATEGY_THROUGHPUT=\"abrThroughput\";this.MOVING_AVERAGE_SLIDING_WINDOW=\"slidingWindow\";this.MOVING_AVERAGE_EWMA=\"ewma\"},\nb}()),za=new (function(){function b(){if(!(this instanceof b))throw new TypeError(\"Cannot call a class as a function\");!0;this.init()}return b.prototype.init=function(){this.TCP_CONNECTION=\"TcpList\";this.HTTP_REQUEST=\"HttpList\";this.TRACK_SWITCH=\"RepSwitchList\";this.BUFFER_LEVEL=\"BufferLevel\";this.BUFFER_STATE=\"BufferState\";this.DVR_INFO=\"DVRInfo\";this.DROPPED_FRAMES=\"DroppedFrames\";this.SCHEDULING_INFO=\"SchedulingInfo\";this.REQUESTS_QUEUE=\"RequestsQueue\";this.MANIFEST_UPDATE=\"ManifestUpdate\";this.MANIFEST_UPDATE_STREAM_INFO=\n\"ManifestUpdatePeriodInfo\";this.MANIFEST_UPDATE_TRACK_INFO=\"ManifestUpdateRepresentationInfo\";this.PLAY_LIST=\"PlayList\";this.DVB_ERRORS=\"DVBErrors\"},b}()),wa=new (function(){function b(){if(!(this instanceof b))throw new TypeError(\"Cannot call a class as a function\");!0;this.init()}return b.prototype.init=function(){this.DOWNLOAD_ERROR=4;this.DOWNLOAD_MPD_ERROR=4001;this.DOWNLOAD_XINK_ERROR=4002;this.DOWNLOAD_INIT_SEGMENT_ERROR=4003;this.DOWNLOAD_MEDIA_SEGMENT_ERROR=4004;this.DOWNLOAD_INDEX_SEGMENT_ERROR=\n4005;this.DOWNLOAD_SWITCHING_SEGMENT_ERROR=4006;this.DOWNLOAD_OTHER_ERROR=4007;this.DOWNLOAD_FRAGMENT_ERROR=4101;this.DOWNLOAD_FRAGMENT_ERROR_RETRY_SUCCESS=4102;this.DOWNLOAD_FRAGMENT_ERROR_RETRY_FAILURE=4103;this.DOWNLOAD_FRAGMENT_ERROR_RANGE=4104;this.DOWNLOAD_FRAGMENT_ERROR_TIMEOUT=4105;this.CONNECT_FRAGMENT_ERROR_TIMEOUT=4106;this.DOWNLOAD_PCDN_SCRIPT_ERROR=4201;this.DOWNLOAD_PCDN_SCRIPT_TIMEOUT=4202;this.DOWNLOAD_PCDN_DISABLED=4203;this.MANIFEST_ERROR=5;this.MANIFEST_TYPE_ERROR=5001;this.MANIFEST_RESOLVE_ERROR=\n5002;this.MEDIA_ERROR=6;this.MEDIA_ABORTED_ERROR=6001;this.MEDIA_NETWORK_ERROR=6002;this.MEDIA_DECODE_ERROR=6003;this.MEDIA_SUPPORTED_ERROR=6004;this.MEDIA_ENCRYPTED_ERROR=6005;this.MEDIA_UNKNOWN_ERROR=6E3},b}()),dd=function Hc(){if(!(this instanceof Hc))throw new TypeError(\"Cannot call a class as a function\");!0;this.value=this.schemeIdUri=\"\"},O=g(0);e.__dashjs_factory_name=\"EventBus\";var gc=O.a.getSingletonFactory(e);gc.EVENT_PRIORITY_LOW=0;gc.EVENT_PRIORITY_HIGH=5E3;O.a.updateSingletonFactory(e.__dashjs_factory_name,\ngc);var l=gc,ad=function(){function b(){if(!(this instanceof b))throw new TypeError(\"Cannot call a class as a function\");!0}return b.prototype.extend=function(b,c){if(b){var d=!!c&&c.override;c=!!c&&c.publicOnly;for(var e in b)!b.hasOwnProperty(e)||this[e]&&!d||c&&-1===b[e].indexOf(\"public_\")||(this[e]=b[e])}},b}(),x=new (function(c){function d(){if(!(this instanceof d))throw new TypeError(\"Cannot call a class as a function\");var e=c.apply(this,arguments);if(!this)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\nreturn!e||\"object\"!=(\"undefined\"===typeof e?\"undefined\":b(e))&&\"function\"!=typeof e?this:e}return function(c,d){if(\"function\"!=typeof d&&null!==d)throw new TypeError(\"Super expression must either be null or a function, not \"+(\"undefined\"===typeof d?\"undefined\":b(d)));c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}(d,c),d}(function(c){function d(){if(!(this instanceof d))throw new TypeError(\"Cannot call a class as a function\");\n!0;var e=c.call(this);if(!this)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");e=!e||\"object\"!=(\"undefined\"===typeof e?\"undefined\":b(e))&&\"function\"!=typeof e?this:e;return e.BUFFERING_COMPLETED=\"bufferingCompleted\",e.BUFFER_CLEARED=\"bufferCleared\",e.BUFFER_LEVEL_UPDATED=\"bufferLevelUpdated\",e.BYTES_APPENDED=\"bytesAppended\",e.BYTES_APPENDED_END_FRAGMENT=\"bytesAppendedEndFragment\",e.CHECK_FOR_EXISTENCE_COMPLETED=\"checkForExistenceCompleted\",e.CURRENT_TRACK_CHANGED=\n\"currentTrackChanged\",e.DATA_UPDATE_COMPLETED=\"dataUpdateCompleted\",e.DATA_UPDATE_STARTED=\"dataUpdateStarted\",e.INITIALIZATION_LOADED=\"initializationLoaded\",e.INIT_FRAGMENT_LOADED=\"initFragmentLoaded\",e.INIT_REQUESTED=\"initRequested\",e.INTERNAL_MANIFEST_LOADED=\"internalManifestLoaded\",e.LIVE_EDGE_SEARCH_COMPLETED=\"liveEdgeSearchCompleted\",e.LOADING_COMPLETED=\"loadingCompleted\",e.LOADING_PROGRESS=\"loadingProgress\",e.LOADING_DATA_PROGRESS=\"loadingDataProgress\",e.LOADING_ABANDONED=\"loadingAborted\",e.MANIFEST_UPDATED=\n\"manifestUpdated\",e.MEDIA_FRAGMENT_LOADED=\"mediaFragmentLoaded\",e.QUOTA_EXCEEDED=\"quotaExceeded\",e.REPRESENTATION_UPDATED=\"representationUpdated\",e.SEGMENTS_LOADED=\"segmentsLoaded\",e.SERVICE_LOCATION_BLACKLIST_ADD=\"serviceLocationBlacklistAdd\",e.SERVICE_LOCATION_BLACKLIST_CHANGED=\"serviceLocationBlacklistChanged\",e.SOURCEBUFFER_REMOVE_COMPLETED=\"sourceBufferRemoveCompleted\",e.STREAMS_COMPOSED=\"streamsComposed\",e.STREAM_BUFFERING_COMPLETED=\"streamBufferingCompleted\",e.STREAM_COMPLETED=\"streamCompleted\",\ne.TEXT_TRACKS_QUEUE_INITIALIZED=\"textTracksQueueInitialized\",e.TIMED_TEXT_REQUESTED=\"timedTextRequested\",e.TIME_SYNCHRONIZATION_COMPLETED=\"timeSynchronizationComplete\",e.URL_RESOLUTION_FAILED=\"urlResolutionFailed\",e.VIDEO_CHUNK_RECEIVED=\"videoChunkReceived\",e.WALLCLOCK_TIME_UPDATED=\"wallclockTimeUpdated\",e.XLINK_ELEMENT_LOADED=\"xlinkElementLoaded\",e.XLINK_READY=\"xlinkReady\",e.REQUEST_RETRYED=\"requestRetryed\",e.BUFFER_CREATED=\"bufferCreated\",e}return function(c,d){if(\"function\"!=typeof d&&null!==d)throw new TypeError(\"Super expression must either be null or a function, not \"+\n(\"undefined\"===typeof d?\"undefined\":b(d)));c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}(d,c),d}(ad))),Dc=function Sa(){if(!(this instanceof Sa))throw new TypeError(\"Cannot call a class as a function\");!0;this.action=Sa.ACTION_DOWNLOAD;this.startTime=NaN;this.type=this.mediaInfo=this.mediaType=null;this.timescale=this.duration=NaN;this.requestEndDate=this.firstByteDate=\nthis.requestStartDate=this.serviceLocation=this.url=this.range=null;this.index=this.quality=NaN;this.wallStartTime=this.availabilityEndTime=this.availabilityStartTime=null;this.delayLoadingTime=this.bytesTotal=this.bytesLoaded=NaN;this.responseType=\"arraybuffer\";this.representationId=null;this.timeout=1E4};Dc.ACTION_DOWNLOAD=\"download\";Dc.ACTION_COMPLETE=\"complete\";var $a=Dc;f.__dashjs_factory_name=\"Debug\";var Ja=O.a.getSingletonFactory(f);h.__dashjs_factory_name=\"FragmentModel\";var Ob=O.a.getClassFactory(h);\nOb.FRAGMENT_MODEL_LOADING=\"loading\";Ob.FRAGMENT_MODEL_EXECUTED=\"executed\";Ob.FRAGMENT_MODEL_CANCELED=\"canceled\";Ob.FRAGMENT_MODEL_FAILED=\"failed\";O.a.updateClassFactory(h.__dashjs_factory_name,Ob);var pb=Ob,Xa=function Hb(b,c,d,e,f){if(!(this instanceof Hb))throw new TypeError(\"Cannot call a class as a function\");!0;this.code=b||null;this.message=c||null;this.data=d||null;this.errorCode=e||null;this.httpCode=f||null};k.__dashjs_factory_name=\"SourceBufferSink\";var zd=O.a.getClassFactory(k);n.__dashjs_factory_name=\n\"PreBufferSink\";var Kd=O.a.getClassFactory(n),Zb={DEFAULT:.5,STRONG:1,WEAK:0};p.__dashjs_factory_name=\"SwitchRequest\";var fc=O.a.getClassFactory(p);fc.NO_CHANGE=-1;fc.PRIORITY=Zb;O.a.updateClassFactory(p.__dashjs_factory_name,fc);var ha=fc;v.__dashjs_factory_name=\"ThroughputRule\";var Id=O.a.getClassFactory(v);H.__dashjs_factory_name=\"AbandonRequestsRule\";var Fd=O.a.getClassFactory(H),da=function yb(){q(this,yb);this.interval=this.responsecode=this.tresponse=this.trequest=this.range=this.actualurl=\nthis.url=this.type=this.tcpid=null;this.trace=[];this._serviceLocation=this._responseHeaders=this._mediaduration=this._tfinish=this._stream=null},Ed=function lc(){q(this,lc);this.d=this.s=null;this.b=[]};da.GET=\"GET\";da.HEAD=\"HEAD\";da.MPD_TYPE=\"MPD\";da.XLINK_EXPANSION_TYPE=\"XLinkExpansion\";da.INIT_SEGMENT_TYPE=\"InitializationSegment\";da.INDEX_SEGMENT_TYPE=\"IndexSegment\";da.MEDIA_SEGMENT_TYPE=\"MediaSegment\";da.BITSTREAM_SWITCHING_SEGMENT_TYPE=\"BitstreamSwitchingSegment\";da.OTHER_TYPE=\"other\";D.__dashjs_factory_name=\n\"BolaRule\";var Gd=O.a.getClassFactory(D);P.__dashjs_factory_name=\"ABRRulesCollection\";var kc=O.a.getClassFactory(P);kc.QUALITY_SWITCH_RULES=\"qualitySwitchRules\";kc.ABANDON_FRAGMENT_RULES=\"abandonFragmentRules\";O.a.updateSingletonFactory(P.__dashjs_factory_name,kc);var Hd=kc,Jd=function Ld(){if(!(this instanceof Ld))throw new TypeError(\"Cannot call a class as a function\");!0;this.scanType=this.height=this.width=this.bitrate=this.mediaType=null;this.qualityIndex=NaN;this.id=\"\"};ca.__dashjs_factory_name=\n\"RulesContext\";var cd=O.a.getClassFactory(ca);fa.__dashjs_factory_name=\"SwitchRequestHistory\";var F=O.a.getClassFactory(fa);ba.__dashjs_factory_name=\"DroppedFramesHistory\";var la=O.a.getClassFactory(ba);Q.__dashjs_factory_name=\"ThroughputHistory\";var Ad=O.a.getClassFactory(Q);W.__dashjs_factory_name=\"AbrController\";var jc=O.a.getSingletonFactory(W);jc.ABANDON_LOAD=\"abandonload\";jc.QUALITY_DEFAULT=0;O.a.updateSingletonFactory(W.__dashjs_factory_name,jc);var $b=jc;z.__dashjs_factory_name=\"MediaController\";\nvar E=O.a.getSingletonFactory(z);E.TRACK_SWITCH_MODE_NEVER_REPLACE=\"neverReplace\";E.TRACK_SWITCH_MODE_ALWAYS_REPLACE=\"alwaysReplace\";E.TRACK_SELECTION_MODE_HIGHEST_BITRATE=\"highestBitrate\";E.TRACK_SELECTION_MODE_WIDEST_RANGE=\"widestRange\";E.DEFAULT_INIT_TRACK_SELECTION_MODE=\"highestBitrate\";O.a.updateSingletonFactory(z.__dashjs_factory_name,E);var ec=E,wd=function(){function b(c){if(!(this instanceof b))throw new TypeError(\"Cannot call a class as a function\");if(this.offset=c._offset,this.type=c.type,\nthis.size=c.size,this.boxes=[],c.boxes)for(var d=0;d<c.boxes.length;d++)this.boxes.push(new b(c.boxes[d]));switch(this.isComplete=!0,c.type){case \"sidx\":if(this.timescale=c.timescale,this.earliest_presentation_time=c.earliest_presentation_time,this.first_offset=c.first_offset,this.references=c.references,c.references)for(this.references=[],d=0;d<c.references.length;d++)this.references.push({reference_type:c.references[d].reference_type,referenced_size:c.references[d].referenced_size,subsegment_duration:c.references[d].subsegment_duration});\nbreak;case \"emsg\":this.id=c.id;this.value=c.value;this.timescale=c.timescale;this.scheme_id_uri=c.scheme_id_uri;this.presentation_time_delta=c.presentation_time_delta;this.event_duration=c.event_duration;this.message_data=c.message_data;break;case \"mdhd\":this.timescale=c.timescale;break;case \"mfhd\":this.sequence_number=c.sequence_number;break;case \"subs\":this.entry_count=c.entry_count;this.entries=c.entries;break;case \"tfhd\":this.base_data_offset=c.base_data_offset;this.sample_description_index=c.sample_description_index;\nthis.default_sample_duration=c.default_sample_duration;this.default_sample_size=c.default_sample_size;this.default_sample_flags=c.default_sample_flags;this.flags=c.flags;break;case \"tfdt\":this.version=c.version;this.baseMediaDecodeTime=c.baseMediaDecodeTime;this.flags=c.flags;break;case \"trun\":if(this.sample_count=c.sample_count,this.first_sample_flags=c.first_sample_flags,this.data_offset=c.data_offset,this.flags=c.flags,this.samples=c.samples,c.samples){this.samples=[];for(var d=0,e=c.samples.length;d<\ne;d++)this.samples.push({sample_size:c.samples[d].sample_size,sample_duration:c.samples[d].sample_duration,sample_composition_time_offset:c.samples[d].sample_composition_time_offset})}break;case \"elst\":this.boxes=c.entries;break;case \"mvhd\":this.timescale=c.timescale}}return b.prototype.getChildBox=function(b){for(var c=0;c<this.boxes.length;c++)if(this.boxes[c].type===b)return this.boxes[c]},b.prototype.getChildBoxes=function(b){for(var c=[],d=0;d<this.boxes.length;d++)this.boxes[d].type===b&&c.push(this.boxes[d]);\nreturn c},b}();M.__dashjs_factory_name=\"IsoFile\";var xd=O.a.getClassFactory(M),yd=g(1),$c=g.n(yd),Ec=function ta(b,c,d){if(!(this instanceof ta))throw new TypeError(\"Cannot call a class as a function\");!0;this.lastCompletedOffset=b;this.found=c;this.size=d};I.__dashjs_factory_name=\"BoxParser\";var Fc=O.a.getSingletonFactory(I);N.__dashjs_factory_name=\"InitCache\";var bd=O.a.getSingletonFactory(N);T.__dashjs_factory_name=\"BufferController\";var hc=O.a.getClassFactory(T);hc.BUFFER_LOADED=\"bufferLoaded\";\nhc.BUFFER_EMPTY=\"bufferStalled\";O.a.updateClassFactory(T.__dashjs_factory_name,hc);var ic=hc,Bd=function Va(){if(!(this instanceof Va))throw new TypeError(\"Cannot call a class as a function\");!0;this.r=this.s=this.id=this.track=this.xywh=this.t=null};ma.__dashjs_factory_name=\"URIFragmentModel\";var Pb=O.a.getSingletonFactory(ma);ga.__dashjs_factory_name=\"PlaybackController\";var Gc=O.a.getSingletonFactory(ga);w.__dashjs_factory_name=\"LiveEdgeFinder\";var Cd=O.a.getClassFactory(w),xb=function oc(){oa(this,\noc);this.starttype=this.mstart=this.start=null;this.trace=[]};xb.INITIAL_PLAYOUT_START_REASON=\"initial_playout\";xb.SEEK_START_REASON=\"seek\";xb.RESUME_FROM_PAUSE_START_REASON=\"resume\";xb.METRICS_COLLECTION_START_REASON=\"metrics_collection_start\";var Pa=function La(){oa(this,La);this.stopreason=this.playbackspeed=this.duration=this.mstart=this.start=this.subreplevel=this.representationid=null};Pa.REPRESENTATION_SWITCH_STOP_REASON=\"representation_switch\";Pa.REBUFFERING_REASON=\"rebuffering\";Pa.USER_REQUEST_STOP_REASON=\n\"user_request\";Pa.END_OF_PERIOD_STOP_REASON=\"end_of_period\";Pa.END_OF_CONTENT_STOP_REASON=\"end_of_content\";Pa.METRICS_COLLECTION_STOP_REASON=\"metrics_collection_end\";Pa.FAILURE_STOP_REASON=\"failure\";xa.__dashjs_factory_name=\"BufferLevelRule\";var Dd=O.a.getClassFactory(xa);Na.__dashjs_factory_name=\"NextFragmentRequestRule\";var Rd=O.a.getClassFactory(Na);Ra.__dashjs_factory_name=\"ScheduleController\";var be=O.a.getClassFactory(Ra),B=new (function(){function b(){if(!(this instanceof b))throw new TypeError(\"Cannot call a class as a function\");\n!0;this.init()}return b.prototype.init=function(){this.BASE_URL=\"BaseURL\";this.SEGMENT_BASE=\"SegmentBase\";this.SEGMENT_TEMPLATE=\"SegmentTemplate\";this.SEGMENT_LIST=\"SegmentList\";this.SEGMENT_URL=\"SegmentURL\";this.SEGMENT_TIMELINE=\"SegmentTimeline\";this.SEGMENT_PROFILES=\"segmentProfiles\";this.ADAPTATION_SET=\"AdaptationSet\";this.REPRESENTATION=\"Representation\";this.REPRESENTATION_INDEX=\"RepresentationIndex\";this.SUB_REPRESENTATION=\"SubRepresentation\";this.INITIALIZATION=\"Initialization\";this.INITIALIZATION_MINUS=\n\"initialization\";this.MPD=\"MPD\";this.PERIOD=\"Period\";this.ASSET_IDENTIFIER=\"AssetIdentifier\";this.EVENT_STREAM=\"EventStream\";this.ID=\"id\";this.PROFILES=\"profiles\";this.SERVICE_LOCATION=\"serviceLocation\";this.RANGE=\"range\";this.INDEX=\"index\";this.MEDIA=\"media\";this.BYTE_RANGE=\"byteRange\";this.INDEX_RANGE=\"indexRange\";this.MEDIA_RANGE=\"mediaRange\";this.VALUE=\"value\";this.CONTENT_TYPE=\"contentType\";this.MIME_TYPE=\"mimeType\";this.BITSTREAM_SWITCHING=\"BitstreamSwitching\";this.BITSTREAM_SWITCHING_MINUS=\n\"bitstreamSwitching\";this.CODECS=\"codecs\";this.DEPENDENCY_ID=\"dependencyId\";this.MEDIA_STREAM_STRUCTURE_ID=\"mediaStreamStructureId\";this.METRICS=\"Metrics\";this.METRICS_MINUS=\"metrics\";this.REPORTING=\"Reporting\";this.WIDTH=\"width\";this.HEIGHT=\"height\";this.SAR=\"sar\";this.FRAMERATE=\"frameRate\";this.AUDIO_SAMPLING_RATE=\"audioSamplingRate\";this.MAXIMUM_SAP_PERIOD=\"maximumSAPPeriod\";this.START_WITH_SAP=\"startWithSAP\";this.MAX_PLAYOUT_RATE=\"maxPlayoutRate\";this.CODING_DEPENDENCY=\"codingDependency\";this.SCAN_TYPE=\n\"scanType\";this.FRAME_PACKING=\"FramePacking\";this.AUDIO_CHANNEL_CONFIGURATION=\"AudioChannelConfiguration\";this.CONTENT_PROTECTION=\"ContentProtection\";this.ESSENTIAL_PROPERTY=\"EssentialProperty\";this.SUPPLEMENTAL_PROPERTY=\"SupplementalProperty\";this.INBAND_EVENT_STREAM=\"InbandEventStream\";this.ACCESSIBILITY=\"Accessibility\";this.ROLE=\"Role\";this.RATING=\"Rating\";this.CONTENT_COMPONENT=\"ContentComponent\";this.SUBSET=\"Subset\";this.LANG=\"lang\";this.VIEWPOINT=\"Viewpoint\";this.ROLE_ASARRAY=\"Role_asArray\";\nthis.ACCESSIBILITY_ASARRAY=\"Accessibility_asArray\";this.AUDIOCHANNELCONFIGURATION_ASARRAY=\"AudioChannelConfiguration_asArray\";this.CONTENTPROTECTION_ASARRAY=\"ContentProtection_asArray\";this.MAIN=\"main\";this.DYNAMIC=\"dynamic\";this.INTERACTIVE=\"interactive\";this.MEDIA_PRESENTATION_DURATION=\"mediaPresentationDuration\";this.MINIMUM_UPDATE_PERIOD=\"minimumUpdatePeriod\";this.CODEC_PRIVATE_DATA=\"codecPrivateData\";this.BANDWITH=\"bandwidth\";this.SOURCE_URL=\"sourceURL\";this.TIMESCALE=\"timescale\";this.DURATION=\n\"duration\";this.START_NUMBER=\"startNumber\";this.PRESENTATION_TIME_OFFSET=\"presentationTimeOffset\";this.AVAILABILITY_START_TIME=\"availabilityStartTime\";this.AVAILABILITY_END_TIME=\"availabilityEndTime\";this.TIMESHIFT_BUFFER_DEPTH=\"timeShiftBufferDepth\";this.MAX_SEGMENT_DURATION=\"maxSegmentDuration\";this.PRESENTATION_TIME=\"presentationTime\";this.MIN_BUFFER_TIME=\"minBufferTime\";this.MAX_SUBSEGMENT_DURATION=\"maxSubsegmentDuration\";this.START=\"start\";this.AVAILABILITY_TIME_OFFSET=\"availabilityTimeOffset\";\nthis.AVAILABILITY_TIME_COMPLETE=\"availabilityTimeComplete\";this.CENC_DEFAULT_KID=\"cenc:default_KID\";this.DVB_PRIORITY=\"dvb:priority\";this.DVB_WEIGHT=\"dvb:weight\"},b}()),bc=function(){function b(){if(!(this instanceof b))throw new TypeError(\"Cannot call a class as a function\");!0;this.id=null;this.index=-1;this.codecPrivateData=this.codecs=this.initialization=this.segmentInfoType=this.adaptation=null;this.segmentDuration=NaN;this.startNumber=this.timescale=1;this.range=this.indexRange=null;this.presentationTimeOffset=\n0;this.MSETimeOffset=NaN;this.segmentAvailabilityRange=null;this.availableSegmentsNumber=0;this.height=this.width=this.bandwidth=NaN;this.scanType=null;this.maxPlayoutRate=NaN;this.availabilityTimeOffset=0;this.availabilityTimeComplete=!0}return b.hasInitialization=function(b){return null!==b.initialization||null!==b.range},b.hasSegments=function(b){return b.segmentInfoType!==B.BASE_URL&&b.segmentInfoType!==B.SEGMENT_BASE&&!b.indexRange},b}();cb.__dashjs_factory_name=\"RepresentationController\";var ce=\nO.a.getClassFactory(cb);Y.__dashjs_factory_name=\"URLUtils\";var Ib=O.a.getSingletonFactory(Y),Jc=function Wa(){if(!(this instanceof Wa))throw new TypeError(\"Cannot call a class as a function\");!0;this.media=this.mediaRange=this.index=this.indexRange=null;this.duration=NaN;this.replacementTime=null;this.wallStartTime=this.availabilityIdx=this.availabilityEndTime=this.availabilityStartTime=this.presentationStartTime=this.mediaStartTime=this.replacementNumber=NaN;this.representation=null};ya.__dashjs_factory_name=\n\"TimelineSegmentsGetter\";var Sd=O.a.getClassFactory(ya);tb.__dashjs_factory_name=\"TemplateSegmentsGetter\";var Td=O.a.getClassFactory(tb);Da.__dashjs_factory_name=\"ListSegmentsGetter\";var Ud=O.a.getClassFactory(Da);Bb.__dashjs_factory_name=\"SegmentsGetter\";var Zd=O.a.getClassFactory(Bb);Cb.__dashjs_factory_name=\"RequestModifier\";var Kc=O.a.getSingletonFactory(Cb);Db.__dashjs_factory_name=\"XHRLoader\";var Yd=O.a.getClassFactory(Db);Za.__dashjs_factory_name=\"P2PLoader\";var Xd=O.a.getClassFactory(Za);\nnb.__dashjs_factory_name=\"FetchLoader\";var Wd=O.a.getClassFactory(nb);Fa.__dashjs_factory_name=\"ErrorHandler\";var Ya=O.a.getSingletonFactory(Fa);Ya.CAPABILITY_ERROR_MEDIASOURCE=\"mediasource\";Ya.CAPABILITY_ERROR_MEDIAKEYS=\"mediakeys\";Ya.DOWNLOAD_ERROR_ID_MANIFEST=\"manifest\";Ya.DOWNLOAD_ERROR_ID_SIDX=\"SIDX\";Ya.DOWNLOAD_ERROR_ID_CONTENT=\"content\";Ya.DOWNLOAD_ERROR_ID_INITIALIZATION=\"initialization\";Ya.DOWNLOAD_ERROR_ID_XLINK=\"xlink\";Ya.DOWNLOAD_ERROR_ID_PCDN_SDK=\"pcdnsdk\";Ya.MANIFEST_ERROR_ID_CODEC=\n\"codec\";Ya.MANIFEST_ERROR_ID_PARSE=\"parse\";Ya.MANIFEST_ERROR_ID_NOSTREAMS=\"nostreams\";Ya.TIMED_TEXT_ERROR_ID_PARSE=\"parse\";O.a.updateSingletonFactory(Fa.__dashjs_factory_name,Ya);var Ab=Ya;jb.__dashjs_factory_name=\"ArrayBufferHandler\";var Vd=O.a.getSingletonFactory(jb),sb={video:null,audio:null};Ub.__dashjs_factory_name=\"HTTPLoader\";var rc=O.a.getClassFactory(Ub);ob.__dashjs_factory_name=\"SegmentBaseLoader\";var $d=O.a.getSingletonFactory(ob);Fb.__dashjs_factory_name=\"DashHandler\";var Nc=O.a.getClassFactory(Fb);\nNc.SEGMENTS_UNAVAILABLE_ERROR_CODE=1;O.a.updateClassFactory(Fb.__dashjs_factory_name,Nc);var ae=Nc;Gb.__dashjs_factory_name=\"StreamProcessor\";var ge=O.a.getClassFactory(Gb);Wb.__dashjs_factory_name=\"EventController\";var he=O.a.getClassFactory(Wb),ee=function kb(){if(!(this instanceof kb))throw new TypeError(\"Cannot call a class as a function\");!0;this.segmentType=this.mediaInfo=this.streamId=null;this.index=this.quality=NaN;this.bytes=null;this.duration=this.end=this.start=NaN;this.endFragment=this.representationId=\nnull},de=function(c){function d(e){if(!(this instanceof d))throw new TypeError(\"Cannot call a class as a function\");!0;var f=c.call(this);if(!this)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");f=!f||\"object\"!=(\"undefined\"===typeof f?\"undefined\":b(f))&&\"function\"!=typeof f?this:f;return f.url=e||null,f.checkForExistenceOnly=!0,f}return function(c,d){if(\"function\"!=typeof d&&null!==d)throw new TypeError(\"Super expression must either be null or a function, not \"+\n(\"undefined\"===typeof d?\"undefined\":b(d)));c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}(d,c),d}($a);Mb.__dashjs_factory_name=\"FragmentLoader\";var uc=O.a.getClassFactory(Mb);uc.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=1;uc.FRAGMENT_LOADER_ERROR_NULL_REQUEST=2;O.a.updateClassFactory(Mb.__dashjs_factory_name,uc);var fe=uc;Vb.__dashjs_factory_name=\"FragmentController\";var ie=\nO.a.getClassFactory(Vb);vb.__dashjs_factory_name=\"Stream\";var oe=O.a.getClassFactory(vb);dc.__dashjs_factory_name=\"ManifestUpdater\";var pe=O.a.getClassFactory(dc);Tb.__dashjs_factory_name=\"MediaPlayerModel\";var Oc=O.a.getSingletonFactory(Tb);Oc.DEFAULT_UTC_TIMING_SOURCE={scheme:\"urn:mpeg:dash:utc:http-xsdate:2014\",value:\"http://time.akamai.com/?iso\"};O.a.updateSingletonFactory(Tb.__dashjs_factory_name,Oc);var sc=Oc,cc=new (function(c){function d(){if(!(this instanceof d))throw new TypeError(\"Cannot call a class as a function\");\n!0;var e=c.call(this);if(!this)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");e=!e||\"object\"!=(\"undefined\"===typeof e?\"undefined\":b(e))&&\"function\"!=typeof e?this:e;return e.AST_IN_FUTURE=\"astInFuture\",e.BUFFER_EMPTY=\"bufferStalled\",e.BUFFER_LOADED=\"bufferLoaded\",e.BUFFER_LEVEL_STATE_CHANGED=\"bufferStateChanged\",e.ERROR=\"error\",e.FRAGMENT_LOADING_COMPLETED=\"fragmentLoadingCompleted\",e.FRAGMENT_LOADING_HEADER_RECEIVED=\"fragmentLoadingHeaderReceived\",e.FRAGMENT_LOADING_PROGRESS=\n\"fragmentLoadingProgress\",e.FRAGMENT_LOADING_STARTED=\"fragmentLoadingStarted\",e.FRAGMENT_P2P_LOAD_INFO=\"fragmentP2pLoadInfo\",e.FRAGMENT_LOADING_ABANDONED=\"fragmentLoadingAbandoned\",e.FRAGMENT_LOADED_ERROR=\"fragmentLoadedError\",e.PCDN_LOADED_ERROR=\"pcdnLoadedError\",e.LOG=\"log\",e.MANIFEST_LOADED=\"manifestLoaded\",e.METRICS_CHANGED=\"metricsChanged\",e.METRIC_CHANGED=\"metricChanged\",e.METRIC_ADDED=\"metricAdded\",e.METRIC_UPDATED=\"metricUpdated\",e.PERIOD_SWITCH_COMPLETED=\"periodSwitchCompleted\",e.PERIOD_SWITCH_STARTED=\n\"periodSwitchStarted\",e.QUALITY_CHANGE_REQUESTED=\"qualityChangeRequested\",e.QUALITY_CHANGE_DOWNLOADED=\"qualityChangeDownloaded\",e.QUALITY_CHANGE_RENDERED=\"qualityChangeRendered\",e.TRACK_CHANGE_RENDERED=\"trackChangeRendered\",e.SOURCE_INITIALIZED=\"sourceInitialized\",e.STREAM_INITIALIZED=\"streamInitialized\",e.STREAM_TEARDOWN_COMPLETE=\"streamTeardownComplete\",e.TEXT_TRACKS_ADDED=\"allTextTracksAdded\",e.TEXT_TRACK_ADDED=\"textTrackAdded\",e.TTML_PARSED=\"ttmlParsed\",e.TTML_TO_PARSE=\"ttmlToParse\",e.CAN_PLAY=\n\"canPlay\",e.PLAYBACK_ENDED=\"playbackEnded\",e.PLAYBACK_ERROR=\"playbackError\",e.PLAYBACK_NOT_ALLOWED=\"playbackNotAllowed\",e.PLAYBACK_METADATA_LOADED=\"playbackMetaDataLoaded\",e.PLAYBACK_PAUSED=\"playbackPaused\",e.PLAYBACK_PLAYING=\"playbackPlaying\",e.PLAYBACK_PROGRESS=\"playbackProgress\",e.PLAYBACK_RATE_CHANGED=\"playbackRateChanged\",e.PLAYBACK_SEEKED=\"playbackSeeked\",e.PLAYBACK_SEEKING=\"playbackSeeking\",e.PLAYBACK_SEEK_ASKED=\"playbackSeekAsked\",e.PLAYBACK_STALLED=\"playbackStalled\",e.PLAYBACK_STARTED=\"playbackStarted\",\ne.PLAYBACK_TIME_UPDATED=\"playbackTimeUpdated\",e.PLAYBACK_WAITING=\"playbackWaiting\",e.MANIFEST_VALIDITY_CHANGED=\"manifestValidityChanged\",e.DELAY_TO_APPEND_TO_BUFFER=\"delayToAppendBuffer\",e.GET_NEXT_FRAGMENT=\"getNextFragment\",e.APPENDING_NEXT_SOURCE=\"appendingNextSource\",e.APPENDED_NEXT_SOURCE=\"appendedNextSource\",e.APPENDED_NEXT_SOURCE_DURATION_CHANGED=\"appendedNextSourceDurationChanged\",e.START_OFFSET_TIME_WARNING=\"startOffsetTimeWarning\",e}return function(c,d){if(\"function\"!=typeof d&&null!==d)throw new TypeError(\"Super expression must either be null or a function, not \"+\n(\"undefined\"===typeof d?\"undefined\":b(d)));c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}(d,c),d}(ad));Sb.__dashjs_factory_name=\"TimeSyncController\";var vc=O.a.getSingletonFactory(Sb);vc.TIME_SYNC_FAILED_ERROR_CODE=1;vc.HTTP_TIMEOUT_MS=5E3;O.a.updateSingletonFactory(Sb.__dashjs_factory_name,vc);var qe=vc,ff=g(8),je=g.n(ff);ib.__dashjs_factory_name=\"ObjectUtils\";var gd=\nO.a.getSingletonFactory(ib),fd=function lb(b,c){if(!(this instanceof lb))throw new TypeError(\"Cannot call a class as a function\");!0;this.data={baseUrls:b||null,selectedIdx:c||NaN};this.children=[]};Nb.__dashjs_factory_name=\"BaseURLTreeModel\";var me=O.a.getClassFactory(Nb);wb.__dashjs_factory_name=\"DVBSelector\";var le=O.a.getClassFactory(wb);eb.__dashjs_factory_name=\"BasicSelector\";var ke=O.a.getClassFactory(eb);Eb.__dashjs_factory_name=\"BaseURLSelector\";var wc=O.a.getClassFactory(Eb);wc.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=\n1;wc.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=\"Failed to resolve a valid URL\";O.a.updateClassFactory(Eb.__dashjs_factory_name,wc);var ne=wc,Pc=function pa(b,c,d,e){if(!(this instanceof pa))throw new TypeError(\"Cannot call a class as a function\");!0;this.url=b||\"\";this.serviceLocation=c||b||\"\";this.dvb_priority=d||1;this.dvb_weight=e||1;this.availabilityTimeOffset=0;this.availabilityTimeComplete=!0};Pc.DEFAULT_DVB_PRIORITY=1;Pc.DEFAULT_DVB_WEIGHT=1;var Lc=Pc;ub.__dashjs_factory_name=\"BaseURLController\";\nvar re=O.a.getSingletonFactory(ub);Xb.__dashjs_factory_name=\"MediaSourceController\";var se=O.a.getSingletonFactory(Xb);Yb.__dashjs_factory_name=\"StreamController\";var We=O.a.getSingletonFactory(Yb),hd=function(c){function d(e,f){if(!(this instanceof d))throw new TypeError(\"Cannot call a class as a function\");!0;var g=c.call(this);if(!this)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");g=!g||\"object\"!=(\"undefined\"===typeof g?\"undefined\":b(g))&&\"function\"!=typeof g?\nthis:g;return g.url=e||null,g.type=f||null,g.mediaType=G.STREAM,g.responseType=\"\",g}return function(c,d){if(\"function\"!=typeof d&&null!==d)throw new TypeError(\"Super expression must either be null or a function, not \"+(\"undefined\"===typeof d?\"undefined\":b(d)));c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}(d,c),d}($a);Lb.__dashjs_factory_name=\"XlinkLoader\";var Qc=O.a.getClassFactory(Lb);\nQc.XLINK_LOADER_ERROR_LOADING_FAILURE=1;O.a.updateClassFactory(Lb.__dashjs_factory_name,Qc);var te=Qc,id=function(b){function c(b){var c=b.localName;return null==c&&(c=b.baseName),null!=c&&\"\"!=c||(c=b.nodeName),c}function d(b){return\"string\"==typeof b?b.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&apos;\"):b}function e(b,c,d,e){for(var f=0;f<b.length;f++){var g=b[f];if(\"string\"==typeof g){if(g==e)break}else if(g instanceof RegExp){if(g.test(e))break}else if(\"function\"==\ntypeof g&&g(c,d,e))break}return f!=b.length}function f(c,d,f){switch(b.arrayAccessForm){case \"property\":c[d]instanceof Array?c[d+\"_asArray\"]=c[d]:c[d+\"_asArray\"]=[c[d]]}!(c[d]instanceof Array)&&0<b.arrayAccessFormPaths.length&&e(b.arrayAccessFormPaths,c,d,f)&&(c[d]=[c[d]])}function g(b){var c=b.split(/[-T:+Z]/g),d=new Date(c[0],c[1]-1,c[2]),e=c[5].split(\".\");(d.setHours(c[3],c[4],e[0]),1<e.length&&d.setMilliseconds(e[1]),c[6]&&c[7])?(c=60*c[6]+Number(c[7]),c=0+(\"-\"==(/\\d\\d-\\d\\d:\\d\\d$/.test(b)?\"-\":\n\"+\")?-1*c:c),d.setMinutes(d.getMinutes()-c-d.getTimezoneOffset())):-1!==b.indexOf(\"Z\",b.length-1)&&(d=new Date(Date.UTC(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds())));return d}function h(d,l){var m,k;if(9==d.nodeType){for(var q={},n=d.childNodes,t=0;t<n.length;t++)1==(m=n[t]).nodeType&&(b.ignoreRoot?q=h(m):(q={})[k=c(m)]=h(m));return q}if(1==d.nodeType){(q={}).__cnt=0;for(var p=[],n=d.childNodes,t=0;t<n.length;t++)if(k=c(m=n[t]),8!=m.nodeType){var u=\nl+\".\"+k;if(!(1==m.nodeType&&0<b.xmlElementsFilter.length)||e(b.xmlElementsFilter,q,k,u))if(q.__cnt++,null==q[k]){var z=h(m,u);if(\"#text\"!=k||/[^\\s]/.test(z))(m={})[k]=z,p.push(m);q[k]=z;f(q,k,u)}else{null!=q[k]&&(q[k]instanceof Array||(q[k]=[q[k]],f(q,k,u)));z=h(m,u);if(\"#text\"!=k||/[^\\s]/.test(z))(m={})[k]=z,p.push(m);q[k][q[k].length]=z}}q.__children=p;n=c(d);for(t=0;t<d.attributes.length;t++){p=d.attributes[t];q.__cnt++;u=p.value;m=0;for(z=b.matchers.length;m<z;m++){var v=b.matchers[m];v.test(p,\nn)&&(u=v.converter(p.value))}q[b.attributePrefix+p.name]=u}d=d.prefix;return null!=d&&\"\"!=d&&(q.__cnt++,q.__prefix=d),null!=q[\"#text\"]&&(q.__text=q[\"#text\"],q.__text instanceof Array&&(q.__text=q.__text.join(\"\\n\")),b.stripWhitespaces&&(q.__text=q.__text.trim()),delete q[\"#text\"],\"property\"==b.arrayAccessForm&&delete q[\"#text_asArray\"],q.__text=function(c,d,f){return 0<b.datetimeAccessFormPaths.length?(f=f.split(\".#\")[0],e(b.datetimeAccessFormPaths,c,d,f)?g(c):c):c}(q.__text,k,l+\".\"+k)),null!=q[\"#cdata-section\"]&&\n(q.__cdata=q[\"#cdata-section\"],delete q[\"#cdata-section\"],\"property\"==b.arrayAccessForm&&delete q[\"#cdata-section_asArray\"]),0==q.__cnt&&\"text\"==b.emptyNodeForm?q=\"\":1==q.__cnt&&null!=q.__text?q=q.__text:1!=q.__cnt||null==q.__cdata||b.keepCData?1<q.__cnt&&null!=q.__text&&b.skipEmptyTextNodesForObj&&(b.stripWhitespaces&&\"\"==q.__text||\"\"==q.__text.trim())&&delete q.__text:q=q.__cdata,delete q.__cnt,!b.enableToStringFunc||null==q.__text&&null==q.__cdata||(q.toString=function(){return(null!=this.__text?\nthis.__text:\"\")+(null!=this.__cdata?this.__cdata:\"\")}),q}if(3==d.nodeType||4==d.nodeType)return d.nodeValue}function l(c,e,f,g){e=\"<\"+(null!=c&&null!=c.__prefix?c.__prefix+\":\":\"\")+e;if(null!=f)for(var h=0;h<f.length;h++){var l=f[h],m=c[l];b.escapeMode&&(m=d(m));e+=\" \"+l.substr(b.attributePrefix.length)+\"=\";b.useDoubleQuotes?e+='\"'+m+'\"':e+=\"'\"+m+\"'\"}return e+(g?\"/>\":\">\")}function m(b,c){return\"</\"+(null!=b.__prefix?b.__prefix+\":\":\"\")+c+\">\"}function k(c,d){return\"property\"==b.arrayAccessForm&&(e=d.toString(),\nf=\"_asArray\",-1!==e.indexOf(f,e.length-f.length))||0==d.toString().indexOf(b.attributePrefix)||0==d.toString().indexOf(\"__\")||c[d]instanceof Function;var e,f}function q(b){var c=0;if(b instanceof Object)for(var d in b)k(b,d)||c++;return c}function n(c){var d=[];if(c instanceof Object)for(var e in c)-1==e.toString().indexOf(\"__\")&&0==e.toString().indexOf(b.attributePrefix)&&d.push(e);return d}function t(c){var e=\"\";if(c instanceof Object){var f=\"\";c=(null!=c.__cdata&&(f+=\"<![CDATA[\"+c.__cdata+\"]]\\x3e\"),\nnull!=c.__text&&(b.escapeMode?f+=d(c.__text):f+=c.__text),f);e+=c}else null!=c&&(b.escapeMode?e+=d(c):e+=c);return e}function p(c,d){var f=\"\";if(0<q(c))for(var g in c){var h;(h=!k(c,g))&&!(h=\"\"==d)&&(h=\"\"===d?g:d+\".\"+g,h=0==b.jsonPropertiesFilter.length||\"\"==h||e(b.jsonPropertiesFilter,c,g,h));if(h){var u=c[g];h=n(u);if(null==u||null==u)f+=l(u,g,h,!0);else if(u instanceof Object)if(u instanceof Array){var z=g,v=d,y=\"\";if(0==u.length)y+=l(u,z,h,!0);else for(h=0;h<u.length;h++)y+=l(u[h],z,n(u[h]),!1),\ny+=p(u[h],\"\"===v?z:v+\".\"+z),y+=m(u[h],z);f+=y}else u instanceof Date?(f+=l(u,g,h,!1),f+=u.toISOString(),f+=m(u,g)):0<q(u)||null!=u.__text||null!=u.__cdata?(f+=l(u,g,h,!1),f+=p(u,\"\"===d?g:d+\".\"+g),f+=m(u,g)):f+=l(u,g,h,!0);else f+=l(u,g,h,!1),f+=t(u),f+=m(u,g)}}return f+t(c)}b=b||{};void 0===b.escapeMode&&(b.escapeMode=!0);void 0===b.attributePrefix&&(b.attributePrefix=\"_\");b.arrayAccessForm=b.arrayAccessForm||\"none\";b.emptyNodeForm=b.emptyNodeForm||\"text\";void 0===b.enableToStringFunc&&(b.enableToStringFunc=\n!0);b.arrayAccessFormPaths=b.arrayAccessFormPaths||[];void 0===b.skipEmptyTextNodesForObj&&(b.skipEmptyTextNodesForObj=!0);void 0===b.stripWhitespaces&&(b.stripWhitespaces=!0);b.datetimeAccessFormPaths=b.datetimeAccessFormPaths||[];void 0===b.useDoubleQuotes&&(b.useDoubleQuotes=!1);b.xmlElementsFilter=b.xmlElementsFilter||[];b.jsonPropertiesFilter=b.jsonPropertiesFilter||[];void 0===b.keepCData&&(b.keepCData=!1);void 0===b.ignoreRoot&&(b.ignoreRoot=!1);this.parseXmlString=function(b){var c;window.ActiveXObject||\nwindow;if(void 0===b)return null;if(window.DOMParser){var d=new window.DOMParser;try{0<(c=d.parseFromString(b,\"text/xml\")).getElementsByTagNameNS(\"*\",\"parsererror\").length&&(c=null)}catch(Ta){c=null}}else 0==b.indexOf(\"<?\")&&(b=b.substr(b.indexOf(\"?>\")+2)),(c=new ActiveXObject(\"Microsoft.XMLDOM\")).async=\"false\",c.loadXML(b);return c};this.asArray=function(b){return void 0===b||null==b?[]:b instanceof Array?b:[b]};this.toXmlDateTime=function(b){return b instanceof Date?b.toISOString():\"number\"==typeof b?\n(new Date(b)).toISOString():null};this.asDateTime=function(b){return\"string\"==typeof b?g(b):b};this.xml2json=function(b){return h(b)};this.xml_str2json=function(b){b=this.parseXmlString(b);return null!=b?this.xml2json(b):null};this.json2xml_str=function(b){return p(b,\"\")};this.json2xml=function(b){b=this.json2xml_str(b);return this.parseXmlString(b)};this.getVersion=function(){return\"1.2.0\"}};Sc.__dashjs_factory_name=\"XlinkController\";var Be=O.a.getClassFactory(Sc),Mc=\"function\"==typeof Symbol&&\"symbol\"==\nb(Symbol.iterator)?function(c){return\"undefined\"===typeof c?\"undefined\":b(c)}:function(c){return c&&\"function\"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?\"symbol\":\"undefined\"===typeof c?\"undefined\":b(c)};Jb.__dashjs_factory_name=\"ObjectIron\";var jd=O.a.getClassFactory(Jb),gf=function(){function b(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;\"value\"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(c,d,e){return d&&\nb(c.prototype,d),e&&b(c,e),c}}(),xc=function(){function b(c,d){if(!(this instanceof b))throw new TypeError(\"Cannot call a class as a function\");!0;this._test=c;this._converter=d}return gf(b,[{key:\"test\",get:function(){return this._test}},{key:\"converter\",get:function(){return this._converter}}]),b}(),xe=function(c){function d(){if(!(this instanceof d))throw new TypeError(\"Cannot call a class as a function\");return function(c,d){if(!c)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\nreturn!d||\"object\"!=(\"undefined\"===typeof d?\"undefined\":b(d))&&\"function\"!=typeof d?c:d}(this,c.call(this,function(b,c){var d,e=(ka(d={},B.MPD,[B.ID,B.PROFILES]),ka(d,B.PERIOD,[B.ID]),ka(d,B.BASE_URL,[B.SERVICE_LOCATION,B.BYTE_RANGE]),ka(d,B.SEGMENT_BASE,[B.INDEX_RANGE]),ka(d,B.INITIALIZATION,[B.RANGE]),ka(d,B.REPRESENTATION_INDEX,[B.RANGE]),ka(d,B.SEGMENT_LIST,[B.INDEX_RANGE]),ka(d,B.BITSTREAM_SWITCHING,[B.RANGE]),ka(d,B.SEGMENT_URL,[B.MEDIA_RANGE,B.INDEX_RANGE]),ka(d,B.SEGMENT_TEMPLATE,[B.INDEX_RANGE,\nB.MEDIA,B.INDEX,B.INITIALIZATION_MINUS,B.BITSTREAM_SWITCHING_MINUS]),ka(d,B.ASSET_IDENTIFIER,[B.VALUE,B.ID]),ka(d,B.EVENT_STREAM,[B.VALUE]),ka(d,B.ADAPTATION_SET,[B.PROFILES,B.MIME_TYPE,B.SEGMENT_PROFILES,B.CODECS,B.CONTENT_TYPE]),ka(d,B.FRAME_PACKING,[B.VALUE,B.ID]),ka(d,B.AUDIO_CHANNEL_CONFIGURATION,[B.VALUE,B.ID]),ka(d,B.CONTENT_PROTECTION,[B.VALUE,B.ID]),ka(d,B.ESSENTIAL_PROPERTY,[B.VALUE,B.ID]),ka(d,B.SUPPLEMENTAL_PROPERTY,[B.VALUE,B.ID]),ka(d,B.INBAND_EVENT_STREAM,[B.VALUE,B.ID]),ka(d,B.ACCESSIBILITY,\n[B.VALUE,B.ID]),ka(d,B.ROLE,[B.VALUE,B.ID]),ka(d,B.RATING,[B.VALUE,B.ID]),ka(d,B.VIEWPOINT,[B.VALUE,B.ID]),ka(d,B.CONTENT_COMPONENT,[B.CONTENT_TYPE]),ka(d,B.REPRESENTATION,[B.ID,B.DEPENDENCY_ID,B.MEDIA_STREAM_STRUCTURE_ID]),ka(d,B.SUBSET,[B.ID]),ka(d,B.METRICS,[B.METRICS_MINUS]),ka(d,B.REPORTING,[B.VALUE,B.ID]),d);return e.hasOwnProperty(c)?(c=e[c],void 0!==c&&0<=c.indexOf(b.name)):!1},function(b){return String(b)}))}return function(c,d){if(\"function\"!=typeof d&&null!==d)throw new TypeError(\"Super expression must either be null or a function, not \"+\n(\"undefined\"===typeof d?\"undefined\":b(d)));c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}(d,c),d}(xc),td=/^([-])?P(([\\d.]*)Y)?(([\\d.]*)M)?(([\\d.]*)D)?T?(([\\d.]*)H)?(([\\d.]*)M)?(([\\d.]*)S)?/,ue=function(c){function d(){if(!(this instanceof d))throw new TypeError(\"Cannot call a class as a function\");return function(c,d){if(!c)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\nreturn!d||\"object\"!=(\"undefined\"===typeof d?\"undefined\":b(d))&&\"function\"!=typeof d?c:d}(this,c.call(this,function(b){for(var c=[B.MIN_BUFFER_TIME,B.MEDIA_PRESENTATION_DURATION,B.MINIMUM_UPDATE_PERIOD,B.TIMESHIFT_BUFFER_DEPTH,B.MAX_SEGMENT_DURATION,B.MAX_SUBSEGMENT_DURATION,G.SUGGESTED_PRESENTATION_DELAY,B.START,G.START_TIME,B.DURATION],d=c.length,e=0;e<d;e++)if(b.nodeName===c[e])return td.test(b.value);return!1},function(b){b=td.exec(b);var c=31536E3*parseFloat(b[2]||0)+2592E3*parseFloat(b[4]||0)+\n86400*parseFloat(b[6]||0)+3600*parseFloat(b[8]||0)+60*parseFloat(b[10]||0)+parseFloat(b[12]||0);return void 0!==b[1]&&(c=-c),c}))}return function(c,d){if(\"function\"!=typeof d&&null!==d)throw new TypeError(\"Super expression must either be null or a function, not \"+(\"undefined\"===typeof d?\"undefined\":b(d)));c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}(d,c),d}(xc),ud=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,\nve=function(c){function d(){if(!(this instanceof d))throw new TypeError(\"Cannot call a class as a function\");return function(c,d){if(!c)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!d||\"object\"!=(\"undefined\"===typeof d?\"undefined\":b(d))&&\"function\"!=typeof d?c:d}(this,c.call(this,function(b){return ud.test(b.value)},function(b){b=ud.exec(b);var c;if(c=Date.UTC(parseInt(b[1],10),parseInt(b[2],10)-1,parseInt(b[3],10),parseInt(b[4],10),parseInt(b[5],10),\nb[6]&&parseInt(b[6],10)||0,b[7]&&1E3*parseFloat(b[7])||0),b[9]&&b[10]){var d=60*parseInt(b[9],10)+parseInt(b[10],10);c+=(\"+\"===b[8]?-1:1)*d*6E4}return new Date(c)}))}return function(c,d){if(\"function\"!=typeof d&&null!==d)throw new TypeError(\"Super expression must either be null or a function, not \"+(\"undefined\"===typeof d?\"undefined\":b(d)));c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,\nd):c.__proto__=d)}(d,c),d}(xc),hf=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,we=function(c){function d(){if(!(this instanceof d))throw new TypeError(\"Cannot call a class as a function\");return function(c,d){if(!c)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!d||\"object\"!=(\"undefined\"===typeof d?\"undefined\":b(d))&&\"function\"!=typeof d?c:d}(this,c.call(this,function(b){return hf.test(b.value)},function(b){return parseFloat(b)}))}return function(c,d){if(\"function\"!=\ntypeof d&&null!==d)throw new TypeError(\"Super expression must either be null or a function, not \"+(\"undefined\"===typeof d?\"undefined\":b(d)));c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}(d,c),d}(xc),jf=function(){function b(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;\"value\"in e&&(e.writable=!0);Object.defineProperty(b,e.key,\ne)}}return function(c,d,e){return d&&b(c.prototype,d),e&&b(c,e),c}}(),kf=function(){function b(c){if(!(this instanceof b))throw new TypeError(\"Cannot call a class as a function\");!0;this._merge=(this._name=c)&&c.length&&c.charAt(0)===c.charAt(0).toUpperCase()}return jf(b,[{key:\"name\",get:function(){return this._name}},{key:\"merge\",get:function(){return this._merge}}]),b}(),lf=function(){function b(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;\"value\"in\ne&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(c,d,e){return d&&b(c.prototype,d),e&&b(c,e),c}}(),Rb=function(){function b(c,d,e){var f=this;if(!(this instanceof b))throw new TypeError(\"Cannot call a class as a function\");!0;this._name=c||\"\";this._properties=[];this._children=e||[];Array.isArray(d)&&d.forEach(function(b){f._properties.push(new kf(b))})}return lf(b,[{key:\"name\",get:function(){return this._name}},{key:\"children\",get:function(){return this._children}},{key:\"properties\",\nget:function(){return this._properties}}]),b}(),kd=function(c){function d(){if(!(this instanceof d))throw new TypeError(\"Cannot call a class as a function\");!0;var e=[B.PROFILES,B.WIDTH,B.HEIGHT,B.SAR,B.FRAMERATE,B.AUDIO_SAMPLING_RATE,B.MIME_TYPE,B.SEGMENT_PROFILES,B.CODECS,B.MAXIMUM_SAP_PERIOD,B.START_WITH_SAP,B.MAX_PLAYOUT_RATE,B.CODING_DEPENDENCY,B.SCAN_TYPE,B.FRAME_PACKING,B.AUDIO_CHANNEL_CONFIGURATION,B.CONTENT_PROTECTION,B.ESSENTIAL_PROPERTY,B.SUPPLEMENTAL_PROPERTY,B.INBAND_EVENT_STREAM],e=\nc.call(this,B.ADAPTATION_SET,e,[new Rb(B.REPRESENTATION,e,[new Rb(B.SUB_REPRESENTATION,e)])]);if(!this)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=(\"undefined\"===typeof e?\"undefined\":b(e))&&\"function\"!=typeof e?this:e}return function(c,d){if(\"function\"!=typeof d&&null!==d)throw new TypeError(\"Super expression must either be null or a function, not \"+(\"undefined\"===typeof d?\"undefined\":b(d)));c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,\nenumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}(d,c),d}(Rb),ld=function(c){function d(){if(!(this instanceof d))throw new TypeError(\"Cannot call a class as a function\");!0;var e=[B.SEGMENT_BASE,B.SEGMENT_TEMPLATE,B.SEGMENT_LIST],e=c.call(this,B.PERIOD,e,[new Rb(B.ADAPTATION_SET,e,[new Rb(B.REPRESENTATION,e)])]);if(!this)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=(\"undefined\"===\ntypeof e?\"undefined\":b(e))&&\"function\"!=typeof e?this:e}return function(c,d){if(\"function\"!=typeof d&&null!==d)throw new TypeError(\"Super expression must either be null or a function, not \"+(\"undefined\"===typeof d?\"undefined\":b(d)));c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}(d,c),d}(Rb);hb.__dashjs_factory_name=\"DashParser\";var Ae=O.a.getClassFactory(hb),ye=\"function\"==\ntypeof Symbol&&\"symbol\"==b(Symbol.iterator)?function(c){return\"undefined\"===typeof c?\"undefined\":b(c)}:function(c){return c&&\"function\"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?\"symbol\":\"undefined\"===typeof c?\"undefined\":b(c)};Kb.__dashjs_factory_name=\"DashBilibiliParser\";var ze=O.a.getClassFactory(Kb);zc.__dashjs_factory_name=\"ManifestLoader\";var yc=O.a.getClassFactory(zc);yc.MANIFEST_LOADER_ERROR_PARSING_FAILURE=1;yc.MANIFEST_LOADER_ERROR_LOADING_FAILURE=2;O.a.updateClassFactory(zc.__dashjs_factory_name,\nyc);var Ve=yc;Tc.__dashjs_factory_name=\"Capabilities\";var sd=O.a.getSingletonFactory(Tc);ab.__dashjs_factory_name=\"ManifestModel\";var af=O.a.getSingletonFactory(ab),Ce=function rb(){if(!(this instanceof rb))throw new TypeError(\"Cannot call a class as a function\");!0;this.TcpList=[];this.HttpList=[];this.RepSwitchList=[];this.BufferLevel=[];this.BufferState=[];this.PlayList=[];this.DroppedFrames=[];this.SchedulingInfo=[];this.DVRInfo=[];this.ManifestUpdate=[];this.RequestsQueue=null;this.DVBErrors=\n[]},De=function ea(){if(!(this instanceof ea))throw new TypeError(\"Cannot call a class as a function\");!0;this.tconnect=this.tclose=this.topen=this.dest=this.tcpid=null},Ee=function Ba(){if(!(this instanceof Ba))throw new TypeError(\"Cannot call a class as a function\");!0;this.lto=this.to=this.mt=this.t=null},Fe=function zb(){if(!(this instanceof zb))throw new TypeError(\"Cannot call a class as a function\");!0;this.level=this.t=null},Ge=function Ua(){if(!(this instanceof Ua))throw new TypeError(\"Cannot call a class as a function\");\n!0;this.target=null;this.state=ic.BUFFER_EMPTY},He=function Qb(){if(!(this instanceof Qb))throw new TypeError(\"Cannot call a class as a function\");!0;this.manifestInfo=this.range=this.time=null},Ie=function qb(){if(!(this instanceof qb))throw new TypeError(\"Cannot call a class as a function\");!0;this.droppedFrames=this.time=null},Le=function mc(){Ac(this,mc);this.availabilityStartTime=this.fetchTime=this.requestTime=this.type=this.mediaType=null;this.clientTimeOffset=this.presentationStartTime=0;\nthis.buffered=this.currentTime=null;this.latency=0;this.streamInfo=[];this.representationInfo=[]},Me=function ac(){Ac(this,ac);this.duration=this.start=this.index=this.id=null},Ne=function S(){Ac(this,S);this.fragmentInfoType=this.startNumber=this.presentationTimeOffset=this.streamIndex=this.mediaType=this.index=this.id=null},Je=function Ga(){if(!(this instanceof Ga))throw new TypeError(\"Cannot call a class as a function\");!0;this.state=this.range=this.quality=this.duration=this.availabilityStartTime=\nthis.startTime=this.type=this.t=this.mediaType=null},Ke=function nc(){if(!(this instanceof nc))throw new TypeError(\"Cannot call a class as a function\");!0;this.loadingRequests=[];this.executedRequests=[]};Bc.__dashjs_factory_name=\"MetricsModel\";var cf=O.a.getSingletonFactory(Bc);Uc.__dashjs_factory_name=\"VideoModel\";var ef=O.a.getSingletonFactory(Uc),Oe=[{oldKey:\"dashjs_vbitrate\",newKey:\"dashjs_video_bitrate\"},{oldKey:\"dashjs_abitrate\",newKey:\"dashjs_audio_bitrate\"},{oldKey:\"dashjs_vsettings\",newKey:\"dashjs_video_settings\"},\n{oldKey:\"dashjs_asettings\",newKey:\"dashjs_audio_settings\"}];Vc.__dashjs_factory_name=\"DOMStorage\";var df=O.a.getSingletonFactory(Vc),Ue=g(2),md=function ra(){if(!(this instanceof ra))throw new TypeError(\"Cannot call a class as a function\");!0;this.MSETimeOffset=this.mediaInfo=this.fragmentDuration=this.DVRWindow=this.quality=this.id=null},nd=function L(){if(!(this instanceof L))throw new TypeError(\"Cannot call a class as a function\");!0;this.streamInfo=this.type=this.index=this.id=null;this.representationCount=\n0;this.contentProtection=this.mimeType=this.codec=this.roles=this.audioChannelConfiguration=this.accessibility=this.viewpoint=this.lang=null;this.isText=!1;this.bitrateList=this.KID=null},od=function Z(){if(!(this instanceof Z))throw new TypeError(\"Cannot call a class as a function\");!0;this.index=this.id=null;this.duration=this.start=NaN;this.manifestInfo=null;this.isLast=!0},Qe=function Qa(){if(!(this instanceof Qa))throw new TypeError(\"Cannot call a class as a function\");!0;this.DVRWindowSize=\nNaN;this.availableFrom=this.loadedTime=null;this.duration=this.minBufferTime=NaN;this.isDynamic=!1;this.maxFragmentDuration=null},pd=function Ta(){if(!(this instanceof Ta))throw new TypeError(\"Cannot call a class as a function\");!0;this.id=this.presentationTime=this.duration=NaN;this.messageData=\"\";this.eventStream=null;this.presentationTimeDelta=NaN},mf=g(9),Pe=g.n(mf);Wc.__dashjs_factory_name=\"DashAdapter\";var Ze=O.a.getSingletonFactory(Wc),Re=function Ma(){if(!(this instanceof Ma))throw new TypeError(\"Cannot call a class as a function\");\n!0;this.period=null;this.index=-1;this.type=null},vd=function Od(){if(!(this instanceof Od))throw new TypeError(\"Cannot call a class as a function\");!0;this.id=null;this.index=-1;this.start=this.duration=NaN;this.mpd=null};vd.DEFAULT_ID=\"defaultId\";var tc=vd,Se=function Md(){if(!(this instanceof Md))throw new TypeError(\"Cannot call a class as a function\");!0;this.manifest=null;this.suggestedPresentationDelay=0;this.availabilityStartTime=null;this.maxSegmentDuration=this.timeShiftBufferDepth=this.availabilityEndTime=\nNumber.POSITIVE_INFINITY;this.mediaPresentationDuration=this.minimumUpdatePeriod=NaN},qd=function Nd(){if(!(this instanceof Nd))throw new TypeError(\"Cannot call a class as a function\");!0;this.period=this.representation=this.adaptionSet=null;this.timescale=1;this.schemeIdUri=this.value=\"\"};Xc.__dashjs_factory_name=\"DashManifestModel\";var $e=O.a.getSingletonFactory(Xc),Te=function(){function b(){if(!(this instanceof b))throw new TypeError(\"Cannot call a class as a function\");!0}return b.round10=function(b,\nc){var d=c;c=void 0===d||0==+d?Math.round(b):(d=+d,null===(b=+b)||isNaN(b)||\"number\"!=typeof d||0!=d%1)?NaN:(b=b.toString().split(\"e\"),+((b=(b=Math.round(+(b[0]+\"e\"+(b[1]?+b[1]-d:-d)))).toString().split(\"e\"))[0]+\"e\"+(b[1]?+b[1]+d:d)));return c},b}();Yc.__dashjs_factory_name=\"DashMetrics\";var bf=O.a.getSingletonFactory(Yc);Zc.__dashjs_factory_name=\"TimelineConverter\";var Ye=O.a.getSingletonFactory(Zc),nf=g(6),rd=g.n(nf);Cc.__dashjs_factory_name=\"MediaPlayer\";var Rc=O.a.getClassFactory(Cc);Rc.events=\ncc;O.a.updateClassFactory(Cc.__dashjs_factory_name,Rc);d.a=Rc},function(b,c,d){var e={encode:function(b){for(var c=[],d=0;d<b.length;++d){var e=b.charCodeAt(d);128>e?c.push(e):2048>e?(c.push(192|e>>6),c.push(128|63&e)):65536>e?(c.push(224|e>>12),c.push(128|63&e>>6),c.push(128|63&e)):(c.push(240|e>>18),c.push(128|63&e>>12),c.push(128|63&e>>6),c.push(128|63&e))}return c},decode:function(b){for(var c=[],d=0;d<b.length;){var e=b[d++];128>e||(224>e?(e=(31&e)<<6,e|=63&b[d++]):240>e?(e=(15&e)<<12,e|=(63&\nb[d++])<<6,e|=63&b[d++]):(e=(7&e)<<18,e|=(63&b[d++])<<12,e|=(63&b[d++])<<6,e|=63&b[d++]));c.push(String.fromCharCode(e))}return c.join(\"\")}};var f=function(b){for(var c,d=0,e=[],f=0|b.length/3;0<f--;)c=(b[d]<<16)+(b[d+1]<<8)+b[d+2],d+=3,e.push(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(63&c>>18)),e.push(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(63&c>>12)),e.push(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(63&\nc>>6)),e.push(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(63&c));return 2==b.length-d?(c=(b[d]<<16)+(b[d+1]<<8),e.push(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(63&c>>18)),e.push(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(63&c>>12)),e.push(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(63&c>>6)),e.push(\"=\")):1==b.length-d&&(c=b[d]<<16,e.push(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(63&\nc>>18)),e.push(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(63&c>>12)),e.push(\"==\")),e.join(\"\")};var g=function(){for(var b=[],c=0;64>c;++c)b[\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charCodeAt(c)]=c;return b[61]=0,b}();var h=function(b){for(var c=0,d=[],e=0|b.length/4;0<e--;){var f=(g[b.charCodeAt(c)]<<18)+(g[b.charCodeAt(c+1)]<<12)+(g[b.charCodeAt(c+2)]<<6)+g[b.charCodeAt(c+3)];d.push(255&f>>16);d.push(255&f>>8);d.push(255&f);c+=4}return d&&\n(\"=\"==b.charAt(c-2)?(d.pop(),d.pop()):\"=\"==b.charAt(c-1)&&d.pop()),d};var k={encode:function(b){for(var c=[],d=0;d<b.length;++d)c.push(b.charCodeAt(d));return c},decode:function(b){for(b=0;b<s.length;++b)a[b]=String.fromCharCode(a[b]);return a.join(\"\")}};c.decode=function(b){b=h(b);return e.decode(b)};c.decodeArray=function(b){b=h(b);return new Uint8Array(b)};c.encode=function(b){b=e.encode(b);return f(b)};c.encodeASCII=function(b){b=k.encode(b);return f(b)}},function(b,c,d){Object.defineProperty(c,\n\"__esModule\",{value:!0});c.BUFFERING=void 0;var e=d(4);c.BUFFERING={PLAYBACK:{PLAYING:1,SEEKING:2,SWITCHING_QUALITY:3,SWITCHING_SOURCE:4,UPDATING_SOURCE:5,APPENDING_SOURCE:6},TYPE:{UNKNOWN:0,SEEKING:10,SEEKING_INSIDE_BUFFERED:11,SEEKING_OUTSIDE_BUFFERED:12,NETWORK:20,NETWORK_CONNECT_TIMEOUT:21,NETWORK_READING_TIMEOUT:22,NETWORK_DOWNLOAD_TIMEOUT:23,NETWORK_DOWNLOAD_ERROR:24,NETWORK_POOR:25,MEDIA:30,MEDIA_ERR_ABORTED:31,MEDIA_ERR_NETWORK:32,MEDIA_ERR_DECODE:33,MEDIA_ERR_SRC_NOT_SUPPORTED:34,MEDIA_DECODING_PERFORMANCE:35,\nGAP:40,GAP_BEFORE_CURRENT:41,GAP_AFTER_CURRENT:42,PERFORMANCE:50,PERFORMANCE_UNKNOWN:51,INTERNAL:60,INTERNAL_STARTING:61,INTERNAL_ENDING:62,INTERNAL_UNNORMAL_RANGES:63}};b=function(){function b(b){this.video=b}return b.prototype.getInfo=function(b){var d={type:-1};if(!b)return d;try{var e=this.video,f=e.currentTime,g=e.duration,h=e.readyState,m=e.buffered,k=m&&m.length,n=e.seeking,p=c.BUFFERING.TYPE.UNKNOWN,u=b.playbackState||c.BUFFERING.PLAYBACK.PLAYING;if(n&&u===c.BUFFERING.PLAYBACK.PLAYING&&(u=\nc.BUFFERING.PLAYBACK.SEEKING),d={type:p,isSeeking:n,cTime:f,duration:g,rState:h,nRanges:k,vLength:b.videoBufferLength,aLength:b.audioBufferLength,activity:b.networkActivity,vSpeed:Math.round(b.videoSpeed),aSpeed:Math.round(b.audioSpeed)},u===c.BUFFERING.PLAYBACK.SEEKING)p=0===k?c.BUFFERING.TYPE.SEEKING_OUTSIDE_BUFFERED:c.BUFFERING.TYPE.SEEKING_INSIDE_BUFFERED;else{var v=this.checkGapInfo(),A=v.nativeBufferLength;if(d.nLength=A,d.cRange=v.start+\"-\"+v.end,v.hasGap)p=v.type,d.gap=v.gapStart+\"-\"+v.gapEnd,\nd.gapLength=v.gapLength;else if(.5>A){var W=this.checkLackOfBufferInfo(b),p=W.type;d.vCode=W.videoErrorCode;d.aCode=W.audioErrorCode}else p=2<=h?c.BUFFERING.TYPE.PERFORMANCE:c.BUFFERING.TYPE.PERFORMANCE_UNKNOWN}var z=this.checkNativeErrorInfo();z.type&&(p=z.type,d.nCode=z.code);var M=b.fragmentLoadingInfo;if(M&&M.video){var I=M.video;d.vFragment=I.id+\"-\"+I.index;b.latestPlayurlErrorHTTPCode&&(d.hCode=b.latestPlayurlErrorHTTPCode)}M&&M.audio&&(I=M.audio,d.aFragment=I.id+\"-\"+I.index,b.latestPlayurlErrorHTTPCode&&\n(d.hCode=b.latestPlayurlErrorHTTPCode));d.type=\"\"+u+(p||\"00\")}catch(N){throw Error(N.message);}return d},b.prototype.checkGapInfo=function(){var b=this.video;var d=b.currentTime,e=b.buffered,f=e&&e.length,g=0,h=!1,m=0,k=0,n={start:0,end:0},p=0,v=c.BUFFERING.TYPE.UNKNOWN;if(f&&1<f)for(var A=0;A<f;A++){var Q=e.start(A);b=e.end(A);Q<=d&&b>=d&&(g=Math.floor(1E3*(b-d))/1E3,n={start:Q,end:b},v===c.BUFFERING.TYPE.GAP_BEFORE_CURRENT?k=Q:m=b);Q>d&&1>=Q-d&&v!==c.BUFFERING.TYPE.GAP_BEFORE_CURRENT&&(h=!0,v=c.BUFFERING.TYPE.GAP_AFTER_CURRENT,\nk=k?Math.min(k,Q):Q,m=n.end);3>d-b&&0<=d-b&&(h=!0,v=c.BUFFERING.TYPE.GAP_BEFORE_CURRENT,m=b,k=n.start)}else 1===f&&(b=e.end(0),n={start:e.start(0),end:b},g=Math.floor(1E3*(b-d))/1E3);return h&&(p=Math.round(1E3*(k-m))/1E3),{type:v,start:n.start,end:n.end,nativeBufferLength:g,hasGap:h,gapStart:m,gapEnd:k,gapLength:p}},b.prototype.checkLackOfBufferInfo=function(b){var d=c.BUFFERING.TYPE.UNKNOWN,e=this.video,d=e.currentTime,f=e.buffered,g=e.duration,h=e.readyState,m=e=0;f&&f.length?g&&.5>g-d?d=c.BUFFERING.TYPE.INTERNAL_ENDING:\n(b=this.checkNetworkInfo(b),d=b.type,e=b.videoErrorCode,m=b.audioErrorCode):d=d<=b.startOffsetTime&&1>=h?c.BUFFERING.TYPE.INTERNAL_STARTING:100>(b.networkActivity.length&&b.networkActivity.reduce(function(b,c){return b+c}))?c.BUFFERING.TYPE.NETWORK_POOR:c.BUFFERING.TYPE.INTERNAL_UNNORMAL_RANGES;return{type:d,videoErrorCode:e,audioErrorCode:m}},b.prototype.checkNetworkInfo=function(b){var d=c.BUFFERING.TYPE.UNKNOWN,f=this.video.currentTime,g=b.videoBufferLength||0,h=b.audioBufferLength||0,m=b.networkWarningHistory,\nk=this.getCurrentNetworkWarningInfo({mediaType:e.STRING.VIDEO,currentQn:b.videoCurrentQn,networkWarningHistory:m,warningTime:f+g,bufferLength:g},.5);b=this.getCurrentNetworkWarningInfo({mediaType:e.STRING.AUDIO,currentQn:b.audioCurrentQn,networkWarningHistory:m,warningTime:f+h,bufferLength:h},.5);k=k.code;b=b.code;f=this.getBufferingTypeByPoorNetwork(k);m=this.getBufferingTypeByPoorNetwork(b);return f||m?(d=f||\"00\",m&&(d=\"\"+d+m)):d=c.BUFFERING.TYPE.NETWORK,{type:d,videoErrorCode:k,audioErrorCode:b,\nvideoBufferLength:g,audioBufferLength:h}},b.prototype.checkNativeErrorInfo=function(){var b=this.video.error,d=b&&b.code||0,e=c.BUFFERING.TYPE.UNKNOWN;if(b&&d)switch(d){case 1:e=c.BUFFERING.TYPE.MEDIA_ERR_ABORTED;break;case 2:e=c.BUFFERING.TYPE.MEDIA_ERR_NETWORK;break;case 3:e=c.BUFFERING.TYPE.MEDIA_ERR_DECODE;break;case 4:e=c.BUFFERING.TYPE.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:e=c.BUFFERING.TYPE.MEDIA}return{type:e,code:d}},b.prototype.getCurrentNetworkWarningInfo=function(b,c){if(void 0===\nc&&(c=1),!b)return{code:0};var d=b.mediaType,e={code:0,type:\"\",mediaType:b.mediaType},f=b.networkWarningHistory,g=b.warningTime,h=b.bufferLength,m=b.currentQn;if(f.length&&h<c){g+=c;try{var k=f.filter(function(b){return b.mediaType===d&&b.startTime<=g+c&&b.startTime+b.duration>=g&&b.id===m.toString()});k.length&&(e=k[k.length-1])}catch(ca){throw Error(\"getCurrentNetworkWarningInfo error, \"+JSON.stringify(ca));}}return e},b.prototype.getBufferingTypeByPoorNetwork=function(b){var d=c.BUFFERING.TYPE.UNKNOWN;\nif(b)switch(b){case e.ERROR.CONNECT_FRAGMENT_ERROR_TIMEOUT:d=c.BUFFERING.TYPE.NETWORK_CONNECT_TIMEOUT;break;case e.ERROR.DOWNLOAD_FRAGMENT_ERROR_TIMEOUT:d=c.BUFFERING.TYPE.NETWORK_DOWNLOAD_TIMEOUT;break;case e.ERROR.DOWNLOAD_FRAGMENT_ERROR:d=c.BUFFERING.TYPE.NETWORK_DOWNLOAD_ERROR}return d},b}();c.default=b},function(b,c,d){var e=Array.isArray,f=Object.keys,g=Object.prototype.hasOwnProperty;b.exports=function C(b,c){if(b===c)return!0;var d;var h=e(b);var m=e(c);if(h&&m){if((m=b.length)!=c.length)return!1;\nfor(h=0;h<m;h++)if(!C(b[h],c[h]))return!1;return!0}if(h!=m)return!1;h=b instanceof Date;m=c instanceof Date;if(h!=m)return!1;if(h&&m)return b.getTime()==c.getTime();h=b instanceof RegExp;m=c instanceof RegExp;if(h!=m)return!1;if(h&&m)return b.toString()==c.toString();if(b instanceof Object&&c instanceof Object){var k=f(b);if((m=k.length)!==f(c).length)return!1;for(h=0;h<m;h++)if(!g.call(c,k[h]))return!1;for(h=0;h<m;h++)if(!C(b[d=k[h]],c[d]))return!1;return!0}return!1}},function(b,c,d){!function(b){var c=\n{42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,\n181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},d=function(b){var d=b;return c.hasOwnProperty(b)&&(d=c[b]),String.fromCharCode(d)},e={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},f={17:2,18:4,21:6,22:8,23:10,19:13,20:15},g={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},h={25:2,26:4,29:6,30:8,31:10,27:13,28:15},m=\"white green blue cyan red yellow magenta black transparent\".split(\" \"),\nk={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(b){this.time=b},log:function(b,c){this.verboseLevel>=this.verboseFilter[b]&&(undefined)}},n=function(b){for(var c=[],d=0;d<b.length;d++)c.push(b[d].toString(16));return c},p=function(b,c,d,e,f){this.foreground=b||\"white\";this.underline=c||!1;this.italics=d||!1;this.background=e||\"black\";this.flash=f||!1};p.prototype={reset:function(){this.foreground=\"white\";this.italics=\nthis.underline=!1;this.background=\"black\";this.flash=!1},setStyles:function(b){for(var c=[\"foreground\",\"underline\",\"italics\",\"background\",\"flash\"],d=0;d<c.length;d++){var e=c[d];b.hasOwnProperty(e)&&(this[e]=b[e])}},isDefault:function(){return\"white\"===this.foreground&&!this.underline&&!this.italics&&\"black\"===this.background&&!this.flash},equals:function(b){return this.foreground===b.foreground&&this.underline===b.underline&&this.italics===b.italics&&this.background===b.background&&this.flash===\nb.flash},copy:function(b){this.foreground=b.foreground;this.underline=b.underline;this.italics=b.italics;this.background=b.background;this.flash=b.flash},toString:function(){return\"color=\"+this.foreground+\", underline=\"+this.underline+\", italics=\"+this.italics+\", background=\"+this.background+\", flash=\"+this.flash}};var v=function(b,c,d,e,f,g){this.uchar=b||\" \";this.penState=new p(c,d,e,f,g)};v.prototype={reset:function(){this.uchar=\" \";this.penState.reset()},setChar:function(b,c){this.uchar=b;this.penState.copy(c)},\nsetPenState:function(b){this.penState.copy(b)},equals:function(b){return this.uchar===b.uchar&&this.penState.equals(b.penState)},copy:function(b){this.uchar=b.uchar;this.penState.copy(b.penState)},isEmpty:function(){return\" \"===this.uchar&&this.penState.isDefault()}};var fa=function(){this.chars=[];for(var b=0;32>b;b++)this.chars.push(new v);this.pos=0;this.currPenState=new p};fa.prototype={equals:function(b){for(var c=!0,d=0;32>d;d++)if(!this.chars[d].equals(b.chars[d])){c=!1;break}return c},copy:function(b){for(var c=\n0;32>c;c++)this.chars[c].copy(b.chars[c])},isEmpty:function(){for(var b=!0,c=0;32>c;c++)if(!this.chars[c].isEmpty()){b=!1;break}return b},setCursor:function(b){this.pos!==b&&(this.pos=b);0>this.pos?(k.log(\"ERROR\",\"Negative cursor position \"+this.pos),this.pos=0):32<this.pos&&(k.log(\"ERROR\",\"Too large cursor position \"+this.pos),this.pos=32)},moveCursor:function(b){var c=this.pos+b;if(1<b)for(b=this.pos+1;b<c+1;b++)this.chars[b].setPenState(this.currPenState);this.setCursor(c)},backSpace:function(){this.moveCursor(-1);\nthis.chars[this.pos].setChar(\" \",this.currPenState)},insertChar:function(b){144<=b&&this.backSpace();var c=d(b);32<=this.pos?k.log(\"ERROR\",\"Cannot insert \"+b.toString(16)+\" (\"+c+\") at position \"+this.pos+\". Skipping it!\"):(this.chars[this.pos].setChar(c,this.currPenState),this.moveCursor(1))},clearFromPos:function(b){for(;32>b;b++)this.chars[b].reset()},clear:function(){this.clearFromPos(0);this.pos=0;this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var b=\n[],c=!0,d=0;32>d;d++){var e=this.chars[d].uchar;\" \"!==e&&(c=!1);b.push(e)}return c?\"\":b.join(\"\")},setPenStyles:function(b){this.currPenState.setStyles(b);this.chars[this.pos].setPenState(this.currPenState)}};var ba=function(){this.rows=[];for(var b=0;15>b;b++)this.rows.push(new fa);this.currRow=14;this.nrRollUpRows=null;this.reset()};ba.prototype={reset:function(){for(var b=0;15>b;b++)this.rows[b].clear();this.currRow=14},equals:function(b){for(var c=!0,d=0;15>d;d++)if(!this.rows[d].equals(b.rows[d])){c=\n!1;break}return c},copy:function(b){for(var c=0;15>c;c++)this.rows[c].copy(b.rows[c])},isEmpty:function(){for(var b=!0,c=0;15>c;c++)if(!this.rows[c].isEmpty()){b=!1;break}return b},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(b){this.rows[this.currRow].insertChar(b)},setPen:function(b){this.rows[this.currRow].setPenStyles(b)},moveCursor:function(b){this.rows[this.currRow].moveCursor(b)},setCursor:function(b){k.log(\"INFO\",\n\"setCursor: \"+b);this.rows[this.currRow].setCursor(b)},setPAC:function(b){k.log(\"INFO\",\"pacData = \"+JSON.stringify(b));var c=b.row-1;this.nrRollUpRows&&c<this.nrRollUpRows-1&&(c=this.nrRollUpRows-1);this.currRow=c;c=this.rows[this.currRow];if(null!==b.indent){var d=Math.max(b.indent-1,0);c.setCursor(b.indent);b.color=c.chars[d].penState.foreground}this.setPen({foreground:b.color,underline:b.underline,italics:b.italics,background:\"black\",flash:!1})},setBkgData:function(b){k.log(\"INFO\",\"bkgData = \"+\nJSON.stringify(b));this.backSpace();this.setPen(b);this.insertChar(32)},setRollUpRows:function(b){this.nrRollUpRows=b},rollUp:function(){if(null!==this.nrRollUpRows){k.log(\"TEXT\",this.getDisplayText());var b=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];b.clear();this.rows.splice(this.currRow,0,b);k.log(\"INFO\",\"Rolling up\")}else k.log(\"DEBUG\",\"roll_up but nrRollUpRows not set yet\")},getDisplayText:function(b){b=b||!1;for(var c=[],d=\"\",e=-1,f=0;15>f;f++){var g=this.rows[f].getTextString();\ng&&(e=f+1,b?c.push(\"Row \"+e+': \"'+g+'\"'):c.push(g.trim()))}return 0<c.length&&(d=b?\"[\"+c.join(\" | \")+\"]\":c.join(\"\\n\")),d},getTextAndFormat:function(){return this.rows}};var Q=function(b,c){this.chNr=b;this.outputFilter=c;this.mode=null;this.verbose=0;this.displayedMemory=new ba;this.nonDisplayedMemory=new ba;this.lastOutputScreen=new ba;this.currRollUpRow=this.displayedMemory.rows[14];this.writeScreen=this.displayedMemory;this.cueStartTime=this.mode=null};Q.prototype={modes:[\"MODE_ROLL-UP\",\"MODE_POP-ON\",\n\"MODE_PAINT-ON\",\"MODE_TEXT\"],reset:function(){this.mode=null;this.displayedMemory.reset();this.nonDisplayedMemory.reset();this.lastOutputScreen.reset();this.currRollUpRow=this.displayedMemory.rows[14];this.writeScreen=this.displayedMemory;this.lastCueEndTime=this.cueStartTime=this.mode=null},getHandler:function(){return this.outputFilter},setHandler:function(b){this.outputFilter=b},setPAC:function(b){this.writeScreen.setPAC(b)},setBkgData:function(b){this.writeScreen.setBkgData(b)},setMode:function(b){b!==\nthis.mode&&(this.mode=b,k.log(\"INFO\",\"MODE=\"+b),\"MODE_POP-ON\"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),\"MODE_ROLL-UP\"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=b)},insertChars:function(b){for(var c=0;c<b.length;c++)this.writeScreen.insertChar(b[c]);k.log(\"INFO\",(this.writeScreen===this.displayedMemory?\"DISP\":\"NON_DISP\")+\": \"+this.writeScreen.getDisplayText(!0));\n\"MODE_PAINT-ON\"!==this.mode&&\"MODE_ROLL-UP\"!==this.mode||(k.log(\"TEXT\",\"DISPLAYED: \"+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){k.log(\"INFO\",\"RCL - Resume Caption Loading\");this.setMode(\"MODE_POP-ON\")},cc_BS:function(){k.log(\"INFO\",\"BS - BackSpace\");\"MODE_TEXT\"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){k.log(\"INFO\",\"DER- Delete to End of Row\");\nthis.writeScreen.clearToEndOfRow();this.outputDataUpdate()},cc_RU:function(b){k.log(\"INFO\",\"RU(\"+b+\") - Roll Up\");this.writeScreen=this.displayedMemory;this.setMode(\"MODE_ROLL-UP\");this.writeScreen.setRollUpRows(b)},cc_FON:function(){k.log(\"INFO\",\"FON - Flash On\");this.writeScreen.setPen({flash:!0})},cc_RDC:function(){k.log(\"INFO\",\"RDC - Resume Direct Captioning\");this.setMode(\"MODE_PAINT-ON\")},cc_TR:function(){k.log(\"INFO\",\"TR\");this.setMode(\"MODE_TEXT\")},cc_RTD:function(){k.log(\"INFO\",\"RTD\");this.setMode(\"MODE_TEXT\")},\ncc_EDM:function(){k.log(\"INFO\",\"EDM - Erase Displayed Memory\");this.displayedMemory.reset();this.outputDataUpdate()},cc_CR:function(){k.log(\"CR - Carriage Return\");this.writeScreen.rollUp();this.outputDataUpdate()},cc_ENM:function(){k.log(\"INFO\",\"ENM - Erase Non-displayed Memory\");this.nonDisplayedMemory.reset()},cc_EOC:function(){if(k.log(\"INFO\",\"EOC - End Of Caption\"),\"MODE_POP-ON\"===this.mode){var b=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory;this.writeScreen=this.nonDisplayedMemory=\nb;k.log(\"TEXT\",\"DISP: \"+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(b){k.log(\"INFO\",\"TO(\"+b+\") - Tab Offset\");this.writeScreen.moveCursor(b)},cc_MIDROW:function(b){var c={flash:!1};(c.underline=1==b%2,c.italics=46<=b,c.italics)?c.foreground=\"white\":c.foreground=\"white green blue cyan red yellow magenta\".split(\" \")[Math.floor(b/2)-16];k.log(\"INFO\",\"MIDROW: \"+JSON.stringify(c));this.writeScreen.setPen(c)},outputDataUpdate:function(){var b=k.time;null!==b&&this.outputFilter&&\n(this.outputFilter.updateData&&this.outputFilter.updateData(b,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,b,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:b):this.cueStartTime=b,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(b){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&\nthis.outputFilter.newCue(this.cueStartTime,b,this.displayedMemory),this.cueStartTime=b))}};var W=function(b,c,d){this.field=b||1;this.outputs=[c,d];this.channels=[new Q(1,c),new Q(2,d)];this.currChNr=-1;this.lastCmdB=this.lastCmdA=null;this.bufferedData=[];this.lastTime=this.startTime=null;this.dataCounters={padding:0,char:0,cmd:0,other:0}};W.prototype={getHandler:function(b){return this.channels[b].getHandler()},setHandler:function(b,c){this.channels[b].setHandler(c)},addData:function(b,c){var d,\ne,f,g=!1;this.lastTime=b;k.setTime(b);for(b=0;b<c.length;b+=2)if(e=127&c[b],f=127&c[b+1],16<=e&&31>=e&&e===this.lastCmdA&&f===this.lastCmdB)this.lastCmdB=this.lastCmdA=null,k.log(\"DEBUG\",\"Repeated command (\"+n([e,f])+\") is dropped\");else if(0!==e||0!==f){if(k.log(\"DATA\",\"[\"+n([c[b],c[b+1]])+\"] -> (\"+n([e,f])+\")\"),(d=this.parseCmd(e,f))||(d=this.parseMidrow(e,f)),d||(d=this.parsePAC(e,f)),d||(d=this.parseBackgroundAttributes(e,f)),!d)if(g=this.parseChars(e,f))this.currChNr&&0<=this.currChNr?this.channels[this.currChNr-\n1].insertChars(g):k.log(\"WARNING\",\"No channel found yet. TEXT-MODE?\");d?this.dataCounters.cmd+=2:g?this.dataCounters.char+=2:(this.dataCounters.other+=2,k.log(\"WARNING\",\"Couldn't parse cleaned data \"+n([e,f])+\" orig: \"+n([c[b],c[b+1]])))}else this.dataCounters.padding+=2},parseCmd:function(b,c){if(!((20===b||21===b||28===b||29===b)&&32<=c&&47>=c||(23===b||31===b)&&33<=c&&35>=c))return!1;var d=20===b||21===b||23===b?1:2;var e=this.channels[d-1];return 20===b||21===b||28===b||29===b?32===c?e.cc_RCL():\n33===c?e.cc_BS():34===c?e.cc_AOF():35===c?e.cc_AON():36===c?e.cc_DER():37===c?e.cc_RU(2):38===c?e.cc_RU(3):39===c?e.cc_RU(4):40===c?e.cc_FON():41===c?e.cc_RDC():42===c?e.cc_TR():43===c?e.cc_RTD():44===c?e.cc_EDM():45===c?e.cc_CR():46===c?e.cc_ENM():47===c&&e.cc_EOC():e.cc_TO(c-32),this.lastCmdA=b,this.lastCmdB=c,this.currChNr=d,!0},parseMidrow:function(b,c){var d;if((17===b||25===b)&&32<=c&&47>=c){if((d=17===b?1:2)!==this.currChNr)return k.log(\"ERROR\",\"Mismatch channel in midrow parsing\"),!1;d=this.channels[d-\n1];return d.insertChars([32]),d.cc_MIDROW(c),k.log(\"DEBUG\",\"MIDROW (\"+n([b,c])+\")\"),this.lastCmdA=b,this.lastCmdB=c,!0}return!1},parsePAC:function(b,c){if(!((17<=b&&23>=b||25<=b&&31>=b)&&64<=c&&127>=c||(16===b||24===b)&&64<=c&&95>=c))return!1;var d=23>=b?1:2;var m=this.interpretPAC(64<=c&&95>=c?1===d?e[b]:g[b]:1===d?f[b]:h[b],c);return this.channels[d-1].setPAC(m),this.lastCmdA=b,this.lastCmdB=c,this.currChNr=d,!0},interpretPAC:function(b,c){var d=c;b={color:null,italics:!1,indent:null,underline:!1,\nrow:b};return d=95<c?c-96:c-64,b.underline=1==(1&d),13>=d?b.color=\"white green blue cyan red yellow magenta white\".split(\" \")[Math.floor(d/2)]:15>=d?(b.italics=!0,b.color=\"white\"):b.indent=4*Math.floor((d-16)/2),b},parseChars:function(b,c){var e=null,f=null,g=null;(25<=b?(e=2,g=b-8):(e=1,g=b),17<=g&&19>=g)?(f=17===g?c+80:18===g?c+112:c+144,k.log(\"INFO\",\"Special char '\"+d(f)+\"' in channel \"+e),f=[f],this.lastCmdA=b,this.lastCmdB=c):32<=b&&127>=b&&(f=0===c?[b]:[b,c],this.lastCmdA=null,this.lastCmdB=\nnull);f&&(b=n(f),k.log(\"DEBUG\",\"Char codes =  \"+b.join(\",\")));return f},parseBackgroundAttributes:function(b,c){var d,e,f;return((16===b||24===b)&&32<=c&&47>=c||(23===b||31===b)&&45<=c&&47>=c)&&(d={},16===b||24===b?(e=Math.floor((c-32)/2),d.background=m[e],1==c%2&&(d.background+=\"_semi\")):45===c?d.background=\"transparent\":(d.foreground=\"black\",47===c&&(d.underline=!0)),f=24>b?1:2,this.channels[f-1].setBkgData(d),this.lastCmdA=b,this.lastCmdB=c,!0)},reset:function(){for(var b=0;b<this.channels.length;b++)this.channels[b]&&\nthis.channels[b].reset();this.lastCmdB=this.lastCmdA=null},cueSplitAtTime:function(b){for(var c=0;c<this.channels.length;c++)this.channels[c]&&this.channels[c].cueSplitAtTime(b)}};b.logger=k;b.PenState=p;b.CaptionScreen=ba;b.Cea608Parser=W;b.findCea608Nalus=function(b,c,d){for(var e,f=c,g=[];f<c+d;){if(e=b.getUint32(f),6===(31&b.getUint8(f+4)))for(var h=f+5,m;h<f+4+e-1;){m=0;for(var k=255;255===k;)m+=k=b.getUint8(h),h++;for(var q=0,k=255;255===k;)q+=k=b.getUint8(h),h++;var k=b,n=h;if(4!==m||8>q)k=\nnull;else{m=k.getUint8(n);var p=k.getUint16(n+1),t=k.getUint32(n+3),k=k.getUint8(n+7),k=181==m&&49==p&&1195456820==t&&3==k}k&&g.push([h,q]);h+=q}f+=e+4}return g};b.extractCea608DataFromRange=function(b,c){c=c[0];var d=[[],[]];c+=8;var e=31&b.getUint8(c);c+=2;for(var f=0;f<e;f++){var g=b.getUint8(c),h=4&g,g=3&g;c++;var m=b.getUint8(c);c++;var k=b.getUint8(c);c++;h&&0!=(127&m)+(127&k)&&(0===g?(d[0].push(m),d[0].push(k)):1===g&&(d[1].push(m),d[1].push(k)))}return d}}(c)},function(b,c,d){c=d(11).default;\nd=d(13).default;window.dashjs=c;b.exports=d},function(b,c,d){d.r(c);(function(b){var e=d(5);d.d(c,\"MediaPlayer\",function(){return e.a});var f=d(0);d.d(c,\"FactoryMaker\",function(){return f.a});var g=d(2);b=\"undefined\"!=typeof window&&window||b;var h=b.dashjs;h||(h=b.dashjs={});h.MediaPlayer=e.a;h.FactoryMaker=f.a;h.Version=Object(g.a)();c.default=h}).call(this,d(12))},function(c,d){d=function(){return this}();try{d=d||(new Function(\"return this\"))()}catch(k){\"object\"==(\"undefined\"===typeof window?\n\"undefined\":b(window))&&(d=window)}c.exports=d},function(c,d,g){Object.defineProperty(d,\"__esModule\",{value:!0});var e=g(14),f=g(15),h=g(3),k=g(4),n=g(16),p=g(7),v=g(17);c=function(){function c(b,c){if(this.config={scriptSrc:\"https://static.hdslb.com/player/js/dash.mediaplayer.min.js\",scriptMaxLoadTime:1E4,minQualityNumberMappingNumber:6,videoInfoScheduleTime:1E3},this.state={defaultVideoQuality:0,defaultAudioQuality:0,setTheDefaultVideoQualityState:!1,stableBufferTime:60,isAutoPlay:!1,abrStrategy:k.STRING.ABR_THROUGHPUT,\nisAutoSwitch:{video:!1,audio:!1},autoSwitchTopQualityMap:{video:-1,audio:-1},onScriptLoading:!1,initialized:!1,mpd:null,manifest:null,manifestInfo:{},currentQualityIndex:{video:0,audio:0},maxQualityIndex:{video:-1,audio:-1},qualityNumberMap:{video:{},audio:{}},segmentsInfoMap:{video:{},audio:{}},mediaInfo:{},statisticsInfo:{},autoSwitchStartTime:0,preloadData:null,startOffsetTime:0,enforceSSLStream:!1,latestPlayurlExpireTimeStamp:0,latestPlayurlErrorHTTPCode:0,fragmentLoadingInfo:{},appendingSourceState:!1,\nlogHistory:[],networkWarningHistory:[],playbackState:p.BUFFERING.PLAYBACK.PLAYING,enableHEVC:!1},this.timer={loadScript:0,videoInfoSchedule:0,removeSwitchSourceTransition:0},this.events={},this.components={networkActivity:new n.default,bufferingInfo:new p.default(b),bufferingStrategy:new v.default},this.video=b,this.mixin(c),!(b&&b instanceof HTMLVideoElement))throw Error(\"Video parameter is not a HTMLVideoElement\");}return c.prototype.preload=function(){var b=this;this.detectDashJSExists()||this.loadDashPlayerScript().then(function(){b.fire(k.EVENTS.SCRIPT_LOADED)}).catch(function(c){b.error({msg:\"Load dash player script error\",\ndetail:c})})},c.prototype.initialize=function(b,c){var d=this;this.mixin(c);c=this.filterManifestByEnableHEVC(b,this.state.enableHEVC);return this.state.mpd=c.manifest,this.state.enableHEVC=c.isHEVCTypeSupported,this.components.bufferingStrategy.setHEVCEnableFlag(c.isHEVCTypeSupported).setOnOptimizingCallback(this.fire.bind(this)),new Promise(function(c,e){b||e({msg:\"Manifest parameter error, manifest: \"+JSON.stringify(b)});d.detectDashJSExists()?d.createPlayer(c,e):d.state.onScriptLoading?d.on(k.EVENTS.SCRIPT_LOADED,\nfunction(){d.off(k.EVENTS.SCRIPT_LOADED);d.createPlayer(c,e)}):d.loadDashPlayerScript().then(function(){d.createPlayer(c,e)}).catch(function(b){d.error(b)})})},c.prototype.on=function(b,c){b&&\"function\"==typeof c&&(this.events[b]||(this.events[b]=[]),this.events[b].push(c))},c.prototype.off=function(b,c){b&&(\"function\"==typeof c?this.events[b]&&this.events[b].length&&(c=this.events[b].indexOf(c),0<=c&&this.events[b].splice(c,1)):this.events[b]=[])},c.prototype.fire=function(b,c){b&&(b=this.events[b])&&\nb.length&&b.forEach(function(b){\"function\"==typeof b&&b.call(null,c)})},c.prototype.play=function(){try{this.player.play()}catch(q){this.error({msg:\"Call play function error\",detail:q})}},c.prototype.pause=function(){try{this.player.pause()}catch(q){this.error({msg:\"Call pause function error\",detail:q})}},c.prototype.getCurrentTime=function(b){void 0===b&&(b=!0);try{return this.player.time(void 0,b)}catch(D){this.error({type:k.STRING.WARNING,msg:\"Call getCurrentTime function error\",detail:D})}return 0},\nc.prototype.getBufferedTime=function(){this.getCurrentTime();var b=this.video;try{b.buffered}catch(D){this.error({msg:\"Call getBufferedTime function error\",detail:D})}return 0},c.prototype.getDuration=function(b){void 0===b&&(b=!0);try{return this.player.duration(b)}catch(D){this.error({msg:\"Call getDuration function error\",detail:D})}},c.prototype.seek=function(b,c){var d=this;return void 0===c&&(c=!1),new Promise(function(e,f){if(isNaN(parseInt(\"\"+b,10))||0>b)f({msg:\"Seek time value error, time: \"+\nb});else if(d.state.appendingSourceState)f({msg:\"Call seek function error while appending source, time: \"+b});else try{var g=d.getCurrentTime(),h=Date.now();d.changePlaybackState(p.BUFFERING.PLAYBACK.SEEKING);var m=d.getStartOffsetTime();b<m&&(b=m+.1);f=999999;var q=d.state.segmentsInfoMap,n=parseInt(d.video.getAttribute(\"data-offset\"),10)||0;if(q)for(var t in q)f=Math.min(q[t].realDuration+n,f);f=Math.min(d.state.manifest.mediaPresentationDuration,f);b>f-.6&&(b=f-.6);d.player.seek(b,c);d.player.on(k.EVENTS.PLAYBACK_SEEKED,\nfunction T(){d.changePlaybackState(p.BUFFERING.PLAYBACK.PLAYING).player.off(k.EVENTS.PLAYBACK_SEEKED,T);e({cost:Math.floor(Date.now()-h),currentTime:g,seekedTime:b,isRelative:c})})}catch(N){d.error({msg:\"Call seek function error\",detail:N})}})},c.prototype.getCorePlayer=function(){return this.player},c.prototype.setVolume=function(b){if(isNaN(parseInt(\"\"+b,10))||0>b||1<b)this.error({msg:\"SetVolume value error, value: \"+b});else try{this.player.setVolume(b)}catch(D){this.error({msg:\"Call setVolume function error\",\ndetail:D})}},c.prototype.getVolume=function(){try{return this.player.getVolume()}catch(q){this.error({msg:\"Call getVolume function error\",detail:q})}},c.prototype.setPlaybackRate=function(b){try{this.player.setPlaybackRate(b)}catch(D){this.error({msg:\"Call setPlaybackRate function error\",detail:D})}},c.prototype.getPlaybackRate=function(){try{return this.player.getPlaybackRate()}catch(q){this.error({msg:\"Call getPlaybackRate function error\",detail:q})}},c.prototype.getAutoSwitchQualityFor=function(b){try{return this.player.getAutoSwitchQualityFor(b)}catch(D){this.error({msg:\"Call getAutoSwitchQualityFor function error\",\ndetail:D})}},c.prototype.setAutoSwitchQualityFor=function(b,c,d){void 0===c&&(c=!1);void 0===d&&(d=!0);try{this.state.isAutoSwitch&&d&&(this.state.isAutoSwitch[b]=c),c||this.setMaxAllowedBitrateFor(b,0),this.player.setAutoSwitchQualityFor(b,c)}catch(ca){this.error({msg:\"Call setAutoSwitchQualityFor function error\",detail:ca})}return this},c.prototype.getQualityList=function(b){try{return this.player.getBitrateInfoListFor(b)}catch(D){this.error({msg:\"Call getQualityList function error\",detail:D})}},\nc.prototype.setDefaultQualityFor=function(b,c){void 0===c&&(c=0);var d=this.getQualityIndexFromQualityNumber(c,b);try{var e=(this.state.mpd&&this.state.mpd[b]).length;e&&(d=Math.min(d,e-1));0<=d?(this.state.currentQualityIndex[b]=d,this.player.setDefaultQualityFor(b,d)):this.error({msg:\"Call setDefaultQualityFor function error, quality: \"+c})}catch(fa){this.error({msg:\"Call setDefaultQualityFor function error, quality: \"+c+\", qualityIndex = \"+d,detail:fa})}},c.prototype.setAutoSwitchTopQualityFor=\nfunction(b,c){var d=this;try{if(!this.state.initialized)return void this.on(k.EVENTS.STREAM_INITIALIZED,function W(){d.off(k.EVENTS.STREAM_INITIALIZED,W);d.setAutoSwitchTopQualityFor(b,c)});if(!c&&0!==c)return void this.setMaxAllowedBitrateFor(b,0);if(this.state.isAutoSwitch&&this.state.isAutoSwitch[b]){var e=this.getQualityIndexFromQualityNumber(c,b),f=this.getQualityList(b),g=Math.floor((f&&f[e]).bitrate/1E3)+1;this.state.autoSwitchTopQualityMap[b]=e;this.setMaxAllowedBitrateFor(b,g)}}catch(Q){this.error({msg:\"Call setAutoSwitchTopQualityFor function error\",\ndetail:Q})}},c.prototype.setQualityFor=function(b,c){var d=this;return new Promise(function(e,f){if(isNaN(parseInt(\"\"+c,10))||0>c)f({msg:\"Set quality value error, quality: \"+c});else if(d.detectQualityTypeIsLegal(b))f({msg:\"Set quality type error, type: \"+b});else if(d.state.appendingSourceState)f({msg:\"Reject setQualityFor by appending next source.\"});else try{(c=d.getQualityIndexFromQualityNumber(c,b))===d.state.currentQualityIndex[b]&&f({msg:\"Set quality equal current quality, quality: \"+c});d.player.setQualityFor(b,\nc);var g=Date.now();d.player.on(k.EVENTS.QUALITY_CHANGE_RENDERED,function W(b){b.newQuality===c&&(d.player.off(k.EVENTS.QUALITY_CHANGE_RENDERED,W),e(d.getQualityChangedData(b,g)))})}catch(Q){f({msg:\"Call setQualityFor function error\",detail:Q})}})},c.prototype.getQualityFor=function(b){try{return this.player.getQualityFor(b)}catch(D){this.error({msg:\"Call getQualityFor function error\",detail:D})}},c.prototype.setStableBufferTime=function(b){void 0===b&&(b=60);try{this.player.setStableBufferTime(b),\nthis.player.setBufferTimeAtTopQuality(b),this.player.setBufferTimeAtTopQualityLongForm(b),this.player.setBufferAheadToKeep(b+10)}catch(D){this.error({msg:\"Call setStableBufferTime function error\",detail:D})}},c.prototype.getStableBufferTime=function(){try{return this.player.getStableBufferTime()}catch(q){this.error({msg:\"Call getStableBufferTime function error\",detail:q})}},c.prototype.getBufferLength=function(b){try{return this.player.getBufferLength(b)}catch(D){this.error({msg:\"Call getBufferLength function error\",\ndetail:D})}},c.prototype.getCurrentPlayURLFor=function(b){try{return this.player.getCurrentSegmentInfoFor(b).url||\"\"}catch(D){this.error({msg:\"Call getCurrentPlayURLFor function error, type: \"+b+\", qualityIndex: \"+this.state.currentQualityIndex[b],detail:D})}},c.prototype.getVideoInfo=function(){return{mediaInfo:this.state.mediaInfo,statisticsInfo:this.state.statisticsInfo}},c.prototype.getCurrentCodecID=function(b){void 0===b&&(b=k.STRING.VIDEO);var c=0;b===k.STRING.VIDEO&&(c=7,this.state.enableHEVC&&\n(c=12));return c},c.prototype.getAverageConnectionSpeed=function(b){void 0===b&&(b=k.STRING.VIDEO);try{return Number(this.player.getAverageThroughput(b))||0}catch(D){this.error({msg:\"Call getAverageConnectionSpeed function error\",detail:D})}},c.prototype.switchSource=function(b,c,d){var e=this;void 0===d&&(d=!1);window.clearTimeout(this.timer.removeSwitchSourceTransition);this.onVideoSwitchSourceEnded();if(c&&(\"string\"!=typeof c.videoid||\"string\"!=typeof c.audioid?this.error({type:k.STRING.WARNING,\nmsg:\"Preload data videoid/audioid value must be string type.\",detail:c}):this.player&&this.player.setPreloadData(c)),d){c=document.createElement(\"canvas\");d=this.video.offsetWidth;var f=this.video.offsetHeight,g=this.video.videoWidth/this.video.videoHeight,h=d/f;c.width=d;c.height=f;c.style.zIndex=\"10\";c.style.position=\"absolute\";c.className=k.STRING.SWITCH_SOURCE_TRANSITION_ELEMENT_CLASS_NAME;var m=c.getContext(\"2d\"),n=void 0,q=void 0;h>=g?(n=f*g,q=f):(n=d,q=d/g);m.fillRect(0,0,c.width,c.height);\nm.drawImage(this.video,Math.abs(d-n)/2,Math.abs(f-q)/2,n,q);this.video.parentNode.appendChild(c);this.timer.removeSwitchSourceTransition=window.setTimeout(function(){e.onVideoSwitchSourceEnded()},1E4);m=c=null;this.video.removeEventListener(\"canplay\",this.onVideoSwitchSourceEnded);this.video.removeEventListener(\"playing\",this.onVideoSwitchSourceEnded);this.video.addEventListener(\"canplay\",this.onVideoSwitchSourceEnded);this.video.addEventListener(\"playing\",this.onVideoSwitchSourceEnded)}return new Promise(function(c,\nd){try{if(b=e.filterManifestByEnableHEVC(b,e.state.enableHEVC).manifest,e.state.mpd=b,e.player){for(var f in e.state.currentQualityIndex)0<=e.state.currentQualityIndex[f]&&e.setDefaultQualityFor(f,e.state.currentQualityIndex[f]);e.state.defaultVideoQuality=e.state.currentQualityIndex.video;e.state.defaultAudioQuality=e.state.currentQualityIndex.audio;e.bindSwitchSourceEvents(c,d,1E4);e.player.switchSource(b)}else d(\"Dash Player Error\")}catch(ma){d(ma)}})},c.prototype.updateSource=function(b){var c=\nthis;return new Promise(function(d,e){try{b=c.filterManifestByEnableHEVC(b,c.state.enableHEVC).manifest;c.player.updateSource(b);var f=window.setTimeout(function(){e({msg:\"Update Source Timeout\"})},5E3);c.player.on(k.EVENTS.STREAM_INITIALIZED,function Q(){c.player.off(k.EVENTS.STREAM_INITIALIZED,Q);clearTimeout(f);d()})}catch(ba){e({msg:\"Call updateSource function error, \"+JSON.stringify(ba),detail:ba})}})},c.prototype.appendSource=function(b,c){var d=this,e=this.state.appendingSourceState,f=this.state;\nreturn new Promise(function(g,h){e&&h(\"Dash Player is Appending Next Source!\");d.setAutoSwitchQualityFor(\"video\",!1,!1);d.setAutoSwitchQualityFor(\"audio\",!1,!1);var m=Date.now();c&&(\"string\"!=typeof c.videoid||\"string\"!=typeof c.audioid?d.error({type:k.STRING.WARNING,msg:\"Preload data videoid/audioid value must be string type.\",detail:c}):d.player&&d.player.setPreloadData(c));var n=setTimeout(function(){d.state.appendingSourceState=!1;h({msg:\"Append source time out.\"})},5E3);d.state.appendingSourceState=\n!0;try{if(d.player){for(var q in d.state.currentQualityIndex)0<=d.state.currentQualityIndex[q]&&d.setDefaultQualityFor(q,d.state.currentQualityIndex[q]);b=d.filterManifestByEnableHEVC(b,f.enableHEVC).manifest;d.player.setEndOfStreamState(!1);d.player.appendSource(b);d.player.on(k.EVENTS.APPENDED_NEXT_SOURCE,function N(b){clearTimeout(n);d.player.off(k.EVENTS.APPENDED_NEXT_SOURCE,N);g({cost:Date.now()-m})});d.player.on(k.EVENTS.APPENDED_NEXT_SOURCE_DURATION_CHANGED,function T(b){d.player.off(k.EVENTS.APPENDED_NEXT_SOURCE_DURATION_CHANGED,\nT);d.state.appendingSourceState=!1;0<=f.autoSwitchTopQualityMap.video&&d.setAutoSwitchTopQualityFor(\"video\",f.autoSwitchTopQualityMap.video);d.setAutoSwitchQualityFor(\"video\",f.isAutoSwitch[k.STRING.VIDEO],!1);d.setAutoSwitchQualityFor(\"audio\",f.isAutoSwitch[k.STRING.AUDIO],!1)})}else clearTimeout(n),d.state.appendingSourceState=!1,h({msg:\"Missing dash player instance!\"})}catch(I){clearTimeout(n),d.state.appendingSourceState=!1,h({msg:\"Append Source Error\",detail:I})}})},c.prototype.getNextFragmentHistoryInfo=\nfunction(){var b=\"\";try{if(this.state.getNextFragmentHistory){var c=function(c){var e=\"\";d.state.getNextFragmentHistory[c].forEach(function(b){var c,d;b=[b.final?1:0,b.currentTime,b.bufferLevel.toFixed(3),(c=[b.bufferResetInProgress,b.isReplacement,b.switchTrack,b.hasTopQualityChanged,b.lastInitQuality,b.bufferLevelRule],d=\"\",c.length&&c.forEach(function(b){d+=\"\"+(b?1:0)}),parseInt(d,2))];e+=b.join(\",\")+\";\"});b+=c+\":\"+e+\"!\"},d=this,e;for(e in this.state.getNextFragmentHistory)c(e)}}catch(fa){}return b},\nc.prototype.isLoadingFragment=function(b){if(b)return!!this.state.fragmentLoadingInfo[b]},c.prototype.getNetworkActivity=function(){return this.components.networkActivity&&this.components.networkActivity.getNetworkActivity()},c.prototype.getNetworkActivityHistory=function(b){return void 0===b&&(b=0),this.components.networkActivity&&this.components.networkActivity.getNetworkActivityHistory(b)},c.prototype.setEndOfStreamState=function(b){void 0===b&&(b=!1);try{return this.player.setEndOfStreamState(b)}catch(D){this.error({msg:\"Call setEndOfStreamState function error\",\ndetail:D})}},c.prototype.getLogHistory=function(){for(var c=this.state&&this.state.logHistory||[],d=c.join(\"\\n\"),c=c.length,e=[],f=[d],g=0;f.length;){var h=f.pop();if(\"boolean\"==typeof h)g+=4;else if(\"string\"==typeof h)g+=2*h.length;else if(\"number\"==typeof h)g+=8;else if(\"object\"==(\"undefined\"===typeof h?\"undefined\":b(h))&&-1===e.indexOf(h))for(var k in e.push(h),h)f.push(h[k])}return{length:c,log:d,size:g}},c.prototype.getBufferingInfo=function(){var b,c={type:-1};try{var d=this.state.currentQualityIndex.video,\ne=this.state.currentQualityIndex.audio,c=this.components.bufferingInfo&&this.components.bufferingInfo.getInfo({videoBufferLength:this.getBufferLength(\"video\"),audioBufferLength:this.getBufferLength(\"audio\"),videoCurrentIndex:d,audioCurrentIndex:e,videoCurrentQn:this.getQualityNumberFromQualityIndex(d,k.STRING.VIDEO),audioCurrentQn:this.getQualityNumberFromQualityIndex(e,k.STRING.AUDIO),videoSpeed:this.getAverageConnectionSpeed(k.STRING.VIDEO),audioSpeed:this.getAverageConnectionSpeed(k.STRING.AUDIO),\nnetworkActivity:this.getNetworkActivityHistory(5),playbackState:this.state.playbackState,latestPlayurlErrorHTTPCode:this.state.latestPlayurlErrorHTTPCode,fragmentLoadingInfo:this.state.fragmentLoadingInfo,networkWarningHistory:this.state.networkWarningHistory,startOffsetTime:this.state.startOffsetTime});null===(b=this.components)||void 0===b||b.bufferingStrategy.push(c)}catch(fa){throw Error(fa.message);}return c},c.prototype.destroy=function(){try{this.player.off(k.EVENTS.FRAGMENT_LOADING_STARTED,\nthis.onFragmentLoading,this),this.player.off(k.EVENTS.FRAGMENT_LOADING_PROGRESS,this.onFragmentLoading,this),this.player.off(k.EVENTS.FRAGMENT_LOADING_COMPLETED,this.onFragmentLoading,this),this.player.off(k.EVENTS.LOG,this.onDashJSLog,this),this.player&&this.player.reset(),this.onVideoSwitchSourceEnded(),this.events={},this.player=this.video=this.state=this.config=null,clearTimeout(this.timer&&this.timer.networkActivity),clearTimeout(this.timer&&this.timer.loadScript),clearTimeout(this.timer&&this.timer.videoInfoSchedule),\nclearTimeout(this.timer&&this.timer.removeSwitchSourceTransition),this.timer=null}catch(q){this.error({msg:\"Call destroy function error, \"+(q&&q.message),detail:q})}},c.prototype.mixin=function(b){if(b&&b instanceof Object)for(var c in b)b.hasOwnProperty(c)&&this.state.hasOwnProperty(c)&&(this.state[c]=b[c]);this.state&&this.state.isAutoSwitch||(this.state.isAutoSwitch={video:!1,audio:!1})},c.prototype.loadDashPlayerScript=function(){var b=this,c=this.config.scriptSrc;return new Promise(function(d,\ne){try{var f=document.createElement(\"script\");f.src=c;f.onload=function(){b.state.onScriptLoading=!1;clearTimeout(b.timer.loadScript);d()};f.onerror=function(d){b.state.onScriptLoading=!1;clearTimeout(b.timer.loadScript);e({msg:\"Load dash player script error, src: \"+c,detail:d})};document.body.appendChild(f);b.state.onScriptLoading=!0;b.timer.loadScript=window.setTimeout(function(){e({msg:\"Call loadDashPlayerScript function timeout\"})},b.config.scriptMaxLoadTime)}catch(ba){e({msg:\"Call loadDashPlayerScript function error\",\ndetail:ba})}})},c.prototype.createPlayer=function(b,d){var e=window.dashjs,f=this.state;this.state.defaultVideoQuality=this.getQualityIndexFromQualityNumber(f.defaultVideoQuality,k.STRING.VIDEO);this.state.defaultAudioQuality=this.getQualityIndexFromQualityNumber(f.defaultAudioQuality,k.STRING.AUDIO);try{var g=e.MediaPlayer().create();this.player=g;this.setDebugLog();this.bindEvents(b);this.state.logHistory.push(\"Dash player log history, \"+JSON.stringify(c.CONFIG));f.preloadData&&g.setPreloadData(f.preloadData);\ng.initialize(this.video,f.mpd,f.isAutoPlay,f.enforceSSLStream);g.setABRStrategy(f.abrStrategy||k.STRING.ABR_THROUGHPUT);g.setAutoSwitchQualityFor(k.STRING.VIDEO,f.isAutoSwitch[k.STRING.VIDEO]);g.setAutoSwitchQualityFor(k.STRING.AUDIO,f.isAutoSwitch[k.STRING.AUDIO]);g.setFastSwitchEnabled(!0);g.enableLastBitrateCaching(!1);g.setBufferPruningInterval(20);f.mpd&&f.mpd.interactive&&g.setEndOfStreamState(!1);g.setJumpGaps(!0);this.setStableBufferTime(this.state.stableBufferTime)}catch(ba){d({msg:\"Call createPlayer function error\",\ndetail:ba})}},c.prototype.bindEvents=function(b){var c=this,d=this.player;d.on(k.EVENTS.STREAM_INITIALIZED,function fa(){d.off(k.EVENTS.STREAM_INITIALIZED,fa,c);c.state.initialized=!0;var e=c.player.getBitrateInfoListFor(\"video\");b&&b(e);c.fire(k.EVENTS.STREAM_INITIALIZED);c.videoInfoSchedule()},this);d.on(k.EVENTS.MANIFEST_LOADED,this.parseManifestInfo,this);d.on(k.EVENTS.GET_NEXT_FRAGMENT,this.getNextFragmentInfo,this);d.on(k.EVENTS.FRAGMENT_LOADING_STARTED,this.onFragmentLoading,this);d.on(k.EVENTS.FRAGMENT_LOADING_PROGRESS,\nthis.onFragmentLoading,this);d.on(k.EVENTS.FRAGMENT_LOADING_COMPLETED,this.onFragmentLoading,this);d.on(k.EVENTS.LOG,this.onDashJSLog,this);d.onInitSegmentsLoaded(this.onInitSegmentsLoaded.bind(this));d.on(k.EVENTS.DELAY_TO_APPEND_TO_BUFFER,function(b){});d.on(k.EVENTS.START_OFFSET_TIME_WARNING,function(b){(b=b&&b.time)&&b>c.state.startOffsetTime&&(c.error({type:k.STRING.WARNING,code:k.ERROR.START_OFFSET_TIME_WARNING,msg:\"Start offset time is less than buffer.start(0), \"+c.state.startOffsetTime+\" < \"+\nb}),c.state.startOffsetTime=b+.2)});this.video.addEventListener(\"loadedmetadata\",function ba(){var b;null===(b=c.video)||void 0===b||b.removeEventListener(\"loadedmetadata\",ba);setTimeout(function(){if(c.video){var b=c.video.buffered,b=b.length&&b.start(0),e=c.video.currentTime;e<b&&(c.error({type:k.STRING.WARNING,code:k.ERROR.START_OFFSET_TIME_WARNING,msg:\"Current offset time is less than buffer.start(0), \"+e+\" < \"+b}),c.state.startOffsetTime=b+.2,d.seek(b+.2))}},3E3)});this.bindDashCorePlayerEvents()},\nc.prototype.bindSwitchSourceEvents=function(b,c,d){var e=this,f=Date.now(),g=window.setTimeout(function(){e.onVideoSwitchSourceEnded();c({err:\"Dash Player Switch Source timeout\",cost:Date.now()-f})},d);this.player.on(k.EVENTS.STREAM_INITIALIZED,function W(){window.clearTimeout(g);e.player.off(k.EVENTS.STREAM_INITIALIZED,W,e);b({cost:Date.now()-f})},this)},c.prototype.error=function(b){b.code=b.code||k.ERROR.INTERNAL_ERROR;b.msg=\"[Dash] \"+b.msg;b.type=b.type||k.STRING.ERROR;this.state&&this.state.logHistory.push(\"Dash player \"+\nb.type+\" - \"+b.code+\": \"+b.msg);k.STRING.ERROR===b.type?this.fire(k.EVENTS.ERROR,b):this.fire(k.EVENTS.WARNING,b)},c.prototype.bindDashCorePlayerEvents=function(){var b=this,c=this.events;this.player.on(k.EVENTS.ERROR,function(c){b.errorHandler(c)});this.on(k.EVENTS.QUALITY_CHANGE_REQUESTED,function(c){b.changePlaybackState(p.BUFFERING.PLAYBACK.SWITCHING_QUALITY)});this.on(k.EVENTS.QUALITY_C