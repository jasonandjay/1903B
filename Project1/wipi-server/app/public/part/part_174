e=e.sourceMap;var f=void 0===c.convertToAbsoluteUrls&&e;(c.convertToAbsoluteUrls||f)&&(d=M(d));e&&(d+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+\" */\");c=new Blob([d],{type:\"text/css\"});d=b.href;b.href=URL.createObjectURL(c);d&&URL.revokeObjectURL(d)}var v={},fa=function(b){var c;return function(){return void 0===c&&(c=b.apply(this,arguments)),c}}(function(){return window&&\ndocument&&document.all&&!window.atob}),ba=function(b){var c={};return function(e){return void 0===c[e]&&(c[e]=b.call(this,e)),c[e]}}(function(b){return document.querySelector(b)}),Q=null,W=0,z=[],M=k(6);c.exports=function(c,d){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=(\"undefined\"===typeof document?\"undefined\":b(document)))throw Error(\"The style-loader cannot be used in a non-browser environment\");d=d||{};d.attrs=\"object\"==b(d.attrs)?d.attrs:{};d.singleton||(d.singleton=fa());d.insertInto||(d.insertInto=\n\"head\");d.insertAt||(d.insertAt=\"bottom\");var m=f(c,d);return e(m,d),function(b){for(var c,k=[],t=0;t<m.length;t++)c=v[m[t].id],c.refs--,k.push(c);b&&e(f(b,d),d);for(t=0;t<k.length;t++)if(c=k[t],0===c.refs){for(b=0;b<c.parts.length;b++)c.parts[b]();delete v[c.id]}}};var I=function(){var b=[];return function(c,e){return b[c]=e,b.filter(Boolean).join(\"\\n\")}}()},function(b,c){b.exports=function(b){var c=\"undefined\"!=typeof window&&window.location;if(!c)throw Error(\"fixUrls requires window.location\");\nif(!b||\"string\"!=typeof b)return b;var e=c.protocol+\"//\"+c.host,d=e+c.pathname.replace(/\\/[^\\/]*$/,\"/\");return b.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(b,c){c=c.trim().replace(/^\"(.*)\"$/,function(b,c){return c}).replace(/^'(.*)'$/,function(b,c){return c});if(/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(c))return b;var f;return f=0===c.indexOf(\"//\")?c:0===c.indexOf(\"/\")?e+c:d+c.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(f)+\")\"})}},function(b,c,d){window.EVENT_LOG_QUEUE=\n\"object Array\"===Object.prototype.toString.call(window.EVENT_LOG_QUEUE)?window.EVENT_LOG_QUEUE:[];var e=window.$;b=function(){function b(c,e){if(!(this instanceof b))throw new TypeError(\"Cannot call a class as a function\");this.$selectorName=c;this.config=e;this._template=null;this._logCache=\"\"}return b.prototype._getTemplate=function(){var b=this;return this._template?this._template:(this._wrap=e(this.$selectorName),(undefined),this._cssPrefix=\"bilibili-player-event-log\",this._container=\ne(\"<div>\").addClass(this._cssPrefix+\"-container\").appendTo(this._wrap),this._panel=e(\"<div>\").addClass(this._cssPrefix+\"-panel\").appendTo(this._container),this._container.mCustomScrollbar({axis:\"y\",scrollInertia:200,autoHideScrollbar:!0}),this._close=e('<a href=\"javascript:void(0);\">').addClass(this._cssPrefix+\"-close\").html(\"[x]\").appendTo(this._container),this._template={},this._template._container=this._container,this._template._close=this._close,this._template._panel=this._panel,this._template._close.on(\"click\",\nfunction(){b.hide()}),this._template)},b.prototype.show=function(){var b=this;this._refreshTpl();this._getTemplate()._container.addClass(\"active\");setTimeout(function(){b._getTemplate()._container.mCustomScrollbar(\"scrollTo\",\"bottom\")},50)},b.prototype.hide=function(){this._getTemplate()._container.removeClass(\"active\");this.config&&this.config.hideCallback&&\"function\"==typeof this.config.hideCallback&&this.config.hideCallback()},b.prototype.log=function(b,c,e){var d=this;return window.EVENT_LOG_QUEUE&&\nwindow.EVENT_LOG_QUEUE.length&&(this._log(\"BILIBILI HTML5 PLAYER LOG\",0),window.EVENT_LOG_QUEUE.length&&window.EVENT_LOG_QUEUE.forEach(function(b){d._log(b.log,b.type,b.start)}),window.EVENT_LOG_QUEUE=void 0),this._log(b,c,e),Date.now()},b.prototype._log=function(b,c,d){var f=this,m=new Date,k=m.getTime(),t=[\"Info\",\"Warning\",\"Error\",\"Hide\"][c],g=\"bilibili-player-event-log-\"+t.toLowerCase();b&&(window.eventLogText||(window.eventLogText=\"\"),-1<b.indexOf(\"\\n\")&&3!==c&&(this._logCache+=\"<p>&nbsp;</p>\",\nwindow.eventLogText+=\"\\n\"),3!==c&&(this._logCache+='<p class=\"'+g+'\"><span class=\"bilibili-player-event-log-content\">['+t[0]+\"] > \"+b+\" </span> \"+(d?'<span class=\"bilibili-player-event-log-duration\">'+(k-d)+\" ms</span>\":\"\")+\"</p>\"),0<e(this.$selectorName).length&&this._refreshTpl(),window.eventLogText+=\"[\"+(\"Hide\"===t?\"Info\":t)+\"] > \"+m.getHours()+\" : \"+m.getMinutes()+\" : \"+m.getSeconds()+\": \"+m.getMilliseconds()+\"  \"+b+\" \"+(d?\"  \"+(k-d)+\" ms\":\"\")+\"\\n\",setTimeout(function(){0<e(f.$selectorName).length&&\n0<f._getTemplate()._container.length&&f._getTemplate()._container.mCustomScrollbar(\"scrollTo\",\"bottom\")},50))},b.prototype._refreshTpl=function(){0<e(this.$selectorName).length&&this._getTemplate()._panel.html(e(this._logCache))},b.prototype.download=function(){var b=new Blob([window.eventLogText],{type:\"text/plain\"});this.fileIndex+=1;(function(b,c){if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(b,c);else{var d=document.createElement(\"a\");d.href=window.URL.createObjectURL(b);d.download=\nc;d.style.display=\"none\";d.target=\"_blank\";e(\"body\").append(d);d.click();setTimeout(function(){d.remove();window.URL.revokeObjectURL(d.href)},3E3)}})(b,\"eventlog.txt\")},b}();c.a=b},function(b,c,d){function e(b,c){b.className.match(new RegExp(\"(\\\\s|^)\"+c+\"(\\\\s|$)\"))||(b.className+=\" \"+c)}window.EVENT_LOG_QUEUE=\"object Array\"===Object.prototype.toString.call(window.EVENT_LOG_QUEUE)?window.EVENT_LOG_QUEUE:[];b=function(){function b(c,e){if(!(this instanceof b))throw new TypeError(\"Cannot call a class as a function\");\nthis.selectorName=c;this.config=e;this._template=null;this._logCache=\"\"}return b.prototype._getTemplate=function(){var b=this;return this._template?this._template:(this._wrap=document.querySelectorAll(this.selectorName)[0],this._cssPrefix=\"bilibili-player-event-log\",this._container=document.createElement(\"div\"),this._panel=document.createElement(\"div\"),this._close=document.createElement(\"div\"),this._close.innerText=\"[x]\",e(this._container,this._cssPrefix+\"-container\"),e(this._panel,this._cssPrefix+\n\"-panel\"),e(this._close,this._cssPrefix+\"-close\"),this._wrap.appendChild(this._container),this._container.appendChild(this._panel),this._container.appendChild(this._close),this._container.style.overflowX=\"hidden\",this._container.style.overflowY=\"scroll\",this._template={},this._template._container=this._container,this._template._close=this._close,this._template._panel=this._panel,this._template._close.addEventListener(\"click\",function(){b.hide()}),this._template)},b.prototype.show=function(){this._refreshTpl();\ne(this._getTemplate()._container,\"active\")},b.prototype.hide=function(){var b=this._getTemplate()._container,c=\" \"+b.className+\" \",c=c.replace(/(\\s+)/gi,\" \"),c=c.replace(\" active \",\" \"),c=c.replace(/(^\\s+)|(\\s+$)/g,\"\");b.className=c;this.config&&this.config.hideCallback&&\"function\"==typeof this.config.hideCallback&&this.config.hideCallback()},b.prototype.log=function(b,c,e){var d=this;return window.EVENT_LOG_QUEUE&&window.EVENT_LOG_QUEUE.length&&(this._log(\"BILIBILI HTML5 PLAYER LOG\",0),window.EVENT_LOG_QUEUE.length&&\nwindow.EVENT_LOG_QUEUE.forEach(function(b){d._log(b.log,b.type,b.start)}),window.EVENT_LOG_QUEUE=void 0),this._log(b,c,e),Date.now()},b.prototype._log=function(b,c,e){var d=new Date,f=d.getTime(),m=[\"Info\",\"Warning\",\"Error\",\"Hide\"][c],k=\"bilibili-player-event-log-\"+m.toLowerCase();b&&(window.eventLogText||(window.eventLogText=\"\"),-1<b.indexOf(\"\\n\")&&3!==c&&(this._logCache=\"<p>&nbsp;</p>\"+this._logCache,window.eventLogText+=\"\\n\"),3!==c&&(this._logCache='<p class=\"'+k+'\"><span class=\"bilibili-player-event-log-content\">['+\nm[0]+\"] > \"+b+\" </span> \"+(e?'<span class=\"bilibili-player-event-log-duration\">'+(f-e)+\" ms</span>\":\"\")+\"</p>\"+this._logCache),0<document.querySelectorAll(this.selectorName).length&&this._refreshTpl(),window.eventLogText+=\"[\"+(\"Hide\"===m?\"Info\":m)+\"] > \"+d.getHours()+\" : \"+d.getMinutes()+\" : \"+d.getSeconds()+\": \"+d.getMilliseconds()+\"  \"+b+\" \"+(e?\"  \"+(f-e)+\" ms\":\"\")+\"\\n\")},b.prototype._refreshTpl=function(){0<document.querySelectorAll(this.selectorName).length&&(this._getTemplate()._panel.innerHTML=\nthis._logCache)},b.prototype.download=function(){var b=new Blob([window.eventLogText],{type:\"text/plain\"});this.fileIndex+=1;(function(b,c){if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(b,c);else{var e=document.createElement(\"a\");e.href=window.URL.createObjectURL(b);e.download=c;e.style.display=\"none\";e.target=\"_blank\";document.querySelectorAll(\"body\")[0].appendChild(e);e.click();setTimeout(function(){e.remove();window.URL.revokeObjectURL(e.href)},3E3)}})(b,\"eventlog.txt\")},b}();c.a=b}])})}).call(v,\nn(6)(p))},function(p,v,n){p=n(15);var h=n.n(p),g=n(9),d=n(0);n=function(){function c(b,c){this.player=b;this.config=c&&c.infos&&c.infos instanceof Array?$.extend({infos:[]},c):{infos:[]};this.container=b.template.playerWrap;this.updateStatus=this.initialized=!1;this.infos={};this.graphWidth=180;this.graphHeight=14;this.minValue=0;this.cssPrefix=b.prefix;this.componentName=\"video-info\";this.initialize()}c.prototype.reCssPrefix=function(b){return this.cssPrefix+\"-\"+this.componentName+\"-\"+b};c.prototype.getGraph=\nfunction(b,c){var e=\"\",d=\"\",m=this.graphWidth/2;if(c||0===c)for(b.graphPointArr.splice(0,1),b.graphPointArr.push(c),b.graphLineArr=[],this.maxValue=Math.max.apply(this,b.graphPointArr)||1,this.perValue=this.graphHeight/(this.maxValue-this.minValue),m=b.graphPointArr.length,c=0;c<m;c++)b.graphLineArr.push([2*c,this.graphHeight-(b.graphPointArr[c]-this.minValue)*this.perValue]);else for(c=0;c<m;c++)b.graphPointArr.push(0),b.graphLineArr.push([2*c,this.graphHeight]);b=b.graphLineArr;e+='<svg width=\"'+\nthis.graphWidth+'\" height=\"'+this.graphHeight+'\" viewBox=\"0 0 '+this.graphWidth+\" \"+this.graphHeight+'\"><g><polyline stroke=\"white\" fill=\"none\" points=\"';m=b.length;for(c=0;c<m;c++)d+=b[c].join(\",\")+\" \";return e+d+'\"></polyline></g></svg>'};c.prototype.infoTemplate=function(b){var c=this,d=\"\";if(b instanceof Array)b.forEach(function(b){d+=c.infoTemplate(b)});else if(\"object\"===typeof b&&b.type&&b.title)switch(c.infos[b.name]={type:b.type,title:b.title,data:b.data},b.type){case \"text\":d+='<div class=\"info-line\" data-name=\"'+\nb.name+'\"><span class=\"info-title\">'+b.title+':</span><span class=\"info-data\" >'+b.data+\"</span></div>\";break;case \"graph\":c.infos[b.name].unit=b.unit;c.infos[b.name].graphPointArr=[];c.infos[b.name].graphLineArr=[];d+='<div class=\"info-line\" data-name=\"'+b.name+'\"><span class=\"info-title\">'+b.title+':</span><span class=\"info-graph\">'+this.getGraph(c.infos[b.name])+'</span><span class=\"info-data\" >'+b.data+\" \"+(b.unit||\"\")+\"</span></div>\";break;case \"log\":d+='<div class=\"info-line\" data-name=\"'+b.name+\n'\"><span class=\"info-title\">'+b.title+':</span><span class=\"info-data info-log show\">[Show]</span> <span class=\"info-data info-copy\">[Copy]</span> <span class=\"info-data info-download\">[Download]</span></div>'}return d};c.prototype.reUpdate=function(b){b&&b.infos&&b.infos instanceof Array?(this.config=$.extend({infos:[]},b),this.$panel.html(this.infoTemplate(this.config.infos)),this.updateLog(),this.cacheInfos=this.infos):(undefined)};c.prototype.updateLog=\nfunction(){var b=this;this.$panel.find(\".info-log\").click(function(){b.player.logger(!0)});var c=new h.a(this.$panel.find(\".info-copy\")[0],{text:function(){return b.player.eventLog.text()}});c.on(\"success\",function(){b.createClipBoard(\"success\")});c.on(\"error\",function(){b.createClipBoard(\"error\")})};c.prototype.createClipBoard=function(b){new g.a({name:\"logCopy\",target:this.$panel.find(\".info-copy\"),position:\"bottom-center\",text:b})};c.prototype.reRefresh=function(b){var c=this,d;if(b instanceof\nArray)b.forEach(function(b){c.reRefresh(b)});else if(\"object\"===typeof b)switch((d=c.infos[b.name])?d.data=b.data:(c.$panel.append(c.infoTemplate(b)),d=c.infos[b.name]),b=c.$panel.find('.info-line[data-name=\"'+b.name+'\"]'),d.type){case \"text\":b.find(\".info-data\").html(d.data);break;case \"graph\":b.find(\".info-graph\").html(c.getGraph(d,d.data)).next().html(d.data+\" \"+d.unit)}};c.prototype.initialize=function(){var b=this.reCssPrefix.bind(this),c=this.config.infos;this.$container=$(\"<div>\").addClass(b(\"container\")).appendTo(this.container);\nthis.$close=$('<a href=\"javascript:void(0);\">').addClass(b(\"close\")).html(\"[x]\").appendTo(this.$container);this.$panel=$(\"<div>\").addClass(b(\"panel\")).appendTo(this.$container);this.$panel.html(this.infoTemplate(c));this.initialized=!0;this.bindEvents();this.cacheInfos=this.infos};c.prototype.bindEvents=function(){var b=this;this.$close.on(\"click\",function(){b.hide()});this.$panel.on(\"click\",function(c){$(c.target)&&($(c.target).hasClass(\"info-log\")?b.logToggle():$(c.target).hasClass(\"info-download\")&&\nb.player.eventLog.download())});this.player.bind(d.a.EVENT.VIDEO_LOG_CLOSE,function(){b.logToggle()})};c.prototype.logToggle=function(){var b=this.$container.find(\".info-data.info-log\");b.hasClass(\"show\")?this.showLog(b):b.hasClass(\"hide\")&&this.hideLog(b)};c.prototype.showLog=function(b){b||(b=this.$container.find(\".info-data.info-log\"));b.hasClass(\"show\")&&(b.html(\"[Hide]\"),b.removeClass(\"show\").addClass(\"hide\"),this.player.eventLog.show())};c.prototype.hideLog=function(b){b||(b=this.$container.find(\".info-data.info-log\"));\nb.hasClass(\"hide\")&&(b.html(\"[Show]\"),b.removeClass(\"hide\").addClass(\"show\"),this.player.eventLog.hide())};c.prototype.toggle=function(){this.$container&&this.$container.hasClass(\"active\")?this.hide():this.show()};c.prototype.show=function(){this.initialized||(this.initialize(),this.initialized=!0);this.restoreData();this.$container.addClass(\"active\");this.updateStatus=!0};c.prototype.hide=function(){this.updateStatus=!1;this.$container.removeClass(\"active\")};c.prototype.refresh=function(b){this.cacheData(b);\nthis.updateStatus&&this.reRefresh(b)};c.prototype.update=function(b){return this.reUpdate(b)};c.prototype.remove=function(b){\"object\"===typeof this.infos[b]&&(delete this.infos[b],this.$panel.find('.info-line[data-name=\"'+b+'\"]').remove())};c.prototype.cacheData=function(b){var c=this;if(b instanceof Array)b.forEach(function(b){c.cacheData(b)});else if(\"object\"===typeof b){var d=b.name;b=b.data;if(d=this.cacheInfos[d])\"text\"===d.type?d.data=b:\"graph\"===d.type&&(d.data=b,this.getGraph(d,b))}};c.prototype.restoreData=\nfunction(){var b;for(b in this.cacheInfos)if(this.cacheInfos.hasOwnProperty(b)){var c=this.cacheInfos[b];var d=this.$panel.find('.info-line[data-name=\"'+b+'\"]');switch(c.type){case \"text\":d.find(\".info-data\").html(c.data);break;case \"graph\":d.find(\".info-graph\").html(this.getGraph(c,c.data)).next().html(c.data+\" \"+c.unit)}}};return c}();v.a=n},function(p,v,n){var h,g,d,c=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&\"function\"===typeof Symbol&&\nb.constructor===Symbol&&b!==Symbol.prototype?\"symbol\":typeof b};(function(b,c){!(g=[p,n(47)],h=c,d=\"function\"===typeof h?h.apply(v,g):h,void 0!==d&&(p.exports=d))})(void 0,function(b,e){var d=e&&e.__esModule?e:{default:e},k=\"function\"===typeof Symbol&&\"symbol\"===c(Symbol.iterator)?function(b){return\"undefined\"===typeof b?\"undefined\":c(b)}:function(b){return b&&\"function\"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?\"symbol\":\"undefined\"===typeof b?\"undefined\":c(b)},m=function(){function b(b,\nc){for(var e=0;e<c.length;e++){var d=c[e];d.enumerable=d.enumerable||!1;d.configurable=!0;\"value\"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(c,e,d){e&&b(c.prototype,e);d&&b(c,d);return c}}();e=function(){function b(c){if(!(this instanceof b))throw new TypeError(\"Cannot call a class as a function\");this.resolveOptions(c);this.initSelection()}m(b,[{key:\"resolveOptions\",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=b.action;this.container=\nb.container;this.emitter=b.emitter;this.target=b.target;this.text=b.text;this.trigger=b.trigger;this.selectedText=\"\"}},{key:\"initSelection\",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:\"selectFake\",value:function(){var b=this,c=\"rtl\"==document.documentElement.getAttribute(\"dir\");this.removeFake();this.fakeHandlerCallback=function(){return b.removeFake()};this.fakeHandler=this.container.addEventListener(\"click\",this.fakeHandlerCallback)||!0;this.fakeElem=document.createElement(\"textarea\");\nthis.fakeElem.style.fontSize=\"12pt\";this.fakeElem.style.border=\"0\";this.fakeElem.style.padding=\"0\";this.fakeElem.style.margin=\"0\";this.fakeElem.style.position=\"absolute\";this.fakeElem.style[c?\"right\":\"left\"]=\"-9999px\";this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+\"px\";this.fakeElem.setAttribute(\"readonly\",\"\");this.fakeElem.value=this.text;this.container.appendChild(this.fakeElem);this.selectedText=(0,d.default)(this.fakeElem);this.copyText()}},{key:\"removeFake\",\nvalue:function(){this.fakeHandler&&(this.container.removeEventListener(\"click\",this.fakeHandlerCallback),this.fakeHandlerCallback=this.fakeHandler=null);this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:\"selectTarget\",value:function(){this.selectedText=(0,d.default)(this.target);this.copyText()}},{key:\"copyText\",value:function(){var b=void 0;try{b=document.execCommand(this.action)}catch(t){b=!1}this.handleResult(b)}},{key:\"handleResult\",value:function(b){this.emitter.emit(b?\n\"success\":\"error\",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:\"clearSelection\",value:function(){this.trigger&&this.trigger.focus();window.getSelection().removeAllRanges()}},{key:\"destroy\",value:function(){this.removeFake()}},{key:\"action\",set:function(){this._action=0<arguments.length&&void 0!==arguments[0]?arguments[0]:\"copy\";if(\"copy\"!==this._action&&\"cut\"!==this._action)throw Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n},get:function(){return this._action}},{key:\"target\",set:function(b){if(void 0!==b)if(b&&\"object\"===(\"undefined\"===typeof b?\"undefined\":k(b))&&1===b.nodeType){if(\"copy\"===this.action&&b.hasAttribute(\"disabled\"))throw Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');if(\"cut\"===this.action&&(b.hasAttribute(\"readonly\")||b.hasAttribute(\"disabled\")))throw Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\nthis._target=b}else throw Error('Invalid \"target\" value, use a valid Element');},get:function(){return this._target}}]);return b}();b.exports=e})},function(p,v,n){p.exports=function(h){if(\"SELECT\"===h.nodeName)h.focus(),h=h.value;else if(\"INPUT\"===h.nodeName||\"TEXTAREA\"===h.nodeName){var g=h.hasAttribute(\"readonly\");g||h.setAttribute(\"readonly\",\"\");h.select();h.setSelectionRange(0,h.value.length);g||h.removeAttribute(\"readonly\");h=h.value}else{h.hasAttribute(\"contenteditable\")&&h.focus();var g=window.getSelection(),\nd=document.createRange();d.selectNodeContents(h);g.removeAllRanges();g.addRange(d);h=g.toString()}return h}},function(p,v,n){function h(){}h.prototype={on:function(g,d,c){var b=this.e||(this.e={});(b[g]||(b[g]=[])).push({fn:d,ctx:c});return this},once:function(g,d,c){function b(){e.off(g,b);d.apply(c,arguments)}var e=this;b._=d;return this.on(g,b,c)},emit:function(g){var d=[].slice.call(arguments,1),c=((this.e||(this.e={}))[g]||[]).slice(),b=0,e=c.length;for(b;b<e;b++)c[b].fn.apply(c[b].ctx,d);return this},\noff:function(g,d){var c=this.e||(this.e={}),b=c[g],e=[];if(b&&d)for(var f=0,k=b.length;f<k;f++)b[f].fn!==d&&b[f].fn._!==d&&e.push(b[f]);e.length?c[g]=e:delete c[g];return this}};p.exports=h;p.exports.TinyEmitter=h},function(p,v,n){function h(b,c,d){b.addEventListener(c,d);return{destroy:function(){b.removeEventListener(c,d)}}}function g(b,c,d){Array.prototype.forEach.call(b,function(b){b.addEventListener(c,d)});return{destroy:function(){Array.prototype.forEach.call(b,function(b){b.removeEventListener(c,\nd)})}}}var d=n(50),c=n(51);p.exports=function(b,e,f){if(!b&&!e&&!f)throw Error(\"Missing required arguments\");if(!d.string(e))throw new TypeError(\"Second argument must be a String\");if(!d.fn(f))throw new TypeError(\"Third argument must be a Function\");if(d.node(b))return h(b,e,f);if(d.nodeList(b))return g(b,e,f);if(d.string(b))return c(document.body,b,e,f);throw new TypeError(\"First argument must be a String, HTMLElement, HTMLCollection, or NodeList\");}},function(p,v,n){v.node=function(h){return void 0!==\nh&&h instanceof HTMLElement&&1===h.nodeType};v.nodeList=function(h){var g=Object.prototype.toString.call(h);return void 0!==h&&(\"[object NodeList]\"===g||\"[object HTMLCollection]\"===g)&&\"length\"in h&&(0===h.length||v.node(h[0]))};v.string=function(h){return\"string\"===typeof h||h instanceof String};v.fn=function(h){return\"[object Function]\"===Object.prototype.toString.call(h)}},function(p,v,n){function h(c,b,e,d,k){var f=g.apply(this,arguments);c.addEventListener(e,f,k);return{destroy:function(){c.removeEventListener(e,\nf,k)}}}function g(c,b,e,f){return function(e){e.delegateTarget=d(e.target,b);e.delegateTarget&&f.call(c,e)}}var d=n(52);p.exports=function(c,b,e,d,k){if(\"function\"===typeof c.addEventListener)return h.apply(null,arguments);if(\"function\"===typeof e)return h.bind(null,document).apply(null,arguments);\"string\"===typeof c&&(c=document.querySelectorAll(c));return Array.prototype.map.call(c,function(c){return h(c,b,e,d,k)})}},function(p,v,n){\"undefined\"===typeof Element||Element.prototype.matches||(v=Element.prototype,\nv.matches=v.matchesSelector||v.mozMatchesSelector||v.msMatchesSelector||v.oMatchesSelector||v.webkitMatchesSelector);p.exports=function(h,g){for(;h&&9!==h.nodeType;){if(\"function\"===typeof h.matches&&h.matches(g))return h;h=h.parentNode}}},function(p,v,n){var h=n(54);p=n(55);var g=n(56),d=n(57),c=n(17),b=n(58),e=n(59),f=n(60),k=n(61),m=n(62),A=n(63),u=n(64),t=n(65);n=n(66);h=new h.a;h.register(\"button\",p.a);h.register(\"buttonset\",g.a);h.register(\"checkbox\",d.a);h.register(\"mouse\",c.a);h.register(\"selectable\",\nb.a);h.register(\"selectmenu\",e.a);h.register(\"tabmenu\",f.a);h.register(\"multiselect\",k.a);h.register(\"togglebutton\",m.a);h.register(\"slider\",A.a);h.register(\"spinner\",u.a);h.register(\"menu\",t.a);h.register(\"tristatecheckbox\",n.a);v.a=h},function(p,v,n){var h=n(1);p=function(){function g(){this.uuid=0;this.keyCode={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,\nNUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,COMMA:188,PERIOD:190};this.ui={};this.components={}}g.prototype.register=function(d,c){var b=this,e=h.a.prefix+d;this.components[d]=c;this.ui[d]=function(f,k){var m=f instanceof jQuery?f:$(f);var g=\"string\"===typeof k,u=Array.prototype.slice.call(arguments,2),t=m;g?m.each(function(){var b=$.data(this,e);if(\"instance\"===k)return t=b,!1;if(!b)return $.error(\"cannot call methods on \"+d+' prior to initialization; attempted to call method \"'+k+'\"');if((!$.isFunction(b[k])||\n\"_\"===k.charAt(0))&&\"widget\"!==k&&\"refresh\"!==k)return $.error('no such method \"'+k+'\" for '+d+\" widget instance\");var c=\"widget\"===k?b.widget.apply(b,u):\"refresh\"===k?b.refresh.apply(b,u):b[k].apply(b,u);if(c!==b&&void 0!==c)return t=c&&c.jquery?t.pushStack(c.get()):c,!1}):(k=k||{},k.id=k.id||d,e=(k.prefix||h.a.prefix)+(k.id||d),m.each(function(){var d=$.data(this,e);d?(d.option(k||{}),d.init&&d.init()):(k.uuid=++b.uuid,d=new c(this,k,b),$.data(this,d.componentFullName,d));if(1===m.length)return t=\nd,!1}));return t};return this.ui[d]};return g}();$.extend($.expr[\":\"],{data:$.expr.createPseudo?$.expr.createPseudo(function(g){return function(d){return!!$.data(d,g)}}):function(g,d,c){return!!$.data(g,c[3])},focusable:function(g){return this.focusable(g,!isNaN(Number($(g).attr(\"tabindex\"))))},tabbable:function(g){var d=Number($(g).attr(\"tabindex\")),c=isNaN(d);return(c||0<=d)&&this.focusable(g,!c)}});v.a=p},function(p,v,n){p=n(1);var h=this&&this.__extends||function(){var g=Object.setPrototypeOf||\n{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var b in c)c.hasOwnProperty(b)&&(d[b]=c[b])};return function(d,c){function b(){this.constructor=d}g(d,c);d.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();p=function(g){function d(c,b,e){var d=g.call(this)||this;d.defaultElement=\"<button>\";d.baseClasses=\"button\";d.typeClasses=\"button-icons-only button-icon-only button-text-icons button-text-icon-primary button-text-icon-secondary button-text-only\";\nd.lastActive=null;d.options=$.extend({id:\"button\",disabled:null,text:!0,label:null,theme:null,icons:{primary:null,secondary:null},click:null,type:\"\",name:\"\"},b);d.id=d.options.id;d.bpui=e;d.createComponent(c,d.options);return d}h(d,g);d.prototype.formResetHandler=function(){var c=$(this),b=this.prefix,e=this.bpui.ui;setTimeout(function(){e.button(c.find(\":\"+b+\"button\"),\"refresh\")},1)};d.prototype.radioGroup=function(c){var b=c.name,e=c.form,d=$([]);b&&(b=b.replace(/'/g,\"\\\\'\"),d=e?$(e).find('[name=\"'+\nb+'\"][type=radio]'):$('[name=\"'+b+'\"][type=radio]',c.ownerDocument).filter(function(){return!this.form}));return d};d.prototype.create=function(){var c=this.prefix,b=this.bpui.ui,e=this.bpui.keyCode;this.element.closest(\"form\").unbind(\"reset\"+this.eventNamespace).bind(\"reset\"+this.eventNamespace,this.formResetHandler);\"boolean\"!==typeof this.options.disabled?this.options.disabled=!!this.element.prop(\"disabled\"):this.element.prop(\"disabled\",this.options.disabled);this.determineButtonType();this.hasTitle=\n!!this.buttonElement.attr(\"title\");var d=this,k=this.options,m=\"checkbox\"===this.type||\"radio\"===this.type,g=m?\"\":c+\"state-active\";null===k.label&&(k.label=\"input\"===this.type?this.buttonElement.val():this.buttonElement.html());if(k.type)for(var u=k.type.split(\",\"),t=0;t<u.length;t++)this.buttonElement.addClass(c+\"button-type-\"+u[t]);this.initHover(this.buttonElement);this.buttonElement.addClass(this.baseClasses).attr(\"role\",\"button\").bind(\"mouseenter\"+this.eventNamespace,function(){k.disabled||this===\nd.lastActive&&$(this).addClass(c+\"state-active\")}).bind(\"mouseleave\"+this.eventNamespace,function(){k.disabled||$(this).removeClass(g)}).bind(\"click\"+this.eventNamespace,function(b){k.disabled?(b.preventDefault(),b.stopImmediatePropagation()):\"function\"===typeof k.click&&k.click(b)});this.on({focus:function(){this.buttonElement.addClass(c+\"state-focus\")},blur:function(){this.buttonElement.removeClass(c+\"state-focus\")}});m&&this.element.bind(\"change\"+this.eventNamespace,function(){d.refresh()});\"checkbox\"===\nthis.type?this.buttonElement.bind(\"click\"+this.eventNamespace,function(){if(k.disabled)return!1}):\"radio\"===this.type?this.buttonElement.bind(\"click\"+this.eventNamespace,function(){if(k.disabled)return!1;$(this).addClass(c+\"state-active\");d.buttonElement.attr(\"data-pressed\",\"true\");var e=d.element[0];d.radioGroup(e).not(e).map(function(){return b.button($(this),\"widget\")[0]}).removeClass(c+\"state-active\").attr(\"data-pressed\",\"false\")}):(this.buttonElement.bind(\"mousedown\"+this.eventNamespace,function(){if(k.disabled)return!1;\n$(this).addClass(c+\"state-active\");d.lastActive=this;d.document.one(\"mouseup\",function(){d.lastActive=null})}).bind(\"mouseup\"+this.eventNamespace,function(){if(k.disabled)return!1;$(this).removeClass(c+\"state-active\")}).bind(\"keydown\"+this.eventNamespace,function(b){if(k.disabled)return!1;b.keyCode!==e.SPACE&&b.keyCode!==e.ENTER||$(this).addClass(c+\"state-active\")}).bind(\"keyup\"+this.eventNamespace+\" blur\"+this.eventNamespace,function(){$(this).removeClass(c+\"state-active\")}),this.buttonElement.is(\"a\")&&\nthis.buttonElement.keyup(function(b){b.keyCode===e.SPACE&&$(this).click()}));this.setOption(\"disabled\",k.disabled);this.resetButton()};d.prototype.determineButtonType=function(){var c=this.prefix;this.element.is(\"[type=checkbox]\")?this.type=\"checkbox\":this.element.is(\"[type=radio]\")?this.type=\"radio\":this.element.is(\"input\")?this.type=\"input\":this.type=\"button\";if(\"checkbox\"===this.type||\"radio\"===this.type){var b=this.element.parents().last();var e='label[for=\"'+this.element.attr(\"id\")+'\"]';this.buttonElement=\nb.find(e);this.buttonElement.length||(b=b.length?b.siblings():this.element.siblings(),this.buttonElement=b.filter(e),this.buttonElement.length||(this.buttonElement=b.find(e)));(b=this.element.is(\":checked\"))&&this.buttonElement.addClass(c+\"state-active\");this.buttonElement.prop(\"data-pressed\",b)}else this.buttonElement=this.element};d.prototype.widget=function(){return this.buttonElement};d.prototype.destroyCus=function(){var c=this.prefix;this.element.removeClass(c+\"helper-hidden-accessible\");this.buttonElement.removeClass(this.baseClasses+\n\" \"+c+\"state-active \"+this.typeClasses.split(\" \").join(\" \"+c)).removeAttr(\"role\").removeAttr(\"data-pressed\").html(this.buttonElement.find(\".\"+c+\"button-text\").html());this.hasTitle||this.buttonElement.removeAttr(\"title\")};d.prototype.setOption=function(c,b){var e=this.prefix;this.options[c]=b;if(\"disabled\"===c)this.widget().toggleClass(e+\"state-disabled\",!!b),this.element.prop(\"disabled\",!!b),b&&(\"checkbox\"===this.type||\"radio\"===this.type?this.buttonElement.removeClass(e+\"state-focus\"):this.buttonElement.removeClass(e+\n\"state-focus \"+e+\"state-active\"));else return\"active\"===c&&this.widget().toggleClass(\"state-active\",!!b),this.resetButton(),this};d.prototype.refresh=function(){var c=this.prefix,b=this.bpui.ui,e=this.element.is(\"input, button\")?this.element.is(\":disabled\"):this.element.hasClass(c+\"button-disabled\");e!==this.options.disabled&&this.setOption(\"disabled\",e);\"radio\"===this.type?this.radioGroup(this.element[0]).each(function(){$(this).is(\":checked\")?b.button($(this),\"widget\").addClass(c+\"state-active\").attr(\"data-pressed\",\n\"true\"):b.button($(this),\"widget\").removeClass(c+\"state-active\").attr(\"data-pressed\",\"false\")}):\"checkbox\"===this.type&&(this.element.is(\":checked\")?this.buttonElement.addClass(c+\"state-active\").attr(\"data-pressed\",\"true\"):this.buttonElement.removeClass(c+\"state-active\").attr(\"data-pressed\",\"false\"))};d.prototype.resetButton=function(){var c=this.prefix;if(\"input\"===this.type)this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass(this.typeClasses.split(\" \").join(c+\n\" \")),e=$(\"<span></span>\",this.document[0]).addClass(c+\"button-text\").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,k=d.primary&&d.secondary,m=[];if(d.primary||d.secondary)this.options.text&&m.push(c+\"button-text-icon\"+(k?\"s\":d.primary?\"-primary\":\"-secondary\")),d.primary&&b.prepend('<span class=\"'+c+\"button-icon-primary \"+c+\"icon \"+d.primary+'\"></span>'),d.secondary&&b.append('<span class=\"'+c+\"button-icon-secondary \"+c+\"icon \"+d.secondary+'\"></span>'),this.options.text||\n(m.push(k?\"\"+c+\"button-icons-only\":c+\"button-icon-only\"),this.hasTitle||b.attr(\"title\",$.trim(e))),this.options.name&&this.buttonElement.children()&&this.buttonElement.children().attr(\"name\",this.options.name);this.options.textonly&&m.push(c+\"button-text-only\");this.options.theme&&(this.buttonElement.attr(\"class\",this.buttonElement.attr(\"class\").replace(new RegExp(c+\"button-theme-\\\\w+\",\"g\"),\"\")),this.buttonElement.addClass(c+\"button-theme-\"+this.options.theme));b.addClass(m.join(\" \"))}};return d}(p.a);\nv.a=p},function(p,v,n){p=n(1);var h=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var b in c)c.hasOwnProperty(b)&&(d[b]=c[b])};return function(d,c){function b(){this.constructor=d}g(d,c);d.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();p=function(g){function d(c,b,e){var d=g.call(this)||this;d.options={items:\"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a\"};\nd.bpui=e;d.createComponent(c,b);return d}h(d,g);d.prototype.create=function(){this.element.addClass(this.prefix+\"buttonset\")};d.prototype.init=function(){this.refresh()};d.prototype.setOption=function(c,b){\"disabled\"!==c&&this.bpui.ui.button(this.buttons,\"option\",c,b);this.options[c]=b;return this};d.prototype.refresh=function(){var c=this.bpui.ui,b=\"rtl\"===this.element.css(\"direction\"),e=this.element.find(this.options.items+\", :data(\"+this.prefix+\"button)\"),d=e.filter(\":\"+this.prefix+\"button\");c.button(e.not(\":\"+\nthis.prefix+\"button\"));c.button(d,\"refresh\");this.buttons=e.map(function(){return c.button($(this),\"widget\")[0]}).removeClass(this.prefix+\"corner-all \"+this.prefix+\"corner-left \"+this.prefix+\"corner-right\").filter(\":first\").addClass(b?this.prefix+\"corner-right\":this.prefix+\"corner-left\").end().filter(\":last\").addClass(b?this.prefix+\"corner-left\":this.prefix+\"corner-right\").end().end()};d.prototype.destroyCus=function(){var c=this.bpui.ui;this.element.removeClass(this.prefix+\"buttonset\");c.button(this.buttons.map(function(){return c.button($(this),\n\"widget\")[0]}).removeClass(this.prefix+\"corner-left \"+this.prefix+\"corner-right\").end(),\"destroy\")};return d}(p.a);v.a=p},function(p,v,n){p=n(1);var h=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var b in c)c.hasOwnProperty(b)&&(d[b]=c[b])};return function(d,c){function b(){this.constructor=d}g(d,c);d.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();p=function(g){function d(c,b,\ne){var d=g.call(this)||this;d.options=$.extend({label:\"\",textleft:!1,flexMode:!1,labelClass:null,click:null,change:null,isRound:!1},b);d.checkbox=null;d.bpui=e;d.createComponent(c,b);return d}h(d,g);d.prototype.create=function(){this.container=this.element.parent();\"checkbox\"===this.options.id?this.element.attr(\"id\",this.options.id+this.uuid):this.element.attr(\"id\",this.options.id);this.container.find(\"label\").length?this.label=this.container.find(\"label\").attr(\"for\",this.element.attr(\"id\")).addClass(this.options.labelClass):\nthis.label=$(\"<label>\").attr(\"for\",this.element.attr(\"id\")).addClass(this.options.labelClass).appendTo(this.container);var c=this.options.label||this.label.html(),b=\"\",b=this.options.isRound?'<i class=\"bpui-icon-checkbox icon-12checkbox-round\"></i><i class=\"bpui-icon-checkbox icon-12selected2-round\"></i><i class=\"bpui-icon-checkbox icon-12select-round\"></i>':'<i class=\"bpui-icon-checkbox icon-12checkbox\"></i><i class=\"bpui-icon-checkbox icon-12selected2\"></i><i class=\"bpui-icon-checkbox icon-12select\"></i>';\nthis.options.flexMode&&(b='<span class=\"bpui-flex-wrap\"><span class=\"bpui-flex-button\"></span></span>');this.options.textleft?(b='<span class=\"'+this.prefix+'checkbox-text\">'+c+\"</span>\"+b,this.label.addClass(this.prefix+\"text-left\")):(b+='<span class=\"'+this.prefix+'checkbox-text\">'+c+\"</span>\",this.label.removeClass(this.prefix+\"text-left\"));this.options.tristate?this.createTristateCheckbox(c):(this.options.checked&&this.element.attr(\"checked\",\"checked\"),this.createCheckbox(b));if(this.options.click&&\n\"function\"===typeof this.options.click){var e=this;this.element.click(function(b){e.options.click(b)})}this.container.data(this.prefix+\"checkbox\",this)};d.prototype.initEvent=function(){var c=this;if(!this.options.tristate)this.on(this.element,\"change\",function(b){b.stopPropagation();c.change(b)})};d.prototype.createCheckbox=function(c){this.checkbox=this.bpui.ui.button(this.element,{textonly:!0,label:c,disabled:this.options.disabled})};d.prototype.createTristateCheckbox=function(c){this.checkbox=\nthis.bpui.ui.tristatecheckbox(this.element,{textonly:!0,state:this.options.checked,label:c,change:this.options.change})};d.prototype.change=function(c){this.trigger(\"change\",this.element.is(\":checked\"),this.element,c)};d.prototype.setChecked=function(c){if(this.options.disabled)return!1;this.options.tristate?this.checkbox.setState(c):(this.element.prop(\"checked\",c),c?this.element.siblings(\"label\").addClass(this.prefix+\"state-active\"):this.element.siblings(\"label\").removeClass(this.prefix+\"state-active\"),\nthis.change())};d.prototype.refresh=function(){this.bpui.ui.button(this.element,\"refresh\")};d.prototype.value=function(c){if(\"undefined\"!==typeof c)this.setChecked(c);else if(this.options.tristate)this.checkbox.value();else return this.element.is(\":checked\")};d.prototype.setOption=function(c,b){\"undefined\"!==typeof c&&(this.bpui.ui.button(this.element,\"option\",c,b),this.options[c]=b);return this};d.prototype.destroyCus=function(){this.bpui.ui.button(this.element,\"destroy\")};return d}(p.a);v.a=p},\nfunction(p,v,n){p=n(17);var h=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var b in c)c.hasOwnProperty(b)&&(d[b]=c[b])};return function(d,c){function b(){this.constructor=d}g(d,c);d.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();p=function(g){function d(c,b){var e=g.call(this,c,b)||this;e.options={autoRefresh:!0,distance:0,filter:\">*\",tolerance:\"touch\",escapeSelector:\"\",disableJudge:function(b){return!0},\nselected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null,disabled:void 0,appendTo:void 0,cancel:\"input,textarea,button,select,option\",delay:0};$.extend(e.options,b);e.createComponent(c,e.options);return e}h(d,g);d.prototype.create=function(){var c,b=this,e=this.prefix;this.element.addClass(e+\"selectable\");this.dragged=!1;this.refresh=function(){c=$(b.options.filter,b.element[0]);c.addClass(e+\"selectable-row\");c.each(function(){var b=$(this),c=b.offset();$.data(this,\"selectable-item\",\n{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass(e+\"selected\"),selecting:b.hasClass(e+\"selecting\"),unselecting:b.hasClass(e+\"unselecting\")})})};this.refresh();this.selectees=c.addClass(e+\"selectable-row\");this.mouseInit();this.helper=$('<div class=\"'+e+'selectable-helper\"></div>')};d.prototype.destroyCus=function(){var c=this.prefix;this.selectees.removeClass(c+\"selectable-row\").removeData(\"selectable-item\");\nthis.element.removeClass(c+\"selectable \"+c+\"selectable-disabled\");this.mouseDestroy()};d.prototype.escape=function(c){return this.options.escapeSelector?$(c.target).is($(this.options.escapeSelector))||0<$(c.target).parents(this.options.escapeSelector).length:!1};d.prototype.mouseStart=function(c){var b=this,e=this.options,d=this.prefix;this.opos=[c.pageX,c.pageY];if(!this.options.disabled){this.selectees=$(e.filter,this.element[0]);this.trigger(\"start\",c);e.appendTo&&$(e.appendTo).append(this.helper);\nthis.helper.css({left:c.pageX+1,top:c.pageY+1,width:0,height:0});e.autoRefresh&&this.refresh();1<this.selectees.filter(\".\"+d+\"selected\").length?this.multiselectKeep=!0:this.multiselectKeep=!1;var k=this.selectees.filter(\".\"+d+\"selected\").length;this.uniqueSelectElement=!1;this.selectees.filter(\".\"+d+\"selected\").each(function(){var e=$.data(this,\"selectable-item\");e.startselected=!0;if(1===k&&($(c.target).parents().andSelf().each(function(){var c=$.data(this,\"selectable-item\");c&&c.$element.is(e.$element)&&\n(b.uniqueSelectElement=c)}),b.uniqueSelectElement))return!1;c.metaKey||c.ctrlKey||c.shiftKey||b.escape(c)||(e.$element.removeClass(d+\"selected\"),e.selected=!1,e.$element.addClass(d+\"unselecting\"),e.unselecting=!0,b.trigger(\"unselecting\",c,{unselecting:e.element}))});$(c.target).parents().andSelf().each(function(){var e=$.data(this,\"selectable-item\");if(e){var f=0===b.selectees.filter(\".\"+d+\"selected\").length&&b.multiselectKeep&&b.options.disableJudge(e.$element)?!0:!e.$element.hasClass(d+\"selected\")&&\nb.options.disableJudge(e.$element);e.$element.removeClass(f?d+\"unselecting\":d+\"selected\").addClass(f?d+\"selecting\":d+\"unselecting\");e.unselecting=!f;e.selecting=f;(e.selected=f)?b.trigger(\"selecting\",c,{selecting:e.element}):b.trigger(\"unselecting\",c,{unselecting:e.element});return!1}});return!0}};d.prototype.mouseDrag=function(c){var b=this;this.dragged=!0;var e=this.prefix;if(!this.options.disabled){var d=this.options,k=this.opos[0],m=this.opos[1],g=c.pageX,u=c.pageY;if(k>g){var t=g;g=k;k=t}m>u&&\n(t=u,u=m,m=t);this.helper.css({left:k+1,top:m+1,width:g-k,height:u-m});this.selectees.each(function(){var f=$.data(b,\"selectable-item\"),t=!1;f&&f.element!==b.element[0]&&(\"touch\"===d.tolerance?t=!(f.left>g||f.right<k||f.top>u||f.bottom<m):\"fit\"===d.tolerance&&(t=f.left>k&&f.right<g&&f.top>m&&f.bottom<u),t?(f.selected&&(f.$element.removeClass(e+\"selected\"),f.selected=!1),c.metaKey||c.ctrlKey||c.shiftKey||self.escape(c)||!f.unselecting||self.uniqueSelectElement||(f.$element.removeClass(e+\"unselecting\"),\nf.unselecting=!1),f.selecting||f.unselecting||!self.options.disableJudge(f.$element)||(f.$element.addClass(e+\"selecting\"),f.selecting=!0,self.trigger(\"selecting\",c,{selecting:f.element}))):(f.selecting&&((c.metaKey||c.ctrlKey||c.shiftKey||self.escape(c))&&f.startselected?(f.$element.removeClass(e+\"selecting\"),f.selecting=!1,f.$element.addClass(e+\"selected\"),f.selected=!0):(f.$element.removeClass(e+\"selecting\"),f.selecting=!1,f.startselected&&(f.$element.addClass(e+\"unselecting\"),f.unselecting=!0),\nself.trigger(\"unselecting\",c,{unselecting:f.element}))),!f.selected||c.metaKey||c.ctrlKey||c.shiftKey||f.startselected||self.escape(c)||(f.$element.removeClass(e+\"selected\"),f.selected=!1,f.$element.addClass(e+\"unselecting\"),f.unselecting=!0,self.trigger(\"unselecting\",c,{unselecting:f.element}))))});return!1}};d.prototype.mouseStop=function(c){var b=this,e=this.prefix;this.dragged=!1;$(\".\"+e+\"unselecting\",this.element[0]).each(function(){var d=$.data(b,\"selectable-item\");d.$element.removeClass(e+\n\"unselecting\");d.unselecting=!1;d.startselected=!1;b.trigger(\"unselected\",c,{unselected:d.element})});$(\".\"+e+\"selecting\",this.element[0]).each(function(){var d=$.data(b,\"selectable-item\");d.$element.removeClass(e+\"selecting\").addClass(e+\"selected\");d.selecting=!1;d.selected=!0;d.startselected=!0;b.trigger(\"selected\",c,{selected:d.element})});this.trigger(\"stop\",c);this.helper.remove();return!1};return d}(p.a);v.a=p},function(p,v,n){p=n(1);var h=this&&this.__extends||function(){var g=Object.setPrototypeOf||\n{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var b in c)c.hasOwnProperty(b)&&(d[b]=c[b])};return function(d,c){function b(){this.constructor=d}g(d,c);d.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();p=function(g){function d(c,b){var e=g.call(this)||this;e.options=$.extend({name:null,items:[],hover:!0,type:\"left\",mode:\"\",change:null,arrow:!0,repeat:!1},b);e.active=!1;e.createComponent(c,b);d.selectObjects.push(e);return e}h(d,g);d.prototype.create=\nfunction(){var c=this.options,b=this.prefix,e=this.container;this.options.mode&&e.addClass(\"selectmenu-mode-\"+this.options.mode);if(c.items.length){e.empty();this.list=$(\"<ul>\").addClass(b+\"selectmenu-list\").addClass(b+\"selectmenu-list-\"+this.options.type).appendTo(e);this.list.children().addClass(b+\"selectmenu-list-row\");for(var d=0;d<c.items.length;d++)this.add(c.items[d]);5<c.items.length&&this.list.mCustomScrollbar({axis:\"y\",scrollInertia:100,autoHideScrollbar:!0,mouseWheel:{scrollAmount:48,preventDefault:!1}})}else this.list=\ne.find(\">ul\").addClass(b+\"selectmenu-list\").addClass(b+\"selectmenu-list-\"+this.options.type);this.options.arrow&&$(\"<div>\").addClass(b+\"selectmenu-arrow \"+b+\"icon \"+b+\"icon-arrow-down\").prependTo(e);$(\"<span>\").addClass(b+\"selectmenu-txt\").prependTo(e);c=this.getSelected();0===c.length?this.setSelected(this.list.find(\"li.\"+b+\"selectmenu-list-row\").eq(0)):$(\".\"+b+\"selectmenu-txt\",this.container).html(c.html());return e};d.prototype.initEvent=function(){var c=this.container,b=this,e=this.prefix;this.off(c,\n\"mouseenter\");this.off(c,\"mouseleave\");this.off(c,\"click\");this.on(c,\"click\",function(c){b.tap(c)});this.isMobile||!0!==this.options.hover||(this.on(c,\"mouseenter\",function(c){b.mover(c)}),this.on(c,\"mouseleave\",function(c){b.mout(c)}));this.off(this.list.find(\"li.\"+e+\"selectmenu-list-row\"),\"click\");this.on(this.list,\"click\",\"li.\"+e+\"selectmenu-list-row\",function(c){b.select(c,$(c.currentTarget));b.container.trigger(\"click\")})};d.prototype.add=function(c){var b=$(\"<li>\").addClass(this.prefix+\"selectmenu-list-row\").html(c.name).appendTo(this.list);\nb.attr(\"data-value\",c.value);c.selected&&b.attr(\"data-selected\",\"selected\");c.disabled&&b.attr(\"data-disabled\",\"disabled\").addClass(this.prefix+\"state-disabled\");this.options.name&&b.attr(\"name\",this.options.name);this.setAttributes(b,c.attributes);return b};d.prototype.mover=function(c){c.stopPropagation();for(var b=0;b<d.selectObjects.length;b++)d.selectObjects[b].mout(c);if(!this.container.attr(\"data-disabled\")&&this.list.length){var e=this;this.container.addClass(this.prefix+\"selectmenu-on\");\nthis.list.show();this.active=!0;if(this.isMobile||!0!==this.options.hover)this.off($(document),\"click\"),this.on($(document),\"click\",function(b){e.mout(b)})}};d.prototype.mout=function(c){this.container.removeClass(this.prefix+\"selectmenu-on\");this.list.hide();this.active=!1;(this.isMobile||!0!==this.options.hover)&&this.off($(document),\"click\")};d.prototype.tap=function(c){this.active?this.mout(c):this.mover(c)};d.prototype.select=function(c,b){this.mout(c);if(b&&!this.toChange(b))return!1;this.change(b)};\nd.prototype.change=function(c){c=c||this.getSelected();this.trigger(\"change\",c.attr(\"data-value\"),c)};d.prototype.toChange=function(c){if(c.attr(\"data-selected\")&&!this.options.repeat||c.attr(\"data-disabled\"))return!1;this.setSelected(c);return!0};d.prototype.setSelected=function(c){var b=this.prefix;$(\"li.\"+b+\"selectmenu-list-row\",this.list).removeAttr(\"data-selected\");c.attr(\"data-selected\",\"selected\");$(\".\"+b+\"selectmenu-txt\",this.container).html(c.html())};d.prototype.value=function(c,b){2>arguments.length&&\n(b=c,c=\"data-value\");if(void 0!==b){var e=this.list.find(\"[\"+c+'=\"'+b+'\"]').first();e.length&&this.toChange(e)&&this.change(e);return e}return this.getSelected().attr(\"data-value\")};d.prototype.getSelected=function(){return this.list.find('[data-selected=\"selected\"]')};d.prototype.close=function(c){var b=this.prefix;null!=c&&(c.originalEvent?$(\".\"+b+\"selectmenu\").each(function(c,d){$(\".\"+b+\"selectmenu-list\",$(d)).hide()}):$(\".\"+b+\"selectmenu-list\",c).hide())};d.prototype.refresh=function(){this.setSelected(this.getSelected())};\nd.prototype.reset=function(){var c=this.list.children().first(),b=this.prefix;$(\"li.\"+b+\"selectmenu-list-row\",this.list).removeAttr(\"data-selected\");c.attr(\"data-selected\",\"selected\");$(\".\"+b+\"selectmenu-txt\",this.container).html(c.html());c.attr(\"data-disabled\")||this.change(c)};d.selectObjects=[];return d}(p.a);v.a=p},function(p,v,n){p=n(1);var h=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var b in c)c.hasOwnProperty(b)&&\n(d[b]=c[b])};return function(d,c){function b(){this.constructor=d}g(d,c);d.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();p=function(g){function d(c,b){var e=g.call(this)||this;e.options=$.extend({items:[],type:\"\",change:null,theme:\"\",defaultSelected:!0},b);e.createComponent(c,b);return e}h(d,g);d.prototype.create=function(){var c=this.options,b=this.prefix;this.list=this.container.is(\"ul\")?this.container.addClass(b+\"tab-list\"):$(\"<ul>\").addClass(b+\"tab-list\").appendTo(this.container);\nthis.options.type&&this.container.addClass(b+\"tab-list-type-\"+this.options.type);for(var e=0;e<c.items.length;e++)this.add(c.items[e]);0===this.getSelected().length&&c.defaultSelected&&this.setSelected(this.list.find(\".\"+b+\"tab-list-row\").eq(0));return this.container};d.prototype.createRadios=function(){};d.prototype.initEvent=function(){var c=this,b=this.prefix;this.off(this.list.find(\".\"+b+\"tab-list-row\"),\"click\");this.on(this.list,\"click\",\".\"+b+\"tab-list-row\",function(b){b.stopPropagation();c.switchTab(b,\n$(b.currentTarget))})};d.prototype.add=function(c){var b=this.prefix,e=$(\"<li>\").addClass(b+\"tab-list-row\").appendTo(this.list);c.name?e.text(c.name):c.html&&e.html(c.html);e.attr(\"data-value\",c.value);c.selected&&e.attr(\"data-selected\",\"selected\");c.disabled&&e.attr(\"data-disabled\",\"disabled\").addClass(b+\"state-disabled\");\"radios\"===this.options.type&&(b=$('<i class=\"'+this.prefix+'tab-list-row-radio bilibili-player-iconfont icon-radio-default\"></i>'),e.prepend(b));this.setAttributes(e,c.attributes);\nreturn e};d.prototype.switchTab=function(c,b){if(b&&!this.toChange(b))return!1;this.change(b)};d.prototype.change=function(c){c=c||this.getSelected();this.trigger(\"change\",c.attr(\"data-value\"),c)};d.prototype.toChange=function(c){if(c.attr(\"data-selected\")||c.attr(\"data-disabled\"))return!1;this.setSelected(c);return!0};d.prototype.setSelected=function(c){var b=this.prefix;$(\".\"+b+\"tab-list-row\",this.list).removeClass(b+\"state-selected\").removeAttr(\"data-selected\");this.list.find(\"i\").removeClass(\"icon-radio-selected\").addClass(\"icon-radio-default\");\nc.addClass(b+\"state-selected\").attr(\"data-selected\",\"selected\");c.find(\"i\").addClass(\"icon-radio-selected\").removeClass(\"icon-radio-default\")};d.prototype.value=function(c,b){2>arguments.length&&(b=c,c=\"data-value\");if(void 0!==b){var e=this.list.find(\"[\"+c+'=\"'+b+'\"]');e.length&&this.switchTab(null,e);return e}return this.getSelected().attr(c||\"data-value\")};d.prototype.getSelected=function(){return this.list.find('[data-selected=\"selected\"]')};return d}(p.a);v.a=p},function(p,v,n){p=n(1);var h=\nthis&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var b in c)c.hasOwnProperty(b)&&(d[b]=c[b])};return function(d,c){function b(){this.constructor=d}g(d,c);d.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();p=function(g){function d(c,b){var e=g.call(this)||this;e.options={items:[],change:null};e.createComponent(c,b);return e}h(d,g);d.prototype.create=function(){var c=this.options,b=this.prefix;\nthis.list=this.container.is(\"ul\")?this.container.addClass(b+\"multiselect-list\"):$(\"<ul>\").addClass(b+\"multiselect-list\").appendTo(this.container);for(b=0;b<c.items.length;b++)this.add(c.items[b]);return this.container};d.prototype.initEvent=function(){var c=this,b=this.prefix;this.off(this.list.find(\".\"+b+\"multiselect-list-row\"),\"click\");this.on(this.list,\"click\",\".\"+b+\"multiselect-list-row\",function(b){b.stopPropagation();c.switchTab(b,$(b.currentTarget))})};d.prototype.add=function(c){var b=this.prefix,\ne=$(\"<li>\").addClass(b+\"multiselect-list-row\").appendTo(this.list);c.name?e.text(c.name):c.html&&e.html(c.html);e.attr(\"data-value\",c.value);c.selected&&e.attr(\"data-selected\",\"selected\");c.disabled&&e.attr(\"data-disabled\",\"disabled\").addClass(b+\"state-disabled\");this.setAttributes(e,c.attributes);return e};d.prototype.switchTab=function(c,b){if(b&&!this.toChange(b))return!1;this.change(b)};d.prototype.change=function(c){c=c||this.getSelected();this.trigger(\"change\",c.attr(\"data-value\"),c)};d.prototype.toChange=\nfunction(c){if(c.attr(\"data-disabled\"))return!1;c.attr(\"data-selected\")?this.cancelSelected(c):this.setSelected(c);return!0};d.prototype.setSelected=function(c){c.addClass(this.prefix+\"state-selected\").attr(\"data-selected\",\"selected\")};d.prototype.cancelSelected=function(c){c.removeClass(this.prefix+\"state-selected\").removeAttr(\"data-selected\")};d.prototype.value=function(c,b){if(void 0!==b){var e=this.list.find(\"[\"+c+'=\"'+b+'\"]');e.length&&this.switchTab(null,e);return e}b=[];this.getSelected().each(function(e,\nd){e=$(d);e.attr(c||\"data-value\")&&b.push(e.attr(c||\"data-value\"))});return b};d.prototype.getSelected=function(){return this.list.find('[data-selected=\"selected\"]')};return d}(p.a);v.a=p},function(p,v,n){p=n(1);var h=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var b in c)c.hasOwnProperty(b)&&(d[b]=c[b])};return function(d,c){function b(){this.constructor=d}g(d,c);d.prototype=null===c?Object.create(c):\n(b.prototype=c.prototype,new b)}}();p=function(g){function d(c,b){var e=g.call(this)||this;e.options={icon:null,change:null};e.status=null;e.createComponent(c,b);return e}h(d,g);d.prototype.create=function(){this.options.icon&&$('<i class=\"'+this.prefix+'icon\">').addClass(this.options.icon).appendTo(this.container);this.setToggle(\"on\");return this.container};d.prototype.initEvent=function(){var c=this;this.on(this.container,\"click\",function(){c.toggle()})};d.prototype.toggle=function(c){this.setToggle(c);\nthis.trigger(\"change\",this.status)};d.prototype.setToggle=function(c){void 0===c&&(c=1===+this.status?\"off\":\"on\");\"off\"===c?(this.container.removeClass(this.prefix+\"state-active\"),this.status=0):(this.container.addClass(this.prefix+\"state-active\"),this.status=1);return this.status};return d}(p.a);v.a=p},function(p,v,n){var h=n(18);p=n(1);var g=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var e in b)b.hasOwnProperty(e)&&\n(c[e]=b[e])};return function(c,b){function e(){this.constructor=c}d(c,b);c.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}}();p=function(d){function c(b,c){var e=d.call(this)||this;e.options={name:null,value:0,horizontal:!0,precision:0,section:null,start:null,update:null,move:null,mouseenter:null,mouseleave:null,change:null,hint:!1,unchanged:!1,valueSetAnalyze:function(b){return b},valueGetAnalyze:function(b){return b},valueHintAnalyze:function(b){return b}};e.progress=0;e.section=\n0;e.moving=0;e.createComponent(b,c);return e}g(c,d);c.prototype.create=function(){this.$trk=$(\"<div>\").addClass(this.cssPrefix(\"tracker-wrp\")).appendTo(this.container);this.$trkDiv=$(\"<div>\").addClass(this.cssPrefix(\"tracker\")).appendTo(this.$trk);this.$handle=$(\"<div>\").addClass(this.cssPrefix(\"handle\")).appendTo(this.$trkDiv);this.options.horizontal?this.$progress=$(\"<div>\").addClass(this.cssPrefix(\"progress\")).appendTo(this.$trkDiv).css(\"width\",((this.$trk.width()-this.$handle.width())*parseFloat(this.options.value)+\nthis.$handle.width()/2)/this.$trk.width()*100+\"%\"):(this.container.addClass(this.prefix+\"slider-vertical\"),this.$progress=$(\"<div>\").addClass(this.cssPrefix(\"progress\")).appendTo(this.$trkDiv).css(\"height\",((this.$trk.height()-this.$handle.height())*parseFloat(this.options.value)+this.$handle.height()/2)/this.$trk.height()*100+\"%\"));this.options.hint&&(this.$hint=$(\"<div>\").addClass(this.cssPrefix(\"hint\")).appendTo(this.$handle));this.options.name&&(this.$trk.attr(\"name\",this.options.name),this.$trkDiv.attr(\"name\",\nthis.options.name),this.$handle.attr(\"name\",this.options.name));return this.container};c.prototype.initEvent=function(){var b=this,c;this.on(this.$handle,h.a.mousedown,function(e){e.preventDefault();e.stopPropagation();1<e.button||(b.moving=0,c=b.options.horizontal?b.getEventsPage(e).x-b.$trk.offset().left-b.$handle.width()/2:b.$trk.height()-b.getEventsPage(e).y+b.$trk.offset().top-b.$handle.height()/2,b.setPos(c),b.bindMove(e),b.trigger(\"start\"),b.options.hint&&b.$hint.html(b.options.valueHintAnalyze(b.progress)).show())});\nthis.on(this.$trk,h.a.mousedown,function(e){1<e.button||(b.moving=0,c=b.options.horizontal?b.getEventsPage(e).x-b.$trk.offset().left-b.$handle.width()/2:b.$trk.height()-b.getEventsPage(e).y+b.$trk.offset().top-b.$handle.height()/2,b.setPos(c),b.bindMove(e),b.trigger(\"start\"),b.options.hint&&b.$hint.html(b.options.valueHintAnalyze(b.progress)).show())});this.on(this.container,\"mouseenter\",function(c){b.trigger(\"mouseenter\",c,b)});this.on(this.container,\"mouseleave\",function(b){this.trigger(\"mouseleave\",\nb,this)})};c.prototype.setPos=function(b){var c=this.options.horizontal?this.$trk.width()-this.$handle.width():this.$trk.height()-this.$handle.height();0>b?b=0:b>c&&(b=c);this.setProgress(b/c)};c.prototype.setProgress=function(b){var c,d,k=this.prefix;this.options.precision&&1<this.options.precision&&(b=Math.round(b*this.options.precision)/this.options.precision);this.progress=b;if(this.options.section&&1>=this.options.section){b=Math.round(this.progress/this.options.section);this.progress=c=b*this.options.section;\nif(String(this.section)===String(b))return;for(d=0;d<Math.floor(1/this.options.section)+1;d++)this.$trk.removeClass(k+\"slider-s\"+d);this.$trk.addClass(k+\"slider-s\"+b);this.section=b}else c=this.progress;this.trigger(\"update\",this.options.valueGetAnalyze(c),this.$handle);1<c&&(c=1);this.options.horizontal?(this.$handle.css(\"left\",((this.$trk.width()-this.$handle.width())*c+this.$handle.width()/2)/this.$trk.width()*100+\"%\"),this.$progress.css(\"width\",100*c+\"%\")):(this.$handle.css(\"bottom\",((this.$trk.height()-\nthis.$handle.height())*c+this.$handle.height()/2)/this.$trk.height()*100+\"%\"),this.$progress.css(\"height\",100*c+\"%\"))};c.prototype.bindMove=function(b){var c=this,d;var k=this.options.horizontal?this.getEventsPage(b).x-this.$handle.position().left+this.$handle.width()/2:this.getEventsPage(b).y-this.$handle.position().top-this.$handle.height();this.on($(document),h.a.mousemove,function(b){c.moving++;b.preventDefault();2>c.moving||(d=c.options.horizontal?c.getEventsPage(b).x-k:c.$trk.height()-c.getEventsPage(b).y+\nk,c.setPos(d),c.trigger(\"move\",c.options.valueGetAnalyze(c.progress)),c.options.hint&&c.$hint.html(c.options.valueHintAnalyze(c.progress)))});this.on(this.document,h.a.mouseup,function(b){c.moving=0;c.off($(document),h.a.mousemove);c.off(c.document,h.a.mouseup);c.trigger(\"change\",c.options.valueGetAnalyze(c.progress),c.$handle);c.options.hint&&c.$hint.html(\"\").hide()})};c.prototype.value=function(b){if(void 0!==b)this.setProgress(this.options.valueSetAnalyze(b)),this.options.unchanged||this.trigger(\"change\",\nthis.value());else return this.options.valueGetAnalyze(this.progress)};c.prototype.resize=function(){var b=this.progress;this.options.horizontal?this.$handle.css(\"left\",((this.$trk.width()-this.$handle.width())*b+this.$handle.width()/2)/this.$trk.width()*100+\"%\"):this.$handle.css(\"bottom\",((this.$trk.height()-this.$handle.height())*b+this.$handle.height()/2)/this.$trk.height()*100+\"%\")};return c}(p.a);v.a=p},function(p,v,n){p=n(1);var h=this&&this.__extends||function(){var d=Object.setPrototypeOf||\n{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d])};return function(c,b){function e(){this.constructor=c}d(c,b);c.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}}(),g=function(d){return function(){var c=this.element.val();d.apply(this,arguments);this.refresh();c!==this.element.val()&&this.trigger(\"change\")}};p=function(d){function c(b,c,f){var e=d.call(this)||this;e.options={culture:null,icons:{down:\"icon-arrow-down-s\",\nup:\"icon-arrow-up-s\"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null,value:void 0,disabled:void 0};e.bpui=f;e.createComponent(b,c);return e}h(c,d);c.prototype.create=function(){this.element=$(\"<input>\").appendTo(this.container);this.setOption(\"max\",this.options.max);this.setOption(\"min\",this.options.min);this.setOption(\"step\",this.options.step);\"undefined\"!==typeof this.options.value&&this.valueSilence(this.options.value,!0);this.draw();\nthis.on(this.events);this.refresh();this.on(this.window,{beforeunload:function(){this.element.removeAttr(\"autocomplete\")}})};c.prototype.getCreateOptions=function(){var b={},c=this.element;$.each([\"min\",\"max\",\"step\"],function(d,e){d=c.attr(e);void 0!==d&&d.length&&(b[e]=d)});return b};c.prototype.initEvent=function(){var b=this.prefix;this.on({keydown:function(b){this.start(b)&&this.keydown(b)&&b.preventDefault()},keyup:\"stop\",focus:function(){this.previous=this.element.val()},blur:function(b){if(this.cancelBlur)delete this.cancelBlur;\nelse{this.stop();if(!this.isValid()){var c=this.value()||0,d=this.options.max,e=this.options.min,c=c>d?d:c;this.value(c<e?e:c)}this.refresh();this.previous!==this.element.val()&&this.trigger(\"change\",b)}},mousewheel:function(b,c){if(c){if(!this.spinning&&!this.start(b))return!1;this.spin((0<c?1:-1)*this.options.step,b);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this.delay(function(){this.spinning&&this.stop(b)},100);b.preventDefault()}}});this.on(this.container,{mousedown:function(c){function d(){this.element[0]!==\nthis.document[0].activeElement&&(this.element.focus(),this.previous=e,this.delay(function(){this.previous=e}))}var e=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();c.preventDefault();d.call(this);this.cancelBlur=!0;this.delay(function(){delete this.cancelBlur;d.call(this)});!1!==this.start(c)&&this.repeat(null,$(c.currentTarget).hasClass(b+\"spinner-up\")?1:-1,c)},mouseup:\"stop\",mouseenter:function(c){if($(c.currentTarget).hasClass(b+\"state-active\")){if(!1===this.start(c))return!1;\nthis.repeat(null,$(c.currentTarget).hasClass(b+\"spinner-up\")?1:-1,c)}},mouseleave:\"stop\"},\".\"+b+\"spinner-button\")};c.prototype.draw=function(){var b=this.prefix,c=this.uiSpinner=this.element.addClass(b+\"spinner-input\").attr(\"autocomplete\",\"off\").wrap(this.uiSpinnerHtml()).parent().append(this.buttonHtml());this.element.attr(\"role\",\"spinbutton\");this.buttons=this.bpui.ui.button(c.find(\".\"+b+\"spinner-button\").attr(\"tabIndex\",-1));this.buttons.height()>Math.ceil(.5*c.height())&&0<c.height()&&c.height(c.height());\nthis.options.disabled&&this.disable()};c.prototype.keydown=function(b){var c=this.options,d=this.bpui.keyCode;switch(b.keyCode){case d.UP:return this.repeat(null,1,b),!0;case d.DOWN:return this.repeat(null,-1,b),!0;case d.PAGE_UP:return this.repeat(null,c.page,b),!0;case d.PAGE_DOWN:return this.repeat(null,-c.page,b),!0}return!1};c.prototype.uiSpinnerHtml=function(){return'<span class=\"'+this.prefix+'spinner-wrp\"></span>'};c.prototype.buttonHtml=function(){return'<a class=\"'+this.prefix+\"spinner-button \"+\nthis.prefix+'spinner-up\"><span class=\"'+this.prefix+\"icon \"+this.options.icons.up+'\"></span></a><a class=\"'+this.prefix+\"spinner-button \"+this.prefix+'spinner-down\"><span class=\"'+this.prefix+\"icon \"+this.options.icons.down+'\"></span></a>'};c.prototype.start=function(b){if(!this.spinning&&!1===this.trigger(\"start\",b))return!1;this.counter||(this.counter=1);return this.spinning=!0};c.prototype.repeat=function(b,c,d){b=b||500;clearTimeout(this.timer);this.timer=this.delay(function(){this.repeat(40,\nc,d)},b);this.spin(c*this.options.step,d)};c.prototype.spin=function(b,c){var d=this.value()||0;this.counter||(this.counter=1);d=this.adjustValue(d+b*this.increment(this.counter));this.spinning&&!1===this.trigger(\"spin\",c,{value:d})||(this.valueSilence(d),this.counter++)};c.prototype.increment=function(b){var c=this.options.incremental;return c?$.isFunction(c)?c(b):Math.floor(b*b*b/5E4-b*b/500+17*b/200+1):1};c.prototype.precision=function(){var b=this.precisionOf(this.options.step);null!==this.options.min&&\n(b=Math.max(b,this.precisionOf(this.options.min)));return b};c.prototype.precisionOf=function(b){b=b.toString();var c=b.indexOf(\".\");return-1===c?0:b.length-c-1};c.prototype.adjustValue=function(b){var c=this.options;var d=null!==c.min?c.min:0;b=d+Math.round((b-d)/c.step)*c.step;b=parseFloat(b.toFixed(this.precision()));return null!==c.max&&b>c.max?c.max:null!==c.min&&b<c.min?c.min:b};Object.defineProperty(c.prototype,\"stop\",{get:function(){var b=this;return function(c){b.spinning&&(clearTimeout(b.timer),\nclearTimeout(b.mousewheelTimer),b.counter=0,b.spinning=!1,b.trigger(\"stop\",c))}},enumerable:!0,configurable:!0});c.prototype.setOption=function(b,c){if(\"culture\"===b||\"numberFormat\"===b){var d=this.parse(this.element.val());this.options[b]=c;this.element.val(this.format(d))}else return\"max\"!==b&&\"min\"!==b&&\"step\"!==b||\"string\"!==typeof c||(c=this.parse(c)),\"icons\"===b&&(this.buttons.first().find(\".\"+this.prefix+\"icon\").removeClass(this.options.icons.up).addClass(c.up),this.buttons.last().find(\".\"+\nthis.prefix+\"icon\").removeClass(this.options.icons.down).addClass(c.down)),this.options[b]=c,\"disabled\"===b&&(this.widget().toggleClass(this.prefix+\"state-disabled\",!!c),this.element.prop(\"disabled\",!!c),this.bpui.ui.button(this.buttons,c?\"disable\":\"enable\")),this};c.prototype.parse=function(b){\"string\"===typeof b&&\"\"!==b&&(b=window.Globalize&&this.options.numberFormat?window.Globalize.parseFloat(b,10,this.options.culture):+b);return\"\"===b||isNaN(b)?null:b};c.prototype.format=function(b){return\"\"===\nb?\"\":window.Globalize&&this.options.numberFormat?window.Globalize.format(b,this.options.numberFormat,this.options.culture):b};c.prototype.refresh=function(){this.element.attr({\"data-valuemin\":this.options.min,\"data-valuemax\":this.options.max,\"data-valuenow\":this.parse(this.element.val())})};c.prototype.isValid=function(){var b=this.value();return null===b?!1:b===this.adjustValue(b)};c.prototype.valueSilence=function(b,c){if(\"\"!==b){var d=this.parse(b);null!==d&&(c||(d=this.adjustValue(d)),b=this.format(d))}this.element.val(b);\nthis.refresh()};c.prototype.destroyCus=function(){this.element.removeClass(this.prefix+\"spinner-input\").prop(\"disabled\",!1).removeAttr(\"autocomplete\").removeAttr(\"role\").removeAttr(\"data-valuemin\").removeAttr(\"data-valuemax\").removeAttr(\"data-valuenow\");this.uiSpinner.replaceWith(this.element)};c.prototype.stepUp=function(b){void 0===b&&(b=1);this.start()&&(this.spin((b||1)*this.options.step),this.stop())};c.prototype.stepDown=function(b){void 0===b&&(b=1);this.start()&&(this.spin((b||1)*-this.options.step),\nthis.stop())};c.prototype.value=function(b){if(!arguments.length)return this.parse(this.element.val());g(this.valueSilence).call(this,b)};c.prototype.widget=function(){return this.uiSpinner};return c}(p.a);v.a=p},function(p,v,n){p=n(1);var h=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var b in c)c.hasOwnProperty(b)&&(d[b]=c[b])};return function(d,c){function b(){this.constructor=d}g(d,c);d.prototype=\nnull===c?Object.create(c):(b.prototype=c.prototype,new b)}}();p=function(g){function d(c,b,d){var e=g.call(this)||this;e.bpui=d;e.options=$.extend({icons:{submenu:\"icon-arrow-left\"},data:null,items:\"> *\",menus:\"ul\",position:{my:\"left-1 top\",at:\"right top\"},role:\"menu\",blur:null,focus:null,select:null},b);e.delayTime=300;e.createComponent(c,b);return e}h(d,g);d.prototype.create=function(){var c=this.prefix;this.activeMenu=this.element=this.options.data?this.createMenu(this.options.data,this.container.is(\"ul\")):\nthis.container.is(\"ul\")?this.container:this.container.find(\">ul\");this.mouseHandled=!1;this.element.addClass(c+\"menu\").toggleClass(c+\"menu-icons\",!!this.element.find(\".\"+c+\"icon\").length).attr({role:this.options.role,tabIndex:0});this.uniqueId(this.element);this.options.disabled&&this.element.addClass(c+\"state-disabled\").attr(\"data-disabled\",\"true\");return this.container};d.prototype.initEvent=function(){var c=this.prefix;this.on(this.container,\"click\",function(b){b.stopPropagation();this.mouseHandled=\n!1});this.on({mouseleave:\"collapseAll\",focus:function(b,c){var d=this.active||this.element.find(this.options.items).eq(0);c||this.focus(b,d)},blur:function(b){this.delay(function(){$.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:\"keydown\"});this.on(\"mousedown\",\".\"+c+\"menu-item\",function(b){b.preventDefault()});this.on(\"click\",\".\"+c+\"menu-item\",function(b){var d=$(b.target);!this.mouseHandled&&d.not(\".\"+c+\"state-disabled\").length&&(this.select(b),b.isPropagationStopped()||\n(this.mouseHandled=!0),d.has(\".\"+c+\"menu\").length?this.expand(b):!this.element.is(\":focus\")&&$(this.document[0].activeElement).closest(\".\"+c+\"menu\").length&&(this.element.trigger(\"focus\",[!0]),this.active&&1===this.active.parents(\".\"+c+\"menu\").length&&clearTimeout(this.timer)))});this.on(\"mouseenter\",\".\"+c+\"menu-item\",function(b){if(!this.previousFilter){var d=$(b.currentTarget);d.siblings(\".\"+c+\"state-active\").removeClass(c+\"state-active\");this.focus(b,d)}});this.on(\"mouseleave\",\".\"+c+\"menu\",\"collapseAll\");\nthis.refresh();this.on(this.document,{click:function(b){this.closeOnDocumentClick(b)&&this.collapseAll(b);this.mouseHandled=!1}})};d.prototype.createMenu=function(c,b){b=b?this.container:$(\"<ul>\");for(var d=0;d<c.length;d++){var f=c[d];if(f.divider)$(\"<li>\").appendTo(b);else{var k=$(\"<li>\").appendTo(b).html(f.name);f.disabled&&k.addClass(this.prefix+\"state-disabled\");this.setAttributes(k,f.attributes);f.submenu&&k.append(this.createMenu(f.submenu))}}b.appendTo(this.container);return b};d.prototype.destroyCus=\nfunction(){var c=this.prefix;this.removeUniqueId(this.element.removeAttr(\"data-activedescendant\").find(\".\"+c+\"menu\").andSelf().removeClass(c+\"menu \"+c+\"component \"+c+\"menu-icons \"+c+\"front\").removeAttr(\"role\").removeAttr(\"tabIndex\").removeAttr(\"data-labelledby\").removeAttr(\"data-expanded\").removeAttr(\"data-hidden\").removeAttr(\"data-disabled\").show());this.removeUniqueId(this.element.find(\".\"+c+\"menu-item\")).removeClass(c+\"menu-item\").removeAttr(\"role\").removeAttr(\"data-disabled\").removeClass(c+\"state-hover\").removeAttr(\"tabIndex\").removeAttr(\"role\").removeAttr(\"data-haspopup\").children().each(function(){var b=\n$(this);b.data(c+\"menu-submenu-carat\")&&b.remove()});this.element.find(\".\"+c+\"menu-divider\").removeClass(c+\"menu-divider\")};d.prototype.keydown=function(c){var b=!0;var d=this.bpui.keyCode;var f=this.prefix;switch(c.keyCode){case d.PAGE_UP:this.previousPage(c);break;case d.PAGE_DOWN:this.nextPage(c);break;case d.HOME:this.move(\"first\",\"first\",c);break;case d.END:this.move(\"last\",\"last\",c);break;case d.UP:this.previous(c);break;case d.DOWN:this.next(c);break;case d.LEFT:this.collapse(c);break;case d.RIGHT:this.active&&\n!this.active.is(\".\"+f+\"state-disabled\")&&this.expand(c);break;case d.ENTER:case d.SPACE:this.activate(c);break;case d.ESCAPE:this.collapse(c);break;default:b=!1;var k=this.previousFilter||\"\";d=String.fromCharCode(c.keyCode);var m=!1;clearTimeout(this.filterTimer);d===k?m=!0:d=k+d;k=this.filterMenuItems(d);k=m&&-1!==k.index(this.active.next())?this.active.nextAll(\".\"+f+\"menu-item\"):k;k.length||(d=String.fromCharCode(c.keyCode),k=this.filterMenuItems(d));k.length?(this.focus(c,k),this.previousFilter=\nd,this.filterTimer=this.delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter}b&&c.preventDefault()};d.prototype.activate=function(c){this.active.is(\".\"+this.prefix+\"state-disabled\")||(this.active.is('[data-haspopup=\"true\"]')?this.expand(c):this.select(c))};d.prototype.refresh=function(){var c=this,b=this.options.icons.submenu;var d=this.element.find(this.options.menus);var f=this.prefix;this.element.toggleClass(f+\"menu-icons\",!!this.element.find(\".\"+f+\"icon\").length);d.filter(\":not(.\"+\nf+\"menu)\").addClass(f+\"menu \"+f+\"component \"+f+\"front\").hide().attr({role:this.options.role,\"data-hidden\":\"true\",\"data-expanded\":\"false\"}).each(function(){var c=$(this),d=c.parent(),e=$(\"<span>\").addClass(f+\"menu-icon \"+f+\"icon \"+b).data(f+\"menu-submenu-carat\",!0);d.attr(\"data-haspopup\",\"true\").prepend(e);c.attr(\"data-labelledby\",d.attr(\"id\"))});d=d.add(this.element).find(this.options.items);d.not(\".\"+f+\"menu-item\").each(function(){var b=$(this);c.isDivider(b)&&b.addClass(f+\"menu-divider\")});this.uniqueId(d.not(\".\"+\nf+\"menu-item, .\"+f+\"menu-divider\")).addClass(f+\"menu-item\").attr({tabIndex:-1,role:this.itemRole()});d.filter(\".\"+f+\"state-disabled\").attr(\"data-disabled\",\"true\");this.active&&!$.contains(this.element[0],this.active[0])&&this.blur()};d.prototype.itemRole=function(){return{menu:\"menuitem\",listbox:\"option\"}[this.options.role]};d.prototype.setOption=function(c,b){var d=this.prefix;\"icons\"===c&&this.element.find(\".\"+d+\"menu-icon\").removeClass(this.options.icons.submenu).addClass(b.submenu);\"disabled\"===\nc&&this.element.toggleClass(d+\"state-disabled\",!!b).attr(\"data-disabled\",b);return this};d.prototype.focus=function(c,b){var d=this.prefix;this.blur(c,c&&\"focus\"===c.type);this.scrollIntoView(b);this.active=b.first();var f=this.active.addClass(d+\"state-focus\").removeClass(d+\"state-active\");this.options.role&&this.element.attr(\"data-activedescendant\",f.attr(\"id\"));this.active.parent().closest(\".\"+d+\"menu-item\").addClass(d+\"state-active\");c&&\"keydown\"===c.type?this.close():this.timer=this.delay(function(){this.close()},\nthis.delayTime);f=b.children(\".\"+d+\"menu\");f.length&&c&&/^mouse/.test(c.type)&&this.startOpening(f);this.activeMenu=b.parent();this.trigger(\"focus\",c,{item:b})};d.prototype.scrollIntoView=function(c){if(this.hasScroll()){var b=parseFloat($.css(this.activeMenu[0],\"borderTopWidth\"))||0;var d=parseFloat($.css(this.activeMenu[0],\"paddingTop\"))||0;b=c.offset().top-this.activeMenu.offset().top-b-d;d=this.activeMenu.scrollTop();var f=this.activeMenu.height();c=c.outerHeight();0>b?this.activeMenu.scrollTop(d+\nb):b+c>f&&this.activeMenu.scrollTop(d+b-f+c)}};d.prototype.blur=function(c,b){var d=this.prefix;b||clearTimeout(this.timer);this.active&&(this.active.removeClass(d+\"state-focus\"),this.active=null,this.trigger(\"blur\",c,{item:this.active}))};d.prototype.startOpening=function(c){clearTimeout(this.timer);\"true\"===c.attr(\"data-hidden\")&&(this.timer=this.delay(function(){this.close();this.open(c)},this.delayTime))};d.prototype.open=function(c){var b=$.extend({of:this.active},this.options.position),d=this.prefix;\nclearTimeout(this.timer);this.element.find(\".\"+d+\"menu\").not(c.parents(\".\"+d+\"menu\")).hide().attr(\"data-hidden\",\"true\");c.show().removeAttr(\"data-hidden\").attr(\"data-expanded\",\"true\");c.position(b)};d.prototype.collapseAll=function(c,b){clearTimeout(this.timer);var d=this.prefix;this.timer=this.delay(function(){var e=b?this.element:$(c&&c.target).closest(this.element.find(\".\"+d+\"menu\"));e.length||(e=this.element);this.close(e);this.blur(c);this.activeMenu=e},this.delayTime)};d.prototype.close=function(c){c||\n(c=this.active?this.active.parent():this.element);var b=this.prefix;c.find(\".\"+b+\"menu\").hide().attr(\"data-hidden\",\"true\").attr(\"data-expanded\",\"false\").end().find(\".\"+b+\"state-active\").not(\".\"+b+\"state-focus\").removeClass(b+\"state-active\")};d.prototype.closeOnDocumentClick=function(c){return!$(c.target).closest(\".\"+this.prefix+\"menu\").length};d.prototype.isDivider=function(c){return!/[^\\-\\u2014\\u2013\\s]/.test(c.text())};d.prototype.collapse=function(c){var b=this.active&&this.active.parent().closest(\".\"+\nthis.prefix+\"menu-item\",this.element[0]);b&&b.length&&(this.close(),this.focus(c,b))};d.prototype.expand=function(c){var b=this.active&&this.active.children(\".\"+this.prefix+\"menu \").find(this.options.items).first();b&&b.length&&(this.open(b.parent()),this.delay(function(){this.focus(c,b)}))};d.prototype.next=function(c){this.move(\"next\",\"first\",c)};d.prototype.previous=function(c){this.move(\"prev\",\"last\",c)};d.prototype.isFirstItem=function(){return this.active&&!this.active.prevAll(\".\"+this.prefix+\n\"menu-item\").length};d.prototype.isLastItem=function(){return this.active&&!this.active.nextAll(\".\"+this.prefix+\"menu-item\").length};d.prototype.move=function(c,b,d){var e,k=this.prefix;this.active&&(e=\"first\"===c||\"last\"===c?this.active[\"first\"===c?\"prevAll\":\"nextAll\"](\".\"+k+\"menu-item\").eq(-1):this.active[c+\"All\"](\".\"+k+\"menu-item\").eq(0));e&&e.length&&this.active||(e=this.activeMenu.find(this.options.items)[b]());this.focus(d,e)};d.prototype.nextPage=function(c){var b,d=this.prefix;if(!this.active)this.next(c);\nelse if(!this.isLastItem())if(this.hasScroll()){var f=this.active.offset().top;var k=this.element.height();this.active.nextAll(\".\"+d+\"menu-item\").each(function(){b=$(this);if(0<=b.offset().top-f-k)return!1});this.focus(c,b)}else this.focus(c,this.activeMenu.find(this.options.items)[this.active?\"last\":\"first\"]())};d.prototype.previousPage=function(c){var b,d=this.prefix;if(!this.active)this.next(c);else if(!this.isFirstItem())if(this.hasScroll()){var f=this.active.offset().top;var k=this.element.height();\nthis.active.prevAll(\".\"+d+\"menu-item\").each(function(){b=$(this);if(0>=b.offset().top-f+k)return!1});this.focus(c,b)}else this.focus(c,this.activeMenu.find(this.options.items).first())};d.prototype.hasScroll=function(){return this.element.outerHeight()<this.element.prop(\"scrollHeight\")};d.prototype.select=function(c){var b=this.prefix;this.active=this.active||$(c.target).closest(\".\"+b+\"menu-item\");var d={item:this.active};this.active.has(\".\"+b+\"menu\").length||this.collapseAll(c,!0);this.trigger(\"select\",\nc,d)};d.prototype.filterMenuItems=function(c){c=c.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\");var b=new RegExp(\"^\"+c,\"i\");c=this.prefix;return this.activeMenu.find(this.options.items).filter(\".\"+c+\"menu-item\").filter(function(){return b.test($.trim($(this).text()))})};return d}(p.a);v.a=p},function(p,v,n){p=n(1);var h=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var b in c)c.hasOwnProperty(b)&&(d[b]=\nc[b])};return function(d,c){function b(){this.constructor=d}g(d,c);d.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();p=function(g){function d(c,b,d){var e=g.call(this)||this;e.state=0;e.options=$.extend({label:null,state:0,change:null},b);e.bpui=d;e.createComponent(c,b);return e}h(d,g);d.prototype.create=function(){var c=this.bpui.ui;this.element.addClass(this.prefix+\"tristatecheckbox\");this.container=this.element.parent();\"tristatecheckbox\"===this.options.id?this.element.attr(\"id\",\nthis.options.id+this.uuid):this.element.attr(\"id\",this.options.id);this.container.find(\"label\").length?this.label=this.container.find(\"label\").attr(\"for\",this.element.attr(\"id\")).addClass(this.options.labelClass):this.label=$(\"<label>\").attr(\"for\",this.element.attr(\"id\")).addClass(this.options.labelClass).appendTo(this.container);var b=this.options.label||this.label.html();this.options.label='<i class=\"bpui-icon-checkbox icon-12checkbox\"></i><i class=\"bpui-icon-checkbox icon-12selected2\"></i><i class=\"bpui-icon-checkbox icon-12select\"></i><span class=\"'+\nthis.prefix+'checkbox-text\">'+b+\"</span>\";c.button(this.element,this.options);this.button=this.element;if(0<=window.navigator.userAgent.indexOf(\"Trident\"))this.on(\"click\",function(b){b.target.indeterminate||1!==+this.state||$(b.target).trigger(\"change\")});this.on(\"change\",function(b){!b.isTrigger&&b.hasOwnProperty(\"which\")||b.preventDefault();this.changeState(b)});this.element.prop(\"indeterminate\")?this.toSetState(1):this.toSetState(this.options.state)};d.prototype.changeState=function(c){switch(this.state){case 0:this.toSetState(1);\nbreak;case 1:this.toSetState(2);break;default:this.toSetState(0)}this.trigger(\"change\",this.state,this.element,c)};d.prototype.value=function(){return this.state};d.prototype.setState=function(c){this.toSetState(c);this.trigger(\"change\",this.state)};d.prototype.toSetState=function(c){var b=this.element;this.state=c;c=this.prefix;switch(this.state){case 0:b.prop(\"indeterminate\",!1);b.prop(\"checked\",!1);b.siblings(\"label\").removeClass(c+\"state-active\");break;case 1:b.prop(\"indeterminate\",!0);b.siblings(\"label\").removeClass(c+\n\"state-active\").addClass(c+\"state-indeterminate\");break;case 2:b.prop(\"indeterminate\",!1);b.prop(\"checked\",!0);b.siblings(\"label\").removeClass(c+\"state-indeterminate\").addClass(c+\"state-active\");break;default:b.prop(\"indeterminate\",!1),b.prop(\"checked\",!1)}};d.prototype.setOption=function(c,b){var d=this.bpui.ui;\"disabled\"===c&&d.button(this.element,\"option\",c,b);this.options[c]=b;return this};d.prototype.destroyCus=function(){var c=this.bpui.ui;this.element.removeClass(this.prefix+\"tristatecheckbox\");\nc.button(this.element,\"destroy\")};return d}(p.a);v.a=p},function(p,v,n){var h=n(0);p=function(){function g(d){this.player=d;this.prefix=this.player.prefix;this.init()}g.prototype.TPL=function(){var d=this.prefix;return'<div class=\"'+d+'-area video-state-pause\"><div class=\"'+d+'-video-recommend\"></div><div class=\"'+d+'-video-wrap\"><div class=\"'+d+'-video-suspension\"></div><div class=\"'+d+'-video-share-panel\"></div><div class=\"'+d+'-video-pause-panel\"></div>'+(this.player.config.record?'<div class=\"'+\nd+'-video-record\"><div class=\"'+d+'-video-record-item\">'+decodeURIComponent(this.player.config.record).replace(/\\n/gi,\"<br>\")+\"</div></div>\":\"\")+'<div class=\"'+d+'-video-state\"><svg class=\"'+d+'-video-state-play\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" style=\"enable-background:new 0 0 100 100;\" xml:space=\"preserve\"><style type=\"text/css\">.st0{fill:#FFFFFF;}</style><g><image style=\"overflow:visible;opacity:0.75;\" width=\"80\" height=\"70\" xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABGCAYAAABbnhMrAAAACXBIWXMAAAsSAAALEgHS3X78AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAB7lJREFUeNrsnIly4zYMhkmJlo841+620/d/vnaPJD5lSbU6QPP7D6jDx+aSZjD22jEpfARAkALXueEaruF6x5d/A31U76QP8wq/AZyn96hUdaKS3Ic32qsuCTJcEB5KIuIJXi0lvHZVUttJoH2GqG2WNFjVWweIiqSiXCCIqFwh4joqye2n0I/V/g76ObslXtICE1FsBBJAwUKUy0W8fNZkiZ7aDtR2Cu1r24m8orW/CwtUeGORyV4y+VwV3O5lA5JHLNIZVodtj6XtAANRt70WgBg2/Fu2QAzqaiG1crO9XAnEkXy/EwWXIup+ubRRGG2j1dVtTaXtmfw7CJyc4BU0MGeDGM4IzdGEkYCV1ApeA8REAK4AamrMpCW811iayW/qtubQ7lS+LwXeAkJFDu5cUbvV7wLoG/Iub8S+YCh8IzBHothaFGeAHlyxAuvjtm5F5vJ5KqCWcj8aIvReCmOiiqU51bkA+khq4iPfWwF+LKCuxGLG8rcbApjA71OYQdX6JjIANby7vdzL61zarKRNDyBxkinAsi2QVd/8NHScEBLDPZMITHS1MclUlJ0BoClMAIHA5wBwBKFA4X0RC7wCQEsID9h3AaGjNICVJJ1y09AhFUko3wqQMnCCjBaYgcVMIegrxExubAYzdAYWuxBrUoBjcN0vIvcCdCJ9b8EKtb+NwEvl+4IAYj66E8FJp2xKf0KHPE5ThowkUO7FCW4ApTXQz2BGnkKONqV0p/7+iZQfC/hbAXcP1jcSJVeUwmj+F6StHcTBygC3Jckjbt8IkONYRtaj1jSG2JIYS7cU0g21nGuBoG6saccVWKq6aQygxr87mDw0LUppdePl/ucAg11UE+6NQF+BrAWki0EMLZl+RsH/mtIGdbmYK1tph4LU32vAV+us/+ZRYhm7sMK9gUEYiVJbSKS9vJ8ChF3EdXP5fiVh41EkjazdD2KiZYGW9dyB29wBxDHNoNaMjBPKjKwtk78p5HMdqIUoxJPIlEJBBla3BY/I5PtNBB66r1qfwvsp95rSpkQFeaVpgRzD1PquBdwfe/m2l6/kPgjQNUDkZR3C16XdTCxmDTFI88ARWLP+HpduOQ2ULg0teI4AriVk/IQVDa5gdhQW/rfC0BD/GGAN7y8BeS8AOQl2kdfESFEwfurN6qydQ8yqaG3NmwcOYpmmSjlMDGUkt8NVykoAakhw8ltcp2/lXssmF2a3m0Le9VXg/Unpw4gmkaYVSkLpUEKL/cJIITi0oHgAWJKllJGE2ZEbqwUivByWgwuJxwF2jRpd2Ar+1xQH78GFgxH/2pLyJAK9NGJOZczwHsAjkFFkE9VFdqpL2NQIAK8G9gBr98zINlpdONASbA6L9zkkw4GUaXs+4SNb8A7iYdWyH+gjYJp+ay3NFGAAt12KbleQnwZjomzNAwME7jHkghNaOaQE8JRNib5b+u6UjQCY4R3ohXluZuS6ZiLdZUOAA3gwYtE5nqT5lh3ppvaqnk8bPXBo0jU1Qs5//YWWXRdrLZy0xLHXfOR6zG9Yn9hzlhfwXIvrWU/U/AWBvfbV9CTRN9E/5dnuR4TYS9/kiBFyH9AKj9Yt6djgZ71aoSZuuE66BoADwAHgAHAAOFwDwAHgAHAAOFwDwAHgAHAAOFxnAXixcxWf2QIZ6mcA26pvckQD1QcFZZX6nmSBXAZW9W38HYPsrGtosDbrOBbWnKhYW92vdnqyZ9+x+mguwozCDNCQd3bpa26IVj4lZMlNME86TnAktKa+sUILy3x3pCPWVL+45xAZISx91bMWWv6q9XsB2kgIIkrV4CLnBtinb9QTdVy7w5I2hnhw3yECT0dk455LX5/cYQ2d1iXzGY9Y1ULTcYLqRHi+Z9+Fe1mh+kSydIeFnma1fojEAx0VrZHT0leuodMCS6yVidXNWO5StMWYDuCs01Fd+s5BTy2wrHX8sZdfovPCPVf7m8WaocF9tWGFNyF4K/dc/oXFOHwUQl0b2+VjBDq6XV0aD1xjTXfXvjf0fikAa3h/7+Uf0flR9MQ66+gszC6MAMfuZQGiVslrGRieRtISMS1/c+7w/MYKYg2Pbh8L5PrrSUvfeHwB4/kSLPC7QPzuDk8L7Lq4MJq7dpjCjWg154N7rpFmcFcgWLC9c4dlswuAyAdgurovFoJOOvb95J7Ldpei45JC1Q95fZDvtpGJxJyFuXrdwyjqcQA9ajChkcezIHMjZupIP1CgRlfuswzF4xizHn0/Qv8rgKmAH2EywfurXMtBGz4CsCWrVIBTcl0FqCXAt+75LEkmbWxhlDlIb0+wQK7lbur7AeQJ+l+7l6eU8KRSLB9szAOtiUUDbmZMGmqBN3KDTQAfwD3OaYFd+v4FFoaQLGmNz75DkG46rYmlsehG1+7wHAnO3E/kQhwD+0wi/N8K9Ol7QXkeplZ8XCKaZnWtqI+dF7YOJeKJzDEpsaEAbh3FOmYWxhNKXfteUypVNKyD3TEW2LZMspJYjIn4P2k4Y8nE8I4FmJzQdx6xss5LTd/zhmNQE8rJrONY1ubEsfBiEI/tuzx2k+PU6lPfEi9jy6niyBVIlxVJ375P2tQ4V/lulwr3S23QvmbfZ69/bivWvuRzlVfp+1IF5O9lR3q4huudX/8KMACxD9WhBIAj6QAAAABJRU5ErkJggg==\" transform=\"matrix(1 0 0 1 10 10.5)\"></image><g><path class=\"st0\" d=\"M73.2,28.5h-15l6.3-6.2c0.5-0.5,0.5-1.3,0-1.8c-0.5-0.5-1.3-0.6-1.8-0.1l-8.1,8h-8.3l-8.1-8c-0.5-0.5-1.3-0.5-1.8,0c-0.5,0.5-0.5,1.3,0,1.8l6.3,6.2H26.8c-4.3,0-7.8,3.7-7.8,7.9v23.2c0,4.3,3.5,7.8,7.8,7.8h4.3c0.2,2,1.8,3.4,3.8,3.4s3.6-1.4,3.8-3.4h23.3c0.2,2,1.8,3.4,3.8,3.4c2,0,3.6-1.4,3.8-3.4h3.5c4.3,0,7.8-3.5,7.8-7.8V36.4C81,32.2,77.5,28.5,73.2,28.5z\"/></g></g><path style=\"fill:#5a5a5a;\" d=\"M45.9,38.2L59,45.9c1.7,1,1.7,3.5,0,4.5l-13.1,7.7c-1.7,1-3.9-0.3-3.9-2.3V40.4C42,38.4,44.2,37.2,45.9,38.2z\"/></svg><img class=\"'+\nd+'-video-state-buff\" src=\"//static.hdslb.com/images/loading.gif\" /></div><div class=\"'+d+'-video-panel\"></div><div class=\"'+d+'-video-subtitle\"></div><div class=\"'+d+'-video-bas-danmaku\"></div><div class=\"'+d+'-video-adv-danmaku\"></div><div class=\"'+d+'-video-danmaku\"></div><div class=\"'+d+'-video\"></div></div><div class=\"'+d+'-video-control\"></div><div class=\"'+d+'-video-sendjumpbar\"></div></div>'};g.prototype.init=function(){var d=this,c=this.prefix,b=this.player,e=b.container;e.html(this.TPL());\nthis.container=e;this.playerArea=this.container.find(\".\"+c+\"-area\");this.playerWrap=this.playerArea.find(\".\"+c+\"-video-wrap\");this.recommend=this.playerArea.find(\".\"+c+\"-video-recommend\");this.videoWrp=this.playerArea.find(\".\"+c+\"-video\");this.videoPanel=this.playerArea.find(\".\"+c+\"-video-panel\");this.endingpanel=this.playerArea.find(\".\"+c+\"-ending-panel\");this.videoState=this.playerArea.find(\".\"+c+\"-video-state\");this.subtitle=this.playerArea.find(\".\"+c+\"-video-subtitle\");this.basDanmaku=this.playerArea.find(\".\"+\nc+\"-video-bas-danmaku\");this.advDanmaku=this.playerArea.find(\".\"+c+\"-video-adv-danmaku\");this.danmaku=this.playerArea.find(\".\"+c+\"-video-danmaku\");this.record=this.playerArea.find(\".\"+c+\"-video-record\");this.controller=this.playerArea.find(\".\"+c+\"-video-control\");this.sendjumpbar=this.playerArea.find(\".\"+c+\"-video-sendjumpbar\");this.suspensionbar=this.playerArea.find(\".\"+c+\"-video-suspension\");this.sharepanel=this.playerArea.find(\".\"+c+\"-video-share-panel\");this.pausepanel=this.playerArea.find(\".\"+\nc+\"-video-pause-panel\");this.player.config.ad&&(this.adTime=$('<div class=\"'+c+'-ad-wrap\">\\u5e7f\\u544a\\uff1a\\u5269\\u4f59<span class=\"'+c+'-ad-wrap-time\">-</span>\\u79d2</div>').appendTo(this.playerWrap),this.skipTime=this.adTime.find(\".\"+c+\"-ad-wrap-time\"),this.player.config.skipable&&(this.skip=$('<div class=\"'+c+'-ad-skip\" name=\"ad_skip\">\\u5e7f\\u544a\\u4e0d\\u597d\\u770b\\uff0c\\u6211\\u9009\\u62e9\\u8df3\\u8fc7></div>').appendTo(this.playerWrap).click(function(){\"function\"===typeof d.player.config.afterplay&&\nd.player.config.afterplay()})));b.bind(h.a.EVENT.VIDEO_DESTROY,function(b,c){d.destroy(c)});return this};g.prototype.destroy=function(d){this.container&&this.container.unbind().empty();d&&this.container.remove()};return g}();v.a=p},function(p,v,n){var h=n(0);p=function(){function g(d,c){this.container=c;this.player=d;this.prefix=d.prefix;this.init();this.player.eventLog.log(\"LoadingPanel Initialized\",0)}g.prototype.TPL=function(){var d=this.prefix;return'<div class=\"'+d+'-video-panel-image\"><div class=\"'+\nd+'-video-panel-image-detail\"></div></div><div class=\"'+d+'-video-panel-text\"></div>'};g.prototype.init=function(){this.stages=[[\"\\u64ad\\u653e\\u5668\\u521d\\u59cb\\u5316\",!1],[\"\\u52a0\\u8f7d\\u7528\\u6237\\u914d\\u7f6e\",!1],[\"\\u52a0\\u8f7d\\u89c6\\u9891\\u5730\\u5740\",!1],[\"\\u52a0\\u8f7d\\u89c6\\u9891\\u5185\\u5bb9\",!1]];this.container.html(this.TPL());this.contentbox=this.container.find(\".\"+this.prefix+\"-video-panel-text\")};g.prototype.ready=function(d){this.stages[d][1]||(this.stages[d][1]=!0,this.contentbox.append('<div class=\"'+\nthis.prefix+'-video-panel-row\" stage=\"'+d+'\">'+this.stages[d][0]+\"...</div>\"),this.player.trigger(h.a.EVENT.VIDEO_INITIALIZING,d,\"start\",!0))};g.prototype.complete=function(d,c,b,e){this.stages[d][1]&&\"undefined\"===typeof this.stages[d][2]&&(this.contentbox.find('[stage=\"'+d+'\"]').append((c?\"[\\u5b8c\\u6210]\":\"[\\u5931\\u8d25] \")+(b||\"\")),this.stages[d][2]=!!c,this.player.trigger(h.a.EVENT.VIDEO_INITIALIZING,d,\"end\",c));for(d=0;d<this.stages.length;d++)if(!this.stages[d][2])return!1;this.player.initialized=\n!0;this.player.trigger(h.a.EVENT.VIDEO_INITIALIZED);var f=this;setTimeout(function(){f.container.hide()})};g.prototype.info=function(d){this.contentbox.append('<div class=\"'+this.prefix+'-video-panel-row\">'+d+\"</div>\")};g.prototype.reset=function(d){this.contentbox.find('[stage=\"'+d+'\"]').removeAttr(\"stage\");this.stages[d][1]=!1;delete this.stages[d][2]};g.prototype.hide=function(){this.container.hide()};g.prototype.destroy=function(){};return g}();v.a=p},function(p,v,n){var h=n(0),g=n(3);p=n(8);\nvar d=n.n(p),c=n(2),b=n(70);n=function(){function e(b,c){this.initialized=!1;this.endingPanelFlag=\"video-state-ending-panel-flag\";this.player=b;this.prefix=this.player.prefix;this.aid=this.player.config.aid;this.bvid=this.player.config.bvid;this.pgcType=this.player.config.seasonType;this.shareConfig=$.extend({},{title:b.window.document.title,description:$(b.window.document).find('meta[name=\"description\"]').attr(\"content\"),pic:\"\",shortTitle:b.window.document.title,summary:\"\",weiboTag:\"#bilibili#\"});\nthis._setState(\"none\");this._globalEvents()}e.prototype._globalEvents=function(){var b=this,c=this.player;$(c.template.container).on(\"video_media_before_seek\"+c.config.namespace,function(){b.hide()})};e.prototype.init=function(){var b=this,c=this,d=this.prefix;this.container=$('<div class=\"'+d+'-ending-panel\"></div>');this.container.html(this.TPL());this.container.click(function(b){b.stopPropagation();$(b.target).is(c.container)&&(c.player.template.videoWrp.trigger(\"click\"),c.hide())});this.player.video.addEventListener(\"play\",\nfunction(){c.hide()});this.template={container:this.container,suspension:this.container.find(\".\"+d+\"-ending-panel-suspension\"),title:this.container.find(\".\"+d+\"-ending-panel-suspension-title\"),jumpBtn:this.container.find(\".\"+d+\"-ending-panel-suspension-jump-btn\"),background:this.container.find(\".\"+d+\"-ending-panel-blur-img\"),box:this.container.find(\".\"+d+\"-ending-panel-box\"),videos:this.container.find(\".\"+d+\"-ending-panel-box-videos\"),functions:this.container.find(\".\"+d+\"-ending-panel-box-functions\"),\nhead:0<this.container.find(\".\"+d+\"-upinfo-head\").length?this.container.find(\".\"+d+\"-upinfo-head\"):this.container.find(\".\"+d+\"-pgcinfo-head\"),name:0<this.container.find(\".\"+d+\"-upinfo-name\").length?this.container.find(\".\"+d+\"-upinfo-name\"):this.container.find(\".\"+d+\"-pgcinfo-name\"),functionBtn:0<this.container.find(\".\"+d+\"-upinfo-icon\").length?this.container.find(\".\"+d+\"-upinfo-icon\"):this.container.find(\".\"+d+\"-pgcinfo-follow\"),coin:0<this.container.find(\".\"+d+\"-upinfo-span.coin\").length?this.container.find(\".\"+\nd+\"-upinfo-span.coin\"):this.container.find(\".\"+d+\"-pgcinfo-span.coin\"),qrcode:this.container.find(\".\"+d+\"-upinfo-span.qrcode\"),downloadLayout:this.container.find(\".\"+d+\"-upinfo-span.download-layout\"),download:this.container.find(\".\"+d+\"-upinfo-span.download\"),praise:0<this.container.find(\".\"+d+\"-upinfo-praise\").length?this.container.find(\".\"+d+\"-upinfo-praise\"):this.container.find(\".\"+d+\"-pgcinfo-praise\"),restart:0<this.container.find(\".\"+d+\"-upinfo-span.restart\").length?this.container.find(\".\"+d+\n\"-upinfo-span.restart\"):this.container.find(\".\"+d+\"-pgcinfo-span.restart\"),share:0<this.container.find(\".\"+d+\"-upinfo-span.share\").length?this.container.find(\".\"+d+\"-upinfo-span.share\"):this.container.find(\".\"+d+\"-pgcinfo-span.share\"),report:0<this.container.find(\".\"+d+\"-upinfo-report\").length?this.container.find(\".\"+d+\"-upinfo-report\"):this.container.find(\".\"+d+\"-pgcinfo-report\")};this.player.userLoadedCallback(function(){b.getRecommendInfo();b.getAuthorInfo();\"function\"===typeof b.shareConfig.callback&&\nb.shareConfig.callback();b._getImage(b._generateqrcode.bind(b));b.bindEvents();1160<=b.player.template.controller.outerWidth()?b.resize(!0):b.resize()})};e.prototype.TPL=function(){var b=this.prefix,d=this.player.user.status().title;return'\\n            <div class=\"'+b+'-ending-panel-suspension\">\\n                <div class=\"'+b+'-ending-panel-suspension-title\">'+c.a.htmlEncode(d)+'</div>\\n                <div class=\"'+b+'-ending-panel-suspension-jump-btn\">\\u524d\\u5f80bilibili</div>\\n            </div>\\n            <div class=\"'+\nb+'-ending-panel-box\">\\n                '+this.getHeaderPanel()+'\\n                <div class=\"'+b+'-ending-panel-box-videos clearfix\"></div>\\n            </div>\\n            '};e.prototype.show=function(){this.initialized||(this.init(),this.container.appendTo(this.player.template.playerWrap),this.initialized=!0);if(this.player.state.video_state===h.a.V_BUFF||this.player.state.video_state===h.a.V_PLAY)return!1;this._setState(\"show\");this.container.addClass(\"show\");this.template.box.addClass(\"box-show\");\nthis.player.suspension.hide();this.player.template.playerArea.addClass(this.endingPanelFlag);this.player.trackInfoPush(\"end_recommend_show\")};e.prototype.hide=function(){if(!this.initialized)return!1;this._setState(\"none\");this.player.template.playerArea.removeClass(this.endingPanelFlag);this.template.box.removeClass(\"box-show\");this.container.removeClass(\"show\");this.player.suspension.show()};e.prototype.toggle=function(){this.initialized?this.container.is(\":visible\")?this.hide():this.show():this.show()};\ne.prototype.bindEvents=function(){var b=this,c=this,d=this.prefix,e=\".\"+d+\"-ending-panel-box-recommend\",u=\".\"+d+\"-ending-panel-box-recommend-cover-title\",t=[\"-webkit-\",\"-moz-\",\"-ms-\",\"\"],C=this.pgcType?14:18,h=g.a.EXTERNAL_PLAYER_JUMP.replace(/<bvid>/,\"\"+(c.bvid||\"av\"+c.aid));this.template.download.on(\"click\",function(){window.open(\"https://app.bilibili.com\");c.player.trackInfoPush(\"offsite_endpage_downloadapp_click\");return!1});this.template.download.on(\"mouseenter\",function(){c.player.trackInfoPush(\"offsite_endpage_downloadapp_hover\")});\nthis.template.jumpBtn.on(\"click\",function(){window.open(\"https://www.bilibili.com\")});this.template.title.on(\"click\",function(){window.open(h)});this.template.downloadLayout.on(\"mouseover\",function(){b.template.qrcode.addClass(\"show\");return!1});this.template.downloadLayout.on(\"mouseleave\",function(){b.template.qrcode.removeClass(\"show\");return!1});this.template.qrcode.on(\"click\",function(){window.open(\"https://app.bilibili.com\");c.player.trackInfoPush(\"offsite_endpage_downloadapp_code_click\")});\nthis.template.restart.on(\"click\",function(){c.player.seek(0);c.hide();c.player.suspension.show();c.player.trackInfoPush(\"offsite_endpage_replay_click\")});this.template.share.on(\"click\",function(){c.container.removeClass(\"show\");c.player.sharepanel.share.show();c.player&&c.player.trackInfoPush(\"offsite_endpage_share_click\")});this.template.videos.on(\"mouseenter\",e,function(){var b=$(this).find(u),c=C-b.height(),d=\"\";c&&(t.forEach(function(b){d+=b+\"transform:\"+b+\"translate(0, \"+c+\"px);\"}),b.css(\"cssText\",\nd))}).on(\"mouseleave\",e,function(){$(this).find(u).removeAttr(\"style\")});this.template.videos.on(\"click\",e,function(){c.player.trackInfoPush(\"offsite_endpage_video_click\")})};e.prototype._generateqrcode=function(b){var c=this.container.find(\".\"+this.prefix+\"-upinfo-span.qrcode\");this.qrcode=new d.a(c[0],b)};e.prototype._getImage=function(b){var c=new Image;c.src=\"//static.hdslb.com/player/images/ic_launcher.png\";var d={text:\"https://app.bilibili.com?source=offsite\",render:\"canvas\",size:140,mode:4,\nmSize:.2,quiet:2,minVersion:2,ecLevel:\"H\",fill:\"#626A6F\",background:\"#fff\",image:c};c.onload=function(){b(d)}};e.prototype.getHeaderPanel=function(){var b=this.prefix;return'\\n            <div class=\"'+b+'-ending-panel-box-functions\">\\n                <div class=\"'+b+'-upinfo-left\">\\n                    <div class=\"'+b+'-upinfo-head\"></div>\\n                    <div class=\"'+b+'-upinfo-icon\" name=\"end_btn_icon\"><span name=\"end_btn_icon\">UP</span></div>\\n                    <div class=\"'+b+'-upinfo-name\"></div>\\n                </div>\\n                <div class=\"'+\nb+'-upinfo-spans clearfix\">\\n                    <div class=\"'+b+'-upinfo-span share\" name=\"end_share\"><i class=\"'+b+'-iconfont icon-32share\" name=\"end_share\"></i><span class=\"'+b+'-share-text\">\\u5206\\u4eab</span></div>\\n                    <div class=\"'+b+'-upinfo-span restart\" name=\"end_replay\"><i class=\"'+b+'-iconfont icon-32replay\" name=\"end_replay\"></i><span class=\"'+b+'-restart-text\">\\u91cd\\u64ad</span></div>\\n                    <div class=\"'+b+'-upinfo-span download-layout\">\\n                        <div class=\"'+\nb+'-upinfo-span download\" name=\"end_download\">\\u4e0b\\u8f7dbilibili</div>\\n                        <div class=\"'+b+'-upinfo-span qrcode-mouse-area\" name=\"end_download\"></div>\\n                    </div>\\n                    <div class=\"'+b+'-upinfo-span qrcode\" name=\"end_qrcode\">\\n                        <div class=\"'+b+'-upinfo-span qrcode-text\">\\u66f4\\u591a\\u7cbe\\u5f69 \\u5c3d\\u5728bilibili App</div>\\n                    </div>\\n                </div>\\n            </div>\\n            '};e.prototype.getShareUrl=\nfunction(){return this.player.config.seasonType?this.player.window.location.protocol+this.player.extraParams.shareUrl:this.player.window.location.href};e.prototype.getAuthorInfo=function(){var b=this.player.user.status();b&&b.owner&&(this.authorInfo={mid:b.owner.mid,title:b.title,author:b.owner.name,description:b.desc,pic:b.pic,face:b.owner.face,allowFeed:b.allowFeed});this.updateFunctionInfo()};e.prototype.updateFunctionInfo=function(){var b=this,d=this.authorInfo;this.shareConfig.title=d.title+\n\" UP\\u4e3b: \"+d.author;this.shareConfig.shortTitle=this.shareConfig.title;this.shareConfig.description=this.shareConfig.title;this.shareConfig.summary=d.description;this.shareConfig.pic=c.a.relaceHttp(d.pic);var e=c.a.relaceHttp(d.face);var A='<a href=\"'+g.a.SPACE+d.mid+'\" target=\"_blank\">'+d.author+\"</a>\";this.allowFeed=d.allowFeed;this.template.head.html('<a href=\"//space.bilibili.com/'+d.mid+'\" target=\"_blank\"><img src=\"'+e+'\" /></a>').addClass(\"up-avatar\");this.template.head.click(function(){b.player&&\nb.player.trackInfoPush(\"offsite_endpage_upavatar_click\")});this.template.name.html(A);this.template.name.click(function(){b.player&&b.player.trackInfoPush(\"offsite_endpage_upname_click\")})};e.prototype.getRecommendInfo=function(){var c=this;(new b.a({aid:c.player.config.aid,bvid:c.player.config.bvid})).getData({success:function(b){c.appendRecommendInfo(b)}})};e.prototype.appendRecommendInfo=function(b){var d=this.prefix,e=8,f=$([]);if(b&&b.length){for(var e=b.length<=e?b.length:e,g=0;g<e;g++){this.player.config.show_bv||\ndelete b[g].bvid;var t=$('<a href=\"//www.bilibili.com/video/'+(b[g].bvid||\"av\"+b[g].aid)+'?zw\" name=\"recommend_video\" class=\"'+d+'-ending-panel-box-recommend\" target=\"_blank\" ><div class=\"'+d+'-ending-panel-box-recommend-img\" name=\"recommend_video\" style=\"background-image:url('+(b[g].pic?b[g].pic.replace(\"http://\",\"//\"):\"\")+')\"></div><div class=\"'+d+'-ending-panel-box-recommend-cover\" name=\"recommend_video\"><div class=\"'+d+'-ending-panel-box-recommend-cover-title\" name=\"recommend_video\">'+c.a.htmlEncode(b[g].title)+\n\"</div></div></a>\"),f=f.add(t)}this.template.videos.append(f)}};e.prototype._setState=function(b){this.state=b};e.prototype._getState=function(){return this.state};e.prototype.getState=function(){return this._getState()};e.prototype.setState=function(b){this._setState(b)};e.prototype._resize=function(b){if(this.template){b=this.player.template.container.outerWidth();var c=this.player.template.container.outerHeight();this.template.box.css({transform:\"scale(\"+Math.min(b/1160,c/544)+\")\"})}};e.prototype.resize=\nfunction(b){void 0===b&&(b=!1);this._resize(b)};e.prototype.destroy=function(b){this.player.template.endingpanel.off();b&&this.container.remove()};return e}();v.a=n},function(p,v,n){p=n(4);var h=n(3),g=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var d 